  var module_7315406 = (function() {
    MicroModal.init({
  disableScroll: true,
  onShow: lockScreen (), 
  onClose: unlockScreen()
});

function getScrollbarWidth() {
    if ($(document).height() <= $(window).height()) {
      return 0;
    }
    var outer = document.createElement('div');
    var inner = document.createElement('div');
    var widthNoScroll;
    var widthWithScroll;

    outer.style.visibility = 'hidden';
    outer.style.width = '100px';
    document.body.appendChild(outer);

    widthNoScroll = outer.offsetWidth;

    // Force scrollbars
    outer.style.overflow = 'scroll';

    // Add inner div
    inner.style.width = '100%';
    outer.appendChild(inner);

    widthWithScroll = inner.offsetWidth;

    // Remove divs
    outer.parentNode.removeChild(outer);

    return widthNoScroll - widthWithScroll;
}
/**
   * Locks the screen
   * @private
   */
function lockScreen() {
    if (IS_IOS) {
      return;
    }
    var $html = $('html');
    var paddingRight;
    var $body;
    var $topNav = $('#menu-color');

      $body = $(document.body);
      // Zepto does not support '-=', '+=' in the `css` method
      paddingRight = parseInt($body.css('padding-right'), 10) + getScrollbarWidth();
      $body.css('padding-right', paddingRight + 'px');
      $topNav.css('padding-right', paddingRight + 'px');
}

function unlockScreen() {
    if (IS_IOS) {
      return;
    }

    var $html = $('html');
    var paddingRight;
    var $body;
    var $topNav = $('#menu-color');

      $body = $(document.body);
      // Zepto does not support '-=', '+=' in the `css` method
      paddingRight = parseInt($body.css('padding-right'), 10) - getScrollbarWidth();
      $body.css('padding-right', paddingRight + 'px');
      $topNav.css('padding-right', paddingRight + 'px');
}

const observer = lozad(); 
observer.observe();



// Navigation

var leinwand= $(".leinwand");
var product_subcontent = $("#product-subcontent");
var solutions_subcontent = $("#solutions-subcontent");
var customer_subcontent = $("#customer-subcontent");
var eco_subcontent =  $("#eco-subcontent");
var res_subcontent =  $("#res-subcontent");
var comp_subcontent = $("#comp-subcontent");
var menuItemLink = $(".topNav li.mm a");
var topNavWrap = $('#topNav-wrap');

var header = $(".clearNav");
var leinwandStop;


function resetSelection(elemArr, className){
  for(var i = elemArr.length; i--;){
    elemArr[i].classList.remove(className);
  }     
}

// Delayed MM-Reaction
function lGo(){
 leinwandStop = setTimeout(function(){leinwand.slideDown(150);}, 150);
}

// Cancel Reaction
function lStop(){
    clearTimeout(leinwandStop);
    leinwand.finish().slideUp(0);
}
  
  $("#prod-li a").on("mouseenter", function (e) {
    //setting active state for menu point
    menuItemLink.removeClass("active");
    $(".topNav #prod-li a").addClass("active"); 
    if( !leinwand.is(':visible') ){
      lGo();   
    }      
    calcMouseDirection(e, this,"#product-subcontent");
  });

  $("#sol-li a").on("mouseenter", function (e) {
    //setting active state for menu point
    menuItemLink.removeClass("active");
    $(".topNav #sol-li a").addClass("active"); 
    
    if( !leinwand.is(':visible') ){
      lGo();   
    }      
    calcMouseDirection(e, this,"#solutions-subcontent");
  });

  
   $("#cust-li a").on("mouseenter", function (e) {
  
    //setting active state for menu point
    menuItemLink.removeClass("active");
    $(".topNav #cust-li a").addClass("active");
    // show leinwand with delay if not visible   
  
    if( !leinwand.is(':visible') ){
       lGo();
    }
      
    calcMouseDirection(e, this,"#customer-subcontent");
  });
  
  

  $("#eco-li a").on("mouseenter", function (e) {

    //setting active state for menu point
    menuItemLink.removeClass("active");
    $(".topNav #eco-li a").addClass("active");

    if( !leinwand.is(':visible') ){
       lGo();
    }
    
    calcMouseDirection(e, this,"#eco-subcontent");
  });

  $("#res-li a").on("mouseenter", function (e) {

    //setting active state for menu point
    menuItemLink.removeClass("active");
    $(".topNav #res-li a").addClass("active");
    if( !leinwand.is(':visible') ){
       lGo();
    }   
    calcMouseDirection(e, this,"#res-subcontent");
  });


  $("#comp-li a").on("mouseenter", function (e) {

    //setting active state for menu point
    menuItemLink.removeClass("active");
    $(".topNav #comp-li a").addClass("active");
    if( !leinwand.is(':visible') ){
       lGo();
    }    
    calcMouseDirection(e, this,"#comp-subcontent");
  });


  
topNavWrap.on("mouseleave", function(e){   
      console.log("topnavwrap mouseleave");
      leinwand.finish().slideUp(0);
      lStop();
      menuItemLink.removeClass("active");
      $(".mmItem-wrap").removeClass("isActiveSubContent");    
}); 


var calcMouseDirection = function(ev, obj, subCont) {

    // test which element is visible
    var newActiveElement = $(subCont+" .mmItem");
    var visibleSubContentID = $(".isActiveSubContent").attr('id');
    var visibleSubContentElement = $("#"+visibleSubContentID+" .mmItem");
  
    if("#"+visibleSubContentID != subCont) {

      if(visibleSubContentID != undefined ){
        //delete old active classes
        $(".mmItem-wrap").removeClass("isActiveSubContent"); 
          visibleSubContentElement.css({ "display":"none", "opacity": "0" });
         $("#"+visibleSubContentID).css("display","none");    


        // trans in new element
        // add new active class

        $(subCont).addClass("isActiveSubContent");
        $(subCont).css("display","block");        
         newActiveElement.css({
           "display":"block", 
           "-webkit-animation": "fadeItemIn",
            "animation": "fadeItemIn",
            "-webkit-animation-duration": ".4s",
            "animation-duration": ".4s",
            "-webkit-animation-fill-mode": "forwards",
            "animation-fill-mode": "forwards",
            "-webkit-animation-timing-function": "ease-in",
            "animation-timing-function": "ease-in"
                              });

      }

      // trans in new element
      // add new active class
      else{
        $(subCont).addClass("isActiveSubContent");
         $(subCont).css("display","block");
         newActiveElement.css({
           "display":"block", 
           "-webkit-animation": "fadeItemIn",
            "animation": "fadeItemIn",
            "-webkit-animation-duration": "0s",
            "animation-duration": "0s",
            "-webkit-animation-fill-mode": "forwards",
            "animation-fill-mode": "forwards",
            "-webkit-animation-timing-function": "ease-in",
            "animation-timing-function": "ease-in"
                              });

      }
    }
  
}





var scrollNavTrigger = document.getElementById('scrollNavTrigger');

var scrollNavObserver = new IntersectionObserver(function(entries){
  var topNavWrap = document.getElementById('topNav-wrap');
  var header = document.getElementById('menu-color');
  //var header = $(".clearNav");
  
  if(entries[0].isIntersecting){
    console.log('snT on screen');
    if(header.classList.contains('whiteNav')){
       header.classList.remove("whiteNav");
       topNavWrap.classList.remove('small');
       header.classList.add('clearNav');
    } 
  } else {
   console.log('snT not on screen');
    if(header.classList.contains('clearNav')){
      header.classList.remove('clearNav');
    };
    header.classList.add("whiteNav");
    topNavWrap.classList.add('small');
  }
});

scrollNavObserver.observe(scrollNavTrigger);




const startNowBtn = document.getElementById('seeDemo-top');
startNowBtn.addEventListener('click', trackOpenDemoPopUp)

// 'true' tracks this event on every page view
function trackOpenDemoPopUp() {
  console.log('popUp')
_hsq.push([
  'trackCustomBehavioralEvent',
  {
    name: "pe2570476_click_on_start_now__top_navigation_",
    properties: {
      // give each property a value so we know what they mean
      
    },
  },
]);
}
  })();
