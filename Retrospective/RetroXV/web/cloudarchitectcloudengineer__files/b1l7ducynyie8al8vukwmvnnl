/*! For license information please see Advice.js.LICENSE.txt */
(()=>{var e={407:(e,t,n)=>{var i="Expected a function",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,c=parseInt,l="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,u="object"==typeof self&&self&&self.Object===Object&&self,d=l||u||Function("return this")(),h=Object.prototype.toString,p=Math.max,f=Math.min,m=function(){return d.Date.now()};function g(e,t,n){var r,o,s,a,c,l,u=0,d=!1,h=!1,g=!0;if("function"!=typeof e)throw new TypeError(i);function b(t){var n=r,i=o;return r=o=void 0,u=t,a=e.apply(i,n)}function E(e){return u=e,c=setTimeout(w,t),d?b(e):a}function _(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=s}function w(){var e=m();if(_(e))return S(e);c=setTimeout(w,function(e){var n=t-(e-l);return h?f(n,s-(e-u)):n}(e))}function S(e){return c=void 0,g&&r?b(e):(r=o=void 0,a)}function T(){var e=m(),n=_(e);if(r=arguments,o=this,l=e,n){if(void 0===c)return E(l);if(h)return c=setTimeout(w,t),b(l)}return void 0===c&&(c=setTimeout(w,t)),a}return t=y(t)||0,v(n)&&(d=!!n.leading,s=(h="maxWait"in n)?p(y(n.maxWait)||0,t):s,g="trailing"in n?!!n.trailing:g),T.cancel=function(){void 0!==c&&clearTimeout(c),u=0,r=l=o=c=void 0},T.flush=function(){return void 0===c?a:S(m())},T}function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=s.test(e);return n||a.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError(i);return v(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),g(e,t,{leading:r,maxWait:t,trailing:o})}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";function e(e,t){if(!e)return null;let n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;for(;e&&!n.call(e,t);)e=e.parentElement;return e}function t(e){"complete"===document.readyState?e():window.addEventListener("load",(()=>{setTimeout(e)}))}class i{constructor(){this._unloadCallbacks=[],this._initEventListener()}_initEventListener(){window.addEventListener("beforeunload",(e=>{for(let t=0;t<this._unloadCallbacks.length;t++){if(!1===this._unloadCallbacks[t].call(null,e))break}}))}addUnloadCallback(e){e instanceof Function&&this._unloadCallbacks.push(e)}}const r=function(){let e;return{getInstance:function(){return e||(e=new i),e}}}();class o{constructor(){this._pagehideCallbacks=[],this._initEventListener()}_initEventListener(){window.addEventListener("pagehide",(e=>{for(let t=0;t<this._pagehideCallbacks.length;t++)this._pagehideCallbacks[t].call(null,e)}))}addPagehideCallback(e){e instanceof Function&&this._pagehideCallbacks.push(e)}}const s=function(){let e;return{getInstance:function(){return e||(e=new o),e}}}();function a(e){return null==e||"object"!=typeof e?[]:Array.prototype.slice.call(e)}function c(e){const t=e.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight,i=window.innerWidth||document.documentElement.clientWidth,r=t.top<=n&&t.top+t.height>=0,o=t.left<=i&&t.left+t.width>=0;return r&&o}function l(){let{scrollTop:e=scrollY,clientHeight:t=window.innerHeight,scrollHeight:n=document.body.scrollHeight}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return r?e<=t*i:e>=n-(t+t*i)}function u(e,t,n){const i=new RegExp("([\\?&])".concat(n?t:encodeURIComponent(t),"=([^&#]*)")).exec(e);return i&&(n?i[2]:decodeURIComponent(i[2]))}function d(e,t){return h(e,"trk",t)}function h(e,t,n,i){if(!e||!t)throw new Error("Required param of addQueryParam missing: url = ".concat(e,",  key = ").concat(t));t=encodeURIComponent(t),n=encodeURIComponent(n);const r=u(e,t,!0);if(r)return i?e.replace(r,n):e;{const i=e.indexOf("?");let[r,o]=e.split("#"),s="&";return i<0?s="?":i===e.length-1&&(s=""),o&&(o="#".concat(o)),"".concat(r).concat(s).concat(t,"=").concat(n).concat(o||"")}}function p(e,t,n){var i=this;if("function"!=typeof e)throw new TypeError("Expected a function.");let r;return function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];const c=()=>{r=null,n||e.apply(i,s)},l=n&&!r;clearTimeout(r),r=setTimeout(c,t),l&&e.apply(i,s)}}function f(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t&&t[2]}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=document.createEvent("CustomEvent");i.initCustomEvent(t,!0,!0,n),e.dispatchEvent(i)}function g(){let e,t;const n=new Promise(((n,i)=>{e=n,t=i}));return n.resolve=e,n.reject=t,n}function v(e){return void 0!==e.msHidden?e.msHidden:void 0!==e.hidden?e.hidden:void 0}function y(e){return"string"!=typeof e?null:e.split("?")[0]}var b=Object.freeze({__proto__:null,closest:e,onload:t,UnloadHandler:r,PagehideHandler:s,makeArray:a,outerWidth:function(e){let t=e.offsetWidth,n=getComputedStyle(e);return t+=(parseInt(n.marginLeft,10)||0)+(parseInt(n.marginRight,10)||0),t},elementInViewport:c,hasElementScrolledToThreshold:l,getQueryParam:u,addTrackingCode:d,addQueryParam:h,debounce:p,getCookie:f,dispatchCustomEvent:m,getDeferredPromise:g,isDocumentHidden:v,stripQueryParams:y,getUrlWithQueryParamObject:function(e,t){if(!e||!t)return e;let n=e;for(const e of Object.keys(t))n=h(n,e,t[e],!0);return n},getQueryParameters:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;const t={};if(e){const n=e.split("?")[1],i=n&&n.split("&");i&&i.forEach((e=>{const n=e.split("=");t[n[0]]=decodeURIComponent(n[1])}))}return t}});function E(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.querySelector('meta[name="pageKey"]'),i=e.getElementById("config"),r=i&&"true"===i.dataset.disableJsbeaconPagekeySuffix;return n&&n.content?"".concat(n.content).concat(r||t.skipSuffix?"":"_jsbeacon"):""}function _(e){let t=e.querySelector('meta[name="linkedin:pageTag"]');return t&&t.content||""}function w(){var e,t;const n=null===(e=window.atob(f("li_gp")))||void 0===e||null===(t=e.split(";")[2])||void 0===t?void 0:t[0];return!!n&&!parseInt(n)}function S(e){let t=e.querySelector('meta[name="locale"]');return t&&t.content||""}function T(e){let t=e.domain;return t?t.split(".").slice(-2).join("."):""}function C(e){return e&&'"'===e.charAt(0)&&'"'===e.charAt(e.length-1)?e.slice(1,-1):e}var k=Object.freeze({__proto__:null,getPageKey:E,getPageTag:_,getLiSugrCookie:function(){return f("li_sugr")},getGuestRetargetingOptOut:w,getLocale:S,getDomain:T,trimDoubleQuotes:C});const L={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ESCAPE:"Escape",ENTER:"Enter",SPACEBAR:" ",TAB:"Tab"},I={Down:L.ARROW_DOWN,Right:L.ARROW_RIGHT,Left:L.ARROW_LEFT,Up:L.ARROW_UP,Esc:L.ESCAPE,Spacebar:L.SPACEBAR,Tab:L.TAB};function A(e){return I[e]||e}const x="click",O="keydown",R="focusEl";class P{constructor(e,t,n){let{mainButton:i,closeButton:r}=n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)throw Error("An element must be provided to Collapsible");if(!t)throw Error("An expandable element must be provided to Collapsible");if(!i)throw Error("A main button element must be provided to Collapsible");this.el=e,this.expandableEl=t,this._isList=["UL","OL","DL"].includes(this.expandableEl.tagName);const{isOpen:s=!1}=o;this.isOpen=s,this.mainButton=i,this.closeButton=r,this.buttons=[i],this._isList&&this.el.addEventListener("keyup",(e=>this._onKeyUp(e))),this.expandableEl.addEventListener(O,(e=>this._onKeyDown(e))),this.mainButton.addEventListener(x,(e=>this.closeButton?this._open(e):this._toggle(e))),this.mainButton.addEventListener(O,(e=>this._onButtonKeyDown(e))),this.closeButton&&(this.closeButton.addEventListener(x,(()=>this.close())),this.closeButton.addEventListener(O,(e=>this._onButtonKeyDown(e))),this.buttons.push(this.closeButton))}get isList(){return this._isList}_toggle(e){this.isOpen?this.close():this._open(e)}_onButtonKeyDown(e){switch(A(e.key)){case L.ENTER:case L.SPACEBAR:e.preventDefault(),this.isOpen?this.close():this._open(e);break;case L.ARROW_UP:this.isOpen||this._open(e);break;case L.ARROW_DOWN:this.isOpen&&this.close()}}_onKeyUp(e){A(e.key)===L.SPACEBAR&&e.preventDefault()}_onKeyDown(t){const n=A(t.key);if(n===L.ESCAPE&&this.isOpen)this.close();else if(this._isList){let i;switch(n){case L.SPACEBAR:m(t.target,x);break;case L.ARROW_LEFT:case L.ARROW_UP:i=e(t.target,"li");let n=i.previousElementSibling;n&&m(n,R);break;case L.ARROW_RIGHT:case L.ARROW_DOWN:i=e(t.target,"li");let r=i.nextElementSibling;r&&m(r,R)}}}_open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isOpen){const{key:t}=e;this.isOpen=!0,this.buttons.forEach((e=>e.setAttribute("aria-expanded",this.isOpen))),m(this.el,"open",{key:t})}}close(){let{shouldReturnFocusToTrigger:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isOpen&&(this.isOpen=!1,this.buttons.forEach((e=>e.setAttribute("aria-expanded",this.isOpen))),m(this.el,"close"),e&&this.mainButton.focus())}}let N,M;const D=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([disabled]):not([tabindex^="-"]):not([type="hidden"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])'],U=[...D,'[tabindex]:not([tabindex^="-"]):not([disabled])'].join(","),q=[...D,"[tabindex]:not([disabled])"].join(",");function B(e){const t=window.getComputedStyle(e);return"hidden"===t.visibility||"none"===t.display}function F(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.documentElement,i=arguments.length>2?arguments[2]:void 0;return e===n?!B(e):i&&i.get(e)?i.get(e):(B(e)?t=!1:e.parentNode&&(t=F(e.parentNode,n,i)),i&&i.set(e,t),t)}const j={POLITE:"polite",ASSERTIVE:"assertive"};function H(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:j.POLITE;N&&(N.removeAttribute("aria-hidden"),N.setAttribute("aria-live",j.POLITE),N.textContent="",N.textContent=e,N.setAttribute("aria-live",t),clearTimeout(M),M=setTimeout((()=>{N.removeAttribute("aria-live"),N.setAttribute("aria-hidden","true")}),1e4))}class G{constructor(e){if(!e)throw new Error("An element must be passed in to Disable Background Navigation");this._container=e,this._hiddenElements=[]}disableBackground(){let e=this._container;for(;e&&e!==document.body&&e.parentElement;)this._hiddenElements=this._hiddenElements.concat([...e.parentElement.children].filter((t=>t!==e&&"true"!==t.getAttribute("aria-hidden")&&(t.setAttribute("aria-hidden",!0),!0)))),e=e.parentElement}enableBackground(){this._hiddenElements.forEach((e=>{e.removeAttribute("aria-hidden")})),this._hiddenElements=[]}}const z=["class","disabled","style","tabindex","type"];class W{constructor(e){if(!e)throw new Error("FocusTrap: No focus trap container passed in");this._container=e,this._observer=new MutationObserver((()=>this._setFirstAndLastFocusableEls(this._container))),this._handleKeyDown=this._focusTrap.bind(this),this._backgroundNavigationDisabler=new G(this._container)}init(){this._observer.observe(this._container,{attributeFilter:z,attributes:!0,childList:!0,subtree:!0}),this._setFirstAndLastFocusableEls(this._container),this._container.addEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.disableBackground()}tearDown(){this._observer.disconnect(),this._container.removeEventListener("keydown",this._handleKeyDown),this._backgroundNavigationDisabler.enableBackground()}_focusTrap(e){const{key:t,target:n}=e,i=A(t),r=i===L.TAB&&e.shiftKey;!r&&i===L.TAB&&n===this.lastFocusableEl?(this.firstFocusableEl.focus(),e.preventDefault()):r&&n===this.firstFocusableEl&&(this.lastFocusableEl.focus(),e.preventDefault())}_setFirstAndLastFocusableEls(e){const[t,n]=this._getFirstAndLastFocusableEls(e);this.firstFocusableEl=t,this.lastFocusableEl=n,setTimeout((()=>{this._hasFocusBeenDropped()&&("-1"===e.getAttribute("tabindex")?e.focus():this.firstFocusableEl.focus())}),100)}_hasFocusBeenDropped(){const e=document.activeElement;return!e||e===document.body}_getFirstAndLastFocusableEls(e){const t=[...e.querySelectorAll(U)],n=new Map;let i,r,o=0,s=t.length-1;for(;(!i||!r)&&o<=s;){if(!i){const r=t[o];i=F(r,e,n)&&r,o++}if(!r){const i=t[s];r=F(i,e,n)&&i,s--}}return r=r||i,[i,r]}}const V=/.*(iPad|iPod|iPhone|Android|BB10|BlackBerry|IEMobile).*/;function K(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:navigator.userAgent;return!!e&&V.test(e)}const Y="collapsible-dropdown",Q=".".concat(Y,"__list"),X=".".concat(Y,"__button"),J=".".concat(Y,"__close-button"),Z="no-focus-ring";class ${constructor(e){let{getFocusItemFromListItem:t=(e=>e.querySelector(U)),elementToFocus:n,dropdownTriggerEl:i,dropdownContentEl:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("An element must be provided to CollapsibleDropdown");this.el=e,this.dropdownContentEl=r||this.el.querySelector(Q),this._closeButton=this.el.querySelector(J),this._isMobile=K();const o=this.dropdownContentEl.closest(".".concat(Y));if(this._isMobile&&o&&(this._focusTrap=new W(o)),!n){const e=this.dropdownContentEl===this.dropdownContentEl.parentElement.querySelector(U),t="-1"===this.dropdownContentEl.getAttribute("tabIndex");e||t||console.warn('elementToFocus not provided and the dropdown container is not focusable. Consider adding tabindex="-1" to:',this.dropdownContentEl)}this.elementToFocus=n||this.dropdownContentEl,this.dropdownTriggerEl=i||this.el.querySelector(X),this.hideClass="hidden",this.collapsible=new P(e,this.dropdownContentEl,{mainButton:this.dropdownTriggerEl}),this._handleBodyClick=this._handleBodyClick.bind(this),this._focusOutsideDropdown=this._focusOutsideDropdown.bind(this),this._leaveWindow=this._leaveWindow.bind(this),this._attachEventListeners(),this.collapsible.isList&&(this._getFocusItemFromListItem=t)}_attachEventListeners(){var e;this.el.addEventListener("open",(e=>this._showDropdownList(e))),this.el.addEventListener("close",(()=>this._hideDropdownList())),this.collapsible.isList&&this.dropdownContentEl.addEventListener("focusEl",(e=>this._manageFocus(e))),null===(e=this._closeButton)||void 0===e||e.addEventListener("click",(e=>this._handleCloseButtonClick(e)))}_manageFocus(e){const{target:t}=e;if(t&&this._getFocusItemFromListItem){const e=this._getFocusItemFromListItem(t);e&&e.focus()}}_handleBodyClick(e){this.el.contains(e.target)||this.collapsible.close({shouldReturnFocusToTrigger:!1})}_handleCloseButtonClick(e){var t;null===(t=e.stopPropagation)||void 0===t||t.call(e),this.collapsible.close({shouldReturnFocusToTrigger:!0})}_showDropdownList(e){window.addEventListener("blur",this._leaveWindow),this.dropdownContentEl.classList.remove(this.hideClass),this.elementToFocus.focus();const{key:t}=e&&e.detail;var n;(t?this.elementToFocus.classList.remove(Z):this.elementToFocus.classList.add(Z),document.addEventListener("mousedown",this._handleBodyClick),this._isMobile)?null===(n=this._focusTrap)||void 0===n||n.init():this.el.addEventListener("focusout",this._focusOutsideDropdown)}_hideDropdownList(){var e;this._isMobile?null===(e=this._focusTrap)||void 0===e||e.tearDown():this.el.removeEventListener("focusout",this._focusOutsideDropdown);document.removeEventListener("mousedown",this._handleBodyClick),window.removeEventListener("blur",this._leaveWindow),this.dropdownContentEl.classList.add(this.hideClass)}_focusOutsideDropdown(e){e.relatedTarget&&!this.el.contains(e.relatedTarget)&&this.collapsible.isOpen&&this.collapsible.close({shouldReturnFocusToTrigger:this._shouldReturnFocusToTrigger})}_leaveWindow(){this.collapsible.isOpen&&this.collapsible.close({shouldReturnFocusToTrigger:this._shouldReturnFocusToTrigger})}shouldReturnFocusToTrigger(e){this._shouldReturnFocusToTrigger=e}close(){this.collapsible.close({shouldReturnFocusToTrigger:this._shouldReturnFocusToTrigger})}}function ee(e){let{method:t="GET",headers:n={},sendCookies:i=!0,skipCsrfToken:r=!1,postData:o,isPemEnabled:s=!1,pemDegradationTrackingMetadata:a=[],pemEntityIds:c=[]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l={method:t,headers:n,body:null};if(!r){const e=f("JSESSIONID");e&&(l.headers["Csrf-Token"]=C(e))}i&&(l.credentials="include"),"POST"!==l.method&&"PUT"!==l.method||(l.body=o);const u=fetch(e,l),d=u.then((n=>n.ok||304===n.status?n.text().then((e=>(n.responseText=e,n))):n.text().then((i=>{const r=new Error("".concat(t," request for ").concat(e," has failed with status code ").concat(n.status));return n.responseText=i,r.response=n,Promise.reject(r)}))));return s&&(a.length?te(u,e,c,a):console.warn("Please set the value for the option pemDegradationTrackingMetadata when PEM is enabled.")),d}function te(e,t,n,i){try{window.tracking.then((r=>{window.pemTracking.then((o=>{o.trackFeatureDegradationsForFetch(t,n,i,e,r.state.currentPageInstance)}))}))}catch(e){}}class ne{constructor(e){if(!e)throw Error("An element must be provided to LanguageSelector");this._el=e,this.listEl=this._el.querySelector(".collapsible-dropdown__list"),this.dropdownTriggerEl=this._el.querySelector(".language-selector__button"),this.currentListItem=this.listEl.querySelector(".language-selector__link--selected"),this.collapsibleDropdown=new $(e,{dropdownTriggerEl:this.dropdownTriggerEl,elementToFocus:this.currentListItem}),this._attachCustomEventListeners()}_attachCustomEventListeners(){this.listEl.addEventListener("click",this._handleLocaleButtonClick.bind(this))}_handleLocaleButtonClick(e){return function(e){const t=C(f("bcookie")||""),n=function(e){let t="";return e.indexOf("linkedin.cn")>-1?t="https://www.linkedin.cn":e.indexOf("linkedin-ei.cn")>-1?t="https://www.linkedin-ei.cn":e.indexOf("linkedin-ei.com")>-1?t="https://www.linkedin-ei.com":e.indexOf("linkedin.com")>-1&&(t="https://www.linkedin.com"),t}(T(document));return ee("".concat(n,"/psettings/update-language/cors?csrfToken=").concat(encodeURIComponent(t)),{method:"POST",headers:{"Content-Type":"application/json"},postData:JSON.stringify({locale:e}),skipCsrfToken:!0})}(e.target.getAttribute("data-locale")).then((()=>{location.reload()}))}}var ie="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},re="Expected a function",oe=/^\s+|\s+$/g,se=/^[-+]0x[0-9a-f]+$/i,ae=/^0b[01]+$/i,ce=/^0o[0-7]+$/i,le=parseInt,ue="object"==typeof ie&&ie&&ie.Object===Object&&ie,de="object"==typeof self&&self&&self.Object===Object&&self,he=ue||de||Function("return this")(),pe=Object.prototype.toString,fe=Math.max,me=Math.min,ge=function(){return he.Date.now()};function ve(e,t,n){var i,r,o,s,a,c,l=0,u=!1,d=!1,h=!0;if("function"!=typeof e)throw new TypeError(re);function p(t){var n=i,o=r;return i=r=void 0,l=t,s=e.apply(o,n)}function f(e){return l=e,a=setTimeout(g,t),u?p(e):s}function m(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=o}function g(){var e=ge();if(m(e))return v(e);a=setTimeout(g,function(e){var n=t-(e-c);return d?me(n,o-(e-l)):n}(e))}function v(e){return a=void 0,h&&i?p(e):(i=r=void 0,s)}function y(){var e=ge(),n=m(e);if(i=arguments,r=this,c=e,n){if(void 0===a)return f(c);if(d)return a=setTimeout(g,t),p(c)}return void 0===a&&(a=setTimeout(g,t)),s}return t=be(t)||0,ye(n)&&(u=!!n.leading,o=(d="maxWait"in n)?fe(be(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=c=r=a=void 0},y.flush=function(){return void 0===a?s:v(ge())},y}function ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function be(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==pe.call(e)}(e))return NaN;if(ye(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ye(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(oe,"");var n=ae.test(e);return n||ce.test(e)?le(e.slice(2),n?2:8):se.test(e)?NaN:+e}var Ee=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new TypeError(re);return ye(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),ve(e,t,{leading:i,maxWait:t,trailing:r})},_e=Ee;const we=".loader",Se=".infinite-scroller__show-more-button",Te="loader--show",Ce="infinite-scroller__show-more-button--visible",ke=0,Le=10;class Ie{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window,{threshold:t=ke,scrollLoadLimit:n=Le,useDebounce:i=!1,wait:r=1e3,loadResults:o,onLoading:s=this._defaultOnLoading,onDoneLoading:a=this._defaultOnDoneLoading,loaderEl:c=document.querySelector(we),showMoreButtonEl:l=document.querySelector(Se),isReverse:u=!1,listEl:d,getFocusItemFromListItem:h=(e=>e.querySelector(q))}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!o)throw new Error("loadResults should be passed to the component");if(n<=0)throw new Error("scrollLoadLimit should be greater than 0, if you only need the button and not the scroller do not use this module");l&&!d&&console.error("A list element is required for accessibility focus if a showMoreButtonEl is present"),this.el=e,this.threshold=t,this.scrollLoadLimit=n,this.useDebounce=i,this.wait=r,this.loaderEl=c,this.onLoading=s,this.onDoneLoading=a,this.loadResults=o,this.showMoreButtonEl=l,this.isReverse=u,this.listEl=d,this._getFocusItemFromListItem=h,this.isLoading=!1,this.loadNumber=0,this._onScroll=this._onScroll.bind(this),this._onClick=this._onClick.bind(this),this._scrollListener=this.useDebounce?p(this._onScroll,this.wait):_e(this._onScroll,this.wait),this._attachScrollEventListener(),this._onScroll()}_defaultOnLoading(){this.isShowMoreButtonTheTrigger?this.showMoreButtonEl.disabled=!0:this.loaderEl&&this.loaderEl.classList.add(Te)}_defaultOnDoneLoading(){this.isShowMoreButtonTheTrigger?this.showMoreButtonEl.disabled=!1:this.loaderEl&&this.loaderEl.classList.remove(Te)}_onScroll(){!this.isLoading&&l(this.el,this.threshold,this.isReverse)&&(this.isLoading=!0,this.onLoading(),this.loadResults().finally((()=>{this.onDoneLoading(),this.isLoading=!1,++this.loadNumber>=this.scrollLoadLimit&&(this.removeInfiniteScroller(),this.showMoreButtonEl&&this._switchToShowMoreButton())})))}_onClick(){var e,t;const n=(null===(e=this.listEl)||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)||0;this.onLoading(),this.loadResults().finally((()=>{var e,t;if(this.onDoneLoading(),(null===(e=this.listEl)||void 0===e||null===(t=e.children)||void 0===t?void 0:t.length)>n){var i,r;const e=null===(i=this.listEl)||void 0===i||null===(r=i.children)||void 0===r?void 0:r[n];let t=this._getFocusItemFromListItem(e);t&&t.focus()}}))}_switchToShowMoreButton(){this.isShowMoreButtonTheTrigger=!0,this.showMoreButtonEl.classList.add(Ce),this.showMoreButtonEl.addEventListener("click",this._onClick)}removeInfiniteScroller(){this.isShowMoreButtonTheTrigger?(this.showMoreButtonEl.removeEventListener("click",this._onClick),this.showMoreButtonEl.classList.remove(Ce)):this.el.removeEventListener("scroll",this._scrollListener),m(this.el,"infinite-scroller-removed")}_attachScrollEventListener(){this.el.addEventListener("scroll",this._scrollListener)}}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function xe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Re(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}const Pe="light",Ne="dark";function Me(){const e=document.getElementById("config");let t;return e&&e.dataset&&(t=e.dataset.theme),t?document.documentElement.classList.contains("dark")?Ne:Pe:void 0}var De;function Ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}}(e,t)||ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qe(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ze(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function je(e,t,n){return t&&Fe(e.prototype,t),n&&Fe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function He(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ge(e){return function(e){if(Array.isArray(e))return We(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ze(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ze(e,t){if(e){if("string"==typeof e)return We(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?We(e,t):void 0}}function We(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Ke,Ye=new Uint8Array(16);function Qe(){if(!Ke&&!(Ke="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ke(Ye)}var Xe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Je(e){return"string"==typeof e&&Xe.test(e)}for(var Ze=[],$e=0;$e<256;++$e)Ze.push(($e+256).toString(16).substr(1));function et(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ze[e[t+0]]+Ze[e[t+1]]+Ze[e[t+2]]+Ze[e[t+3]]+"-"+Ze[e[t+4]]+Ze[e[t+5]]+"-"+Ze[e[t+6]]+Ze[e[t+7]]+"-"+Ze[e[t+8]]+Ze[e[t+9]]+"-"+Ze[e[t+10]]+Ze[e[t+11]]+Ze[e[t+12]]+Ze[e[t+13]]+Ze[e[t+14]]+Ze[e[t+15]]).toLowerCase();if(!Je(n))throw TypeError("Stringified UUID is invalid");return n}function tt(e){if(!Je(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n}function nt(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=tt(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(i),s.set(e,i.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,r){o=o||0;for(var a=0;a<16;++a)r[o+a]=s[a];return r}return et(s)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i}function it(e){return 14+(e+64>>>9<<4)+1}function rt(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function ot(e,t,n,i,r,o){return rt((s=rt(rt(t,e),rt(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function st(e,t,n,i,r,o,s){return ot(t&n|~t&i,e,t,r,o,s)}function at(e,t,n,i,r,o,s){return ot(t&i|n&~i,e,t,r,o,s)}function ct(e,t,n,i,r,o,s){return ot(t^n^i,e,t,r,o,s)}function lt(e,t,n,i,r,o,s){return ot(n^(t|~i),e,t,r,o,s)}function ut(e,t,n){var i=(e=e||{}).random||(e.rng||Qe)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var r=0;r<16;++r)t[n+r]=i[r];return t}return et(i)}function dt(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:case 3:return t^n^i;case 2:return t&n^t&i^n&i}}function ht(e,t){return e<<t|e>>>32-t}nt("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i="0123456789abcdef",r=0;r<n;r+=8){var o=e[r>>5]>>>r%32&255,s=parseInt(i.charAt(o>>>4&15)+i.charAt(15&o),16);t.push(s)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[it(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=i,l=r,u=o;n=st(n,i,r,o,e[s],7,-680876936),o=st(o,n,i,r,e[s+1],12,-389564586),r=st(r,o,n,i,e[s+2],17,606105819),i=st(i,r,o,n,e[s+3],22,-1044525330),n=st(n,i,r,o,e[s+4],7,-176418897),o=st(o,n,i,r,e[s+5],12,1200080426),r=st(r,o,n,i,e[s+6],17,-1473231341),i=st(i,r,o,n,e[s+7],22,-45705983),n=st(n,i,r,o,e[s+8],7,1770035416),o=st(o,n,i,r,e[s+9],12,-1958414417),r=st(r,o,n,i,e[s+10],17,-42063),i=st(i,r,o,n,e[s+11],22,-1990404162),n=st(n,i,r,o,e[s+12],7,1804603682),o=st(o,n,i,r,e[s+13],12,-40341101),r=st(r,o,n,i,e[s+14],17,-1502002290),n=at(n,i=st(i,r,o,n,e[s+15],22,1236535329),r,o,e[s+1],5,-165796510),o=at(o,n,i,r,e[s+6],9,-1069501632),r=at(r,o,n,i,e[s+11],14,643717713),i=at(i,r,o,n,e[s],20,-373897302),n=at(n,i,r,o,e[s+5],5,-701558691),o=at(o,n,i,r,e[s+10],9,38016083),r=at(r,o,n,i,e[s+15],14,-660478335),i=at(i,r,o,n,e[s+4],20,-405537848),n=at(n,i,r,o,e[s+9],5,568446438),o=at(o,n,i,r,e[s+14],9,-1019803690),r=at(r,o,n,i,e[s+3],14,-187363961),i=at(i,r,o,n,e[s+8],20,1163531501),n=at(n,i,r,o,e[s+13],5,-1444681467),o=at(o,n,i,r,e[s+2],9,-51403784),r=at(r,o,n,i,e[s+7],14,1735328473),n=ct(n,i=at(i,r,o,n,e[s+12],20,-1926607734),r,o,e[s+5],4,-378558),o=ct(o,n,i,r,e[s+8],11,-2022574463),r=ct(r,o,n,i,e[s+11],16,1839030562),i=ct(i,r,o,n,e[s+14],23,-35309556),n=ct(n,i,r,o,e[s+1],4,-1530992060),o=ct(o,n,i,r,e[s+4],11,1272893353),r=ct(r,o,n,i,e[s+7],16,-155497632),i=ct(i,r,o,n,e[s+10],23,-1094730640),n=ct(n,i,r,o,e[s+13],4,681279174),o=ct(o,n,i,r,e[s],11,-358537222),r=ct(r,o,n,i,e[s+3],16,-722521979),i=ct(i,r,o,n,e[s+6],23,76029189),n=ct(n,i,r,o,e[s+9],4,-640364487),o=ct(o,n,i,r,e[s+12],11,-421815835),r=ct(r,o,n,i,e[s+15],16,530742520),n=lt(n,i=ct(i,r,o,n,e[s+2],23,-995338651),r,o,e[s],6,-198630844),o=lt(o,n,i,r,e[s+7],10,1126891415),r=lt(r,o,n,i,e[s+14],15,-1416354905),i=lt(i,r,o,n,e[s+5],21,-57434055),n=lt(n,i,r,o,e[s+12],6,1700485571),o=lt(o,n,i,r,e[s+3],10,-1894986606),r=lt(r,o,n,i,e[s+10],15,-1051523),i=lt(i,r,o,n,e[s+1],21,-2054922799),n=lt(n,i,r,o,e[s+8],6,1873313359),o=lt(o,n,i,r,e[s+15],10,-30611744),r=lt(r,o,n,i,e[s+6],15,-1560198380),i=lt(i,r,o,n,e[s+13],21,1309151649),n=lt(n,i,r,o,e[s+4],6,-145523070),o=lt(o,n,i,r,e[s+11],10,-1120210379),r=lt(r,o,n,i,e[s+2],15,718787259),i=lt(i,r,o,n,e[s+9],21,-343485551),n=rt(n,a),i=rt(i,c),r=rt(r,l),o=rt(o,u)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(it(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),nt("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[d][p];for(var f=16;f<80;++f)h[f]=ht(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],E=0;E<80;++E){var _=Math.floor(E/20),w=ht(m,5)+dt(_,g,v,y)+b+t[_]+h[E]>>>0;b=y,y=v,v=ht(g,30)>>>0,g=m,m=w}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}));var pt=null;if("undefined"==typeof crypto||!crypto.getRandomValues){var ft=("undefined"!=typeof FastBoot?FastBoot.require:require)("crypto");if(ft){var mt=new Uint8Array(256),gt=mt.length;pt={rng:function(){return gt>mt.length-16&&(ft.randomFillSync(mt),gt=0),mt.slice(gt,gt+=16)}}}}"object"===("undefined"==typeof crypto?"undefined":Ve(crypto))&&crypto.randomUUID;function vt(){return ut(pt,new Array(16),0)}function yt(e){return Ge(e).map((function(e){return String.fromCharCode(e)})).join("")}function bt(){return yt(vt())}var Et=/^[a-zA-Z0-9/+]+[=]+$/;function _t(e,t){return{pageUrn:St(e),trackingId:t||function(e){for(var t,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=[],r=0,o=e.length,s=o%3,a=o-s;r<a;)t=e[r]<<16,t|=e[r+1]<<8,t|=e[r+2],i.push(n.charAt(t>>>18&63)),i.push(n.charAt(t>>>12&63)),i.push(n.charAt(t>>>6&63)),i.push(n.charAt(63&t)),r+=3;switch(s){case 2:t=e[r]<<16,t|=e[r+1]<<8,i.push(n.charAt(t>>>18&63)),i.push(n.charAt(t>>>12&63)),i.push(n.charAt(t>>>6&63)),i.push("=");break;case 1:t=e[r]<<16,i.push(n.charAt(t>>>18&63)),i.push(n.charAt(t>>>12&63)),i.push("="),i.push("=")}return i.join("")}(vt())}}function wt(e,t){return"urn:li:control:".concat(e,"-").concat(t)}function St(e){return"urn:li:page:".concat(e)}function Tt(e,t){return{pageInstance:t.assign({},e.pageInstance),pageKey:e.pageKey,applicationInstance:e.applicationInstance}}function Ct(e,t){return void 0!==t.allSettled?t.allSettled(e):function(e){return new Promise((function(t){var n=new Set,i=function(e){n.delete(e),0===n.size&&t()};0===e.length?t():e.map((function(e){return e.then((function(){return i(e)})).catch((function(){return i(e)}))}))}))}(e)}function kt(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}function Lt(e,t){if("undefined"!=typeof window&&window.indexedDB){var n="sequenceNumber",i=window.indexedDB.open(n);return new Promise((function(r,o){i.onupgradeneeded=function(){var e=i.result;e.objectStoreNames.contains(n)||e.createObjectStore(n,{autoIncrement:!0})},i.onsuccess=function(){var s=i.result,a=s.transaction(n,"readwrite"),c=a.objectStore(n),l=c.get(1);l.onsuccess=function(){var n=l.result;if(n){var i,s=null!==(i=n.sequenceNumber)&&void 0!==i?i:0;if("read"===e)return r(s);if(!("update"===e&&void 0!==t&&t>s))return r(null);var a=c.put({sequenceNumber:t},1);a.onsuccess=function(){return r(null)},a.onerror=function(){o(a.error)}}else{var u=c.add({sequenceNumber:0});u.onsuccess=function(){return r(0)},u.onerror=function(){o(u.error)}}},l.onerror=function(){return s.close(),o(new Error("Error: get sequence number from indexedDB ".concat(String(l.error))))},a.oncomplete=function(){return s.close()}},i.onerror=function(){return r(null)}}))}return Promise.resolve(null)}function It(e,t,n){var i=e.get(t);i&&i.push(n)||e.set(t,[n])}function At(e,t,n){var i=e.get(t);i&&i.splice(i.indexOf(n)>>>0,1)}var xt,Ot,Rt=(xt=new Map,Ot=new Map,{on:function(e,t){It(xt,e,t)},before:function(e,t){It(Ot,e,t)},off:function(e,t){At(xt,e,t)},offBefore:function(e,t){At(Ot,e,t)},emit:function(e,t){(Ot.get(e)||[]).concat(xt.get(e)||[]).slice().map((function(e){e(t)}))},clear:function(){Ot.clear(),xt.clear()}});if("undefined"!=typeof document&&"undefined"!=typeof window){var Pt=function(e){"pagehide"!==e.type&&"hidden"!==document.visibilityState||Rt.emit("internal:hide",e)};document.addEventListener("visibilitychange",Pt),window.addEventListener("pagehide",Pt)}var Nt=Uint8Array,Mt=Uint16Array,Dt=Uint32Array,Ut=new Nt([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),qt=new Nt([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Bt=new Nt([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ft=function(e,t){for(var n=new Mt(31),i=0;i<31;++i)n[i]=t+=1<<e[i-1];var r=new Dt(n[30]);for(i=1;i<30;++i)for(var o=n[i];o<n[i+1];++o)r[o]=o-n[i]<<5|i;return[n,r]},jt=Ft(Ut,2),Ht=jt[0],Gt=jt[1];Ht[28]=258,Gt[258]=28;for(var zt=Ft(qt,0)[1],Wt=new Mt(32768),Vt=0;Vt<32768;++Vt){var Kt=(43690&Vt)>>>1|(21845&Vt)<<1;Kt=(61680&(Kt=(52428&Kt)>>>2|(13107&Kt)<<2))>>>4|(3855&Kt)<<4,Wt[Vt]=((65280&Kt)>>>8|(255&Kt)<<8)>>>1}var Yt=function(e,t,n){for(var i=e.length,r=0,o=new Mt(t);r<i;++r)e[r]&&++o[e[r]-1];var s,a=new Mt(t);for(r=0;r<t;++r)a[r]=a[r-1]+o[r-1]<<1;if(n){s=new Mt(1<<t);var c=15-t;for(r=0;r<i;++r)if(e[r])for(var l=r<<4|e[r],u=t-e[r],d=a[e[r]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)s[Wt[d]>>>c]=l}else for(s=new Mt(i),r=0;r<i;++r)e[r]&&(s[r]=Wt[a[e[r]-1]++]>>>15-e[r]);return s},Qt=new Nt(288);for(Vt=0;Vt<144;++Vt)Qt[Vt]=8;for(Vt=144;Vt<256;++Vt)Qt[Vt]=9;for(Vt=256;Vt<280;++Vt)Qt[Vt]=7;for(Vt=280;Vt<288;++Vt)Qt[Vt]=8;var Xt=new Nt(32);for(Vt=0;Vt<32;++Vt)Xt[Vt]=5;var Jt=Yt(Qt,9,0),Zt=Yt(Xt,5,0),$t=function(e){return(e+7)/8|0},en=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>>8},tn=function(e,t,n){n<<=7&t;var i=t/8|0;e[i]|=n,e[i+1]|=n>>>8,e[i+2]|=n>>>16},nn=function(e,t){for(var n=[],i=0;i<e.length;++i)e[i]&&n.push({s:i,f:e[i]});var r=n.length,o=n.slice();if(!r)return[un,0];if(1==r){var s=new Nt(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var a=n[0],c=n[1],l=0,u=1,d=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};u!=r-1;)a=n[n[l].f<n[d].f?l++:d++],c=n[l!=u&&n[l].f<n[d].f?l++:d++],n[u++]={s:-1,f:a.f+c.f,l:a,r:c};var h=o[0].s;for(i=1;i<r;++i)o[i].s>h&&(h=o[i].s);var p=new Mt(h+1),f=rn(n[u-1],p,0);if(f>t){i=0;var m=0,g=f-t,v=1<<g;for(o.sort((function(e,t){return p[t.s]-p[e.s]||e.f-t.f}));i<r;++i){var y=o[i].s;if(!(p[y]>t))break;m+=v-(1<<f-p[y]),p[y]=t}for(m>>>=g;m>0;){var b=o[i].s;p[b]<t?m-=1<<t-p[b]++-1:++i}for(;i>=0&&m;--i){var E=o[i].s;p[E]==t&&(--p[E],++m)}f=t}return[new Nt(p),f]},rn=function e(t,n,i){return-1==t.s?Math.max(e(t.l,n,i+1),e(t.r,n,i+1)):n[t.s]=i},on=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Mt(++t),i=0,r=e[0],o=1,s=function(e){n[i++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++o;else{if(!r&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(r),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(r);o=1,r=e[a]}return[n.subarray(0,i),t]},sn=function(e,t){for(var n=0,i=0;i<t.length;++i)n+=e[i]*t[i];return n},an=function(e,t,n){var i=n.length,r=$t(t+2);e[r]=255&i,e[r+1]=i>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var o=0;o<i;++o)e[r+o+4]=n[o];return 8*(r+4+i)},cn=function(e,t,n,i,r,o,s,a,c,l,u){en(t,u++,n),++r[256];for(var d=nn(r,15),h=d[0],p=d[1],f=nn(o,15),m=f[0],g=f[1],v=on(h),y=v[0],b=v[1],E=on(m),_=E[0],w=E[1],S=new Mt(19),T=0;T<y.length;++T)S[31&y[T]]++;for(T=0;T<_.length;++T)S[31&_[T]]++;for(var C=nn(S,7),k=C[0],L=C[1],I=19;I>4&&!k[Bt[I-1]];--I);var A,x,O,R,P=l+5<<3,N=sn(r,Qt)+sn(o,Xt)+s,M=sn(r,h)+sn(o,m)+s+14+3*I+sn(S,k)+(2*S[16]+3*S[17]+7*S[18]);if(P<=N&&P<=M)return an(t,u,e.subarray(c,c+l));if(en(t,u,1+(M<N)),u+=2,M<N){A=Yt(h,p,0),x=h,O=Yt(m,g,0),R=m;var D=Yt(k,L,0);for(en(t,u,b-257),en(t,u+5,w-1),en(t,u+10,I-4),u+=14,T=0;T<I;++T)en(t,u+3*T,k[Bt[T]]);u+=3*I;for(var U=[y,_],q=0;q<2;++q){var B=U[q];for(T=0;T<B.length;++T){var F=31&B[T];en(t,u,D[F]),u+=k[F],F>15&&(en(t,u,B[T]>>>5&127),u+=B[T]>>>12)}}}else A=Jt,x=Qt,O=Zt,R=Xt;for(T=0;T<a;++T)if(i[T]>255){F=i[T]>>>18&31,tn(t,u,A[F+257]),u+=x[F+257],F>7&&(en(t,u,i[T]>>>23&31),u+=Ut[F]);var j=31&i[T];tn(t,u,O[j]),u+=R[j],j>3&&(tn(t,u,i[T]>>>5&8191),u+=qt[j])}else tn(t,u,A[i[T]]),u+=x[i[T]];return tn(t,u,A[256]),u+x[256]},ln=new Dt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),un=new Nt(0),dn=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,i=9;--i;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),hn=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function pn(e,t){t||(t={});var n=function(){var e=-1;return{p:function(t){for(var n=e,i=0;i<t.length;++i)n=dn[255&n^t[i]]^n>>>8;e=n},d:function(){return~e}}}(),i=e.length;n.p(e);var r,o,s,a=(r=e,o=t,s=function(e){return 10+(e.filename&&e.filename.length+1||0)}(t),8,function(e,t,n,i,r,o){var s=e.length,a=new Nt(i+s+5*(1+Math.ceil(s/7e3))+r),c=a.subarray(i,a.length-r),l=0;if(!t||s<8)for(var u=0;u<=s;u+=65535){var d=u+65535;d>=s&&(c[l>>3]=o),l=an(c,l+1,e.subarray(u,d))}else{for(var h=ln[t-1],p=h>>>13,f=8191&h,m=(1<<n)-1,g=new Mt(32768),v=new Mt(m+1),y=Math.ceil(n/3),b=2*y,E=function(t){return(e[t]^e[t+1]<<y^e[t+2]<<b)&m},_=new Dt(25e3),w=new Mt(288),S=new Mt(32),T=0,C=0,k=(u=0,0),L=0,I=0;u<s;++u){var A=E(u),x=32767&u,O=v[A];if(g[x]=O,v[A]=x,L<=u){var R=s-u;if((T>7e3||k>24576)&&R>423){l=cn(e,c,0,_,w,S,C,k,I,u-I,l),k=T=C=0,I=u;for(var P=0;P<286;++P)w[P]=0;for(P=0;P<30;++P)S[P]=0}var N=2,M=0,D=f,U=x-O&32767;if(R>2&&A==E(u-U))for(var q=Math.min(p,R)-1,B=Math.min(32767,u),F=Math.min(258,R);U<=B&&--D&&x!=O;){if(e[u+N]==e[u+N-U]){for(var j=0;j<F&&e[u+j]==e[u+j-U];++j);if(j>N){if(N=j,M=U,j>q)break;var H=Math.min(U,j-2),G=0;for(P=0;P<H;++P){var z=u-U+P+32768&32767,W=z-g[z]+32768&32767;W>G&&(G=W,O=z)}}}U+=(x=O)-(O=g[x])+32768&32767}if(M){_[k++]=268435456|Gt[N]<<18|zt[M];var V=31&Gt[N],K=31&zt[M];C+=Ut[V]+qt[K],++w[257+V],++S[K],L=u+N,++T}else _[k++]=e[u],++w[e[u]]}}l=cn(e,c,o,_,w,S,C,k,I,u-I,l),!o&&7&l&&(l=an(c,l+1,un))}return function(e,t,n){(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length);var i=new(2==e.BYTES_PER_ELEMENT?Mt:4==e.BYTES_PER_ELEMENT?Dt:Nt)(n-t);return i.set(e.subarray(t,n)),i}(a,0,i+$t(l)+r)}(r,null==o.level?6:o.level,null==o.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(r.length)))):12+o.mem,s,8,!0)),c=a.length;return function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&hn(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var i=0;i<=n.length;++i)e[i+10]=n.charCodeAt(i)}}(a,t),hn(a,c-8,n.d()),hn(a,c-4,i),a}var fn="undefined"!=typeof TextDecoder&&new TextDecoder;try{fn.decode(un,{stream:!0})}catch(rr){}function mn(){return"undefined"!=typeof window&&"function"==typeof window.fetch}function gn(){try{return mn()&&"keepalive"in new Request("")}catch(e){return!1}}function vn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("undefined"!=typeof window&&void 0!==window.XMLHttpRequest){var i=new XMLHttpRequest;if(i.open("POST",e,!0),i.withCredentials=!0,n.headers)for(var r=0,o=Object.keys(n.headers);r<o.length;r++){var s=o[r];i.setRequestHeader(s,n.headers[s])}i.send(t)}}function yn(e){var t=e.body,n=e.keepalive,i=e.headers,r=e.compress;i["content-type"]||(i["content-type"]="text/plain;charset=UTF-8");var o=t;if(r&&"undefined"!=typeof TextEncoder)try{o=pn((new TextEncoder).encode(t)),i["content-encoding"]="gzip"}catch(e){}return{body:o,keepalive:n,credentials:"include",headers:i,method:"POST",mode:"cors"}}function bn(e){return e&&"message"in e?e.message:"UNKNOWN_ERROR"}var En,_n="undefined"!=typeof navigator&&"sendBeacon"in navigator,wn=gn()?function(e,t,n,i){return new Promise((function(r){fetch(e,yn({body:t,keepalive:!0,headers:n,compress:i})).catch((function(){return fetch(e,yn({body:t,keepalive:!1,headers:n,compress:i}))})).then((function(e){e.ok?r({type:"success",drop:!1,statusCode:e.status}):r({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return r({type:"network",drop:!0,rawError:bn(e)})}))}))}:function(e,t,n,i){return new Promise((function(r){if(_n){var o=!1;try{o=navigator.sendBeacon(e,t)}catch(e){}if(o)return void r({type:"unknown",drop:!1})}fetch(e,yn({body:t,keepalive:!1,headers:n,compress:i})).then((function(e){e.ok?r({type:"success",drop:!1,statusCode:200}):r({type:"response",drop:!0,statusCode:e.status,rawError:e.statusText})}),(function(e){return r({type:"network",drop:!0,rawError:bn(e)})}))}))};function Sn(e){return new Promise((function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}}))}function Tn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"key",i=arguments.length>3?arguments[3]:void 0,r=indexedDB.open(e);r.onupgradeneeded=function(){try{r.result.createObjectStore(t,{keyPath:n})}catch(e){null==i||i.onError(e)}};var o=new Promise((function(e,t){r.onsuccess=function(){var t=r.result;t.onversionchange=function(){return t.close()},e(t),null==i||i.onSuccess()},r.onerror=function(){t(r.error),null==i||i.onError(r.error)}}));return function(e,n){return o.then((function(i){return n(i.transaction(t,e).objectStore(t))}))}}function Cn(){return En||(En=Tn("idb-queue","default")),En}function kn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=0,i=null;return e.openKeyCursor().onsuccess=function(){var r=this.result;r&&n++<t.batchEvictionNumber?(i=r.key,r.continue()):null!=i&&e.delete(IDBKeyRange.upperBound(i))},Sn(e.transaction)}function Ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{maxNumber:1e3,batchEvictionNumber:300},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn();return t("readwrite",(function(t){return kn(t,e)}))}var In=!1;function An(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cn();return n("readwrite",(function(n){return n.put(e),Sn(n.count()).then((function(e){if(!(e<=t.maxNumber))return kn(n,t)}))})).catch((function(e){if(e&&"QuotaExceededError"===e.name)return Ln(t,n)}))}function xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxNumber:1e3,batchEvictionNumber:300},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Cn();return In?Promise.resolve():An(e,t,n)}function On(e,t,n){return t("readwrite",(function(t){var i=[];return t.openCursor(null,n).onsuccess=function(){var t=this.result;t&&(i.push(t.value),t.delete(),(e<0||i.length<e)&&t.continue())},Sn(t.transaction).then((function(){return i}))}))}function Rn(e,t,n){return t("readonly",(function(t){var i=[];return t.openCursor(null,n).onsuccess=function(){var t=this.result;t&&(i.push(t.value),(e<0||i.length<e)&&t.continue())},Sn(t.transaction).then((function(){return i}))}))}function Pn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn();return Rn(e,t,"next")}function Nn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn();return Rn(e,t,"prev")}function Mn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;return!t||n<1||(e[t]=JSON.stringify({attempt:n,errorCode:i})),e}function Dn(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.debug("[beacon-transporter] ",e())}function Un(e){"undefined"!=typeof window&&window.__DEBUG_BEACON_TRANSPORTER&&console.error("[beacon-transporter] ",e())}function qn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{timeRemaining:5,timeout:1e4};if("undefined"==typeof requestIdleCallback)setTimeout(e,t.fallbackTimeout||10);else{var n=function n(){requestIdleCallback((function(i){i.timeRemaining()>t.timeRemaining||i.didTimeout?e():n()}),{timeout:t.timeout})};n()}}function Bn(e,t){var n=0;return{throttledFn:function(){var i=Date.now();i-n>t&&(Dn((function(){return"[throttle] Run fn() at "+String(i)})),e(),n=i)},resetThrottle:function(){n=0}}}var Fn=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Be(this,e),He(this,"config",void 0),He(this,"compress",void 0),He(this,"throttleControl",void 0),He(this,"withStore",void 0),He(this,"disablePersistence",!1),this.config=t,this.compress=i;var r=t.measureIDB;r&&performance.mark(r.createStartMark),this.withStore=Tn(t.idbName,"beacons","timestamp",{onSuccess:function(){r&&performance.measure(r.createSuccessMeasure,r.createStartMark)},onError:function(){r&&performance.measure(r.createFailMeasure,r.createStartMark),n.disablePersistence=!0}}),this.throttleControl=Bn(this.replayEntries.bind(this),t.throttleWait)}return je(e,[{key:"onNotify",value:function(){this.disablePersistence||this.throttleControl.throttledFn()}},{key:"push",value:function(e){var t=this;if(!this.disablePersistence){var n=function(){Dn((function(){return"Persisting to DB "+e.url})),xn(e,t.config,t.withStore).then((function(){t.throttleControl.resetThrottle(),Dn((function(){return"push completed"}))})).catch((function(){t.disablePersistence=!0,Un((function(){return"push failed"}))}))};this.config.useIdle?qn(n):n()}}},{key:"clear",value:function(){var e=this;return this.disablePersistence?Promise.resolve():function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cn();return In=!0,e("readwrite",(function(e){return e.clear(),Sn(e.transaction).finally((function(){return In=!1}))}))}(this.withStore).catch((function(){e.disablePersistence=!0,Un((function(){return"clear failed"}))}))}},{key:"peek",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.disablePersistence?Promise.resolve([]):Pn(t,this.withStore).catch((function(){return e.disablePersistence=!0,Un((function(){return"peek failed"})),[]}))}},{key:"peekBack",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.disablePersistence?Promise.resolve([]):Nn(t,this.withStore).catch((function(){return e.disablePersistence=!0,Un((function(){return"peekBack failed"})),[]}))}},{key:"replayEntries",value:function(){var e=this;if(!this.disablePersistence){var t=function(){Dn((function(){return"Replaying entry: shift from store"})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Cn();return On(e,t,"next")}(1,e.withStore).then((function(t){if(t.length>0){var n,i,r=t[0],o=r.url,s=r.body,a=r.headers,c=r.timestamp,l=r.statusCode,u=r.attemptCount;return Dn((function(){return"header: ".concat(String(e.config.headerName),"; attemptCount: ").concat(u)})),null===(n=(i=e.config).onBeforeRetry)||void 0===n||n.call(i,s),wn(o,s,Mn(a,e.config.headerName,u,l),e.compress).then((function(t){if("unknown"===t.type||"success"===t.type){var n,i;null===(n=(i=e.config).onResult)||void 0===n||n.call(i,t,s),e.replayEntries()}else{var r,a,d,h,p,f;if(u+1>e.config.attemptLimit)return Dn((function(){return"Exceeded attempt count, dropping the entry: "+JSON.stringify({url:o,timestamp:c,statusCode:l},null,2)})),t.drop=!0,void(null===(r=(a=e.config).onResult)||void 0===r||r.call(a,t,s));if("network"===t.type||e.config.statusCodes.includes(t.statusCode))return t.drop=!1,null===(d=(h=e.config).onResult)||void 0===d||d.call(h,t,s),Dn((function(){return"Replaying the entry failed, pushing back to IDB: "+JSON.stringify({url:o,timestamp:c,statusCode:l},null,2)})),xn({url:o,body:s,timestamp:c,statusCode:l,attemptCount:u+1},e.config,e.withStore);t.drop=!0,null===(p=(f=e.config).onResult)||void 0===p||p.call(f,t,s)}}))}})).catch((function(t){e.disablePersistence=!0,t&&t.message&&Un((function(){return"Replay entry failed: ".concat(t.message)}))}))};this.config.useIdle?qn(t):t()}}}]),e}(),jn=function(){function e(){Be(this,e)}return je(e,[{key:"onNotify",value:function(){}},{key:"push",value:function(){}},{key:"clear",value:function(){return Promise.resolve()}},{key:"peek",value:function(){return Promise.resolve([])}},{key:"peekBack",value:function(){return Promise.resolve([])}}]),e}(),Hn=function(){function e(t,n){Be(this,e),He(this,"queue",void 0),He(this,"beaconListeners",new Set),this.queue=e.hasSupport&&!n.disablePersistenceRetry?new Fn(t,n.compress):new jn}return je(e,[{key:"pushToQueue",value:function(e){this.queue.push(e)}},{key:"notifyQueue",value:function(){this.queue.onNotify()}},{key:"clearQueue",value:function(){return this.beaconListeners.forEach((function(e){return e()})),this.queue.clear()}},{key:"peekQueue",value:function(e){return this.queue.peek(e)}},{key:"peekBackQueue",value:function(e){return this.queue.peekBack(e)}},{key:"onClear",value:function(e){this.beaconListeners.add(e)}},{key:"removeOnClear",value:function(e){this.beaconListeners.delete(e)}}]),e}();He(Hn,"hasSupport","undefined"!=typeof globalThis&&!!globalThis.indexedDB);var Gn=[502,504],zn=[429,503],Wn=function(){function e(t,n,i,r){var o=this,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Be(this,e),He(this,"url",void 0),He(this,"body",void 0),He(this,"config",void 0),He(this,"persistenceConfig",void 0),He(this,"compress",void 0),He(this,"timestamp",void 0),He(this,"isClearQueuePending",!1),He(this,"onClearCallback",void 0),this.url=t,this.body=n,this.config=i,this.persistenceConfig=r,this.compress=s,this.timestamp=Date.now(),this.onClearCallback=function(){return o.isClearQueuePending=!0}}return je(e,[{key:"send",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.persistenceConfig.db.onClear(this.onClearCallback);var n=this.retryLimit;return this.retry((function(t){return wn(e.url,e.body,t,e.compress)}),n,t).finally((function(){Dn((function(){return"beacon finished"})),e.persistenceConfig.db.removeOnClear(e.onClearCallback)}))}},{key:"retryLimit",get:function(){return this.config.attemptLimit}},{key:"getAttemptCount",value:function(e){return this.retryLimit-e+1}},{key:"retry",value:function(e,t,n,i){var r=this,o=this.getAttemptCount(t)-1;return e(Mn(n,this.config.headerName,o,i)).then((function(i){var o,s,a,c;if(i.drop=!1,"unknown"===i.type||"success"===i.type)r.isClearQueuePending||r.persistenceConfig.disabled||r.persistenceConfig.db.notifyQueue(),a=i;else if(Dn((function(){return"retry rejected "+JSON.stringify(i)})),r.shouldPersist(t,i))r.persistenceConfig.db.pushToQueue({url:r.url,body:r.body,headers:n,statusCode:i.statusCode,timestamp:r.timestamp,attemptCount:r.getAttemptCount(t)}),a={type:"persisted",drop:!1,statusCode:i.statusCode};else{if(t>0&&r.isRetryableError(i)){var l,u;null===(l=(u=r.config).onIntermediateResult)||void 0===l||l.call(u,i,r.body);var d=r.config.calculateRetryDelay(r.getAttemptCount(t),t);return Dn((function(){return"in memory retry in ".concat(d,"ms")})),(c=d,new Promise((function(e){return setTimeout(e,c)}))).then((function(){return r.retry(e,t-1,n,i.statusCode)}))}(a=i).drop=!0}return null===(o=(s=r.config).onIntermediateResult)||void 0===o||o.call(s,a,r.body),a}))}},{key:"isRetryableError",value:function(e){return!("network"!==e.type&&!this.config.statusCodes.includes(e.statusCode))}},{key:"shouldPersist",value:function(e,t){return!(this.isClearQueuePending||this.persistenceConfig.disabled||navigator.onLine&&(0!==e||"network"!==t.type)&&("response"!==t.type||!this.persistenceConfig.statusCodes.includes(t.statusCode)))}}]),e}();function Vn(e,t,n,i,r){"control"!==i&&e.retryConfig&&function(){if("undefined"==typeof Promise||"undefined"==typeof navigator)return!1;var e=navigator.userAgent.indexOf("Chrome")>-1,t=navigator.cookieEnabled,n=navigator.storage;return e&&gn()&&t&&n}()&&navigator.storage.estimate().then((function(o){if(!((o.quota||0)-(o.usage||0)>52428800))return function(e){var t=window.indexedDB.deleteDatabase(e);return new Promise((function(e,n){t.onsuccess=function(){return e()},t.onerror=function(){return n(t.error)}}))}("beacons");var s,a,c=null!==(s=e.retryConfig.inMemory)&&void 0!==s?s:{attemptLimit:4,statusCodes:[502,504]},l=null!==(a=e.retryConfig.persist)&&void 0!==a?a:{attemptLimit:3,statusCodes:[429,503],maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},u={compress:n,inMemoryRetry:{onIntermediateResult:null==r?void 0:r.onIntermediateResult,attemptLimit:c.attemptLimit,statusCodes:c.statusCodes,headerName:"x-li-retry-context",calculateRetryDelay:function(e){return function(e){return 1e3*Math.pow(2,e)}(e)}},disablePersistenceRetry:e.retryConfig.disablePersistence,persistenceRetry:{onBeforeRetry:null==r?void 0:r.onBeforeRetry,onResult:null==r?void 0:r.onResult,idbName:"beacons",attemptLimit:l.attemptLimit,statusCodes:l.statusCodes,maxNumber:l.maxNumber,batchEvictionNumber:l.batchEvictionNumber,throttleWait:l.throttleWait,useIdle:!0,measureIDB:{createStartMark:"idb_open_start",createSuccessMeasure:"idb_open_success_phase",createFailMeasure:"idb_open_fail_phase"}}},d=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Boolean(t.compress),i=Object.assign({attemptLimit:0,statusCodes:Gn,calculateRetryDelay:function(e,t){return 2e3*t}},t.inMemoryRetry);if(t.retryDB)e=t.retryDB;else{var r=Object.assign({idbName:"beacon-transporter",attemptLimit:3,statusCodes:zn,maxNumber:1e3,batchEvictionNumber:300,throttleWait:3e5},t.persistenceRetry);r.headerName=r.headerName||i.headerName,e=new Hn(r,{compress:t.compress,disablePersistenceRetry:t.disablePersistenceRetry})}return{beacon:function(r,o,s){var a;return mn()?new Wn(r,o,i,{db:e,disabled:Boolean(t.disablePersistenceRetry),statusCodes:(null===(a=t.persistenceRetry)||void 0===a?void 0:a.statusCodes)||zn},n).send(s):Promise.resolve({type:"unknown",drop:!0})},database:e}}(u),h=d.beacon,p=d.database;return e.retryBeacon={shouldRetry:!0,beacon:h,database:p},"enabled"===i?(e.retryBeacon.shouldRetry=!1,!u.disablePersistenceRetry&&t.shouldAnonymizeMemberId()?p.peekQueue(1).then((function(e){if(Array.isArray(e)&&e[0]){var t=JSON.parse(e[0].body);if(Array.isArray(t)&&t.some((function(e){return!e.eventInfo.shouldAnonymizeMemberId})))return p.clearQueue()}}),(function(){return p.clearQueue()})).then((function(){e.retryBeacon.shouldRetry=!0})).catch((function(e){Rt.emit("internal:error",{tags:["core-web-tracking:retry:idb"],reason:e})})):(e.retryBeacon.shouldRetry=!0,Promise.resolve())):void 0})).catch((function(e){Rt.emit("internal:error",{tags:["core-web-tracking:retry:setup"],reason:e})}))}var Kn=function(){function e(t){Be(this,e),He(this,"host",void 0),this.host=t}return je(e,[{key:"checkAndEnablePersistentRetry",value:function(e,t){if("function"==typeof(null==e?void 0:e.shouldAnonymizeMemberId)&&!this.host.retryBeacon){var n=this.getRetryTreatment();this.host.retryConfig&&Vn(this.host,e,this.shouldCompressPayload(),n,t)}}},{key:"clearPersistedEventsOnLogout",value:function(){var e=this.host.retryBeacon;if(e&&e.shouldRetry)return e.shouldRetry=!1,e.database.clearQueue().catch((function(e){Rt.emit("internal:error",{tags:["core-web-tracking:retry:logout"],reason:e})}))}},{key:"sendPayload",value:function(e,t,n,i){var r,o=this.getRetryTreatment();gn()&&"control"!==o&&null!==(r=this.host.retryBeacon)&&void 0!==r&&r.shouldRetry?this.sendPayloadWithRetry(e,t,n):this.sendPayloadFireForget(e,t,n,i)}},{key:"sendPayloadWithRetry",value:function(e,t,n){(!Array.isArray(t)||t.length>0)&&this.host.retryBeacon.beacon(e,JSON.stringify(t),n).catch((function(e){Rt.emit("internal:error",{tags:["core-web-tracking:retry:beacon"],reason:e})}))}},{key:"sendPayloadFireForget",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!Array.isArray(t)||t.length>0){var r="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1;r||!mn()||"undefined"==typeof Promise?vn(e,JSON.stringify(t),{headers:n}):wn(e,JSON.stringify(t),n,this.shouldCompressPayload()).then((function(e){null==i||i.onResult(e,t)}),(function(){}))}}},{key:"getRetryTreatment",value:function(){var e,t,n;if(!this.host.retryConfig)return"control";var i=this.host.retryConfig.lixKey;return i?null!==(e=null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,i))&&void 0!==e?e:"control":"enabled"}},{key:"shouldCompressPayload",value:function(){return!0!==this.host.disableCompression}}]),e}(),Yn="undefined"!=typeof window&&"undefined"!=typeof document,Qn=/JSESSIONID="?([^";]+)"?/,Xn="",Jn=0;function Zn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.cacheLifeSpan,n=void 0===t?1e4:t,i=e.regex,r=void 0===i?Qn:i;if(!Xn||Date.now()-Jn>n){var o=Yn&&document.cookie.match(r);Xn=o&&o[1]||"",Jn=Date.now()}return Xn}var $n=function(){function e(t){Be(this,e),He(this,"networkTransporter",void 0),He(this,"inactive",void 0),He(this,"mpName",void 0),He(this,"endpoint",void 0),He(this,"debug",void 0),this.networkTransporter=new Kn(t),this.mpName=t.appId,this.inactive=t.inactive;var n=function(e){var t,n=!1;switch(e){case"https://www.linkedin.com/li/track":t=ti;break;case"https://www.linkedin-ei.com/li/track/validate":default:n=!0,t=ei;break;case"https://www.linkedin-ei.com/li/track":t=ei}return{endpoint:t,debug:n}}(t.endpoint);this.endpoint=n.endpoint,this.debug=n.debug}return je(e,[{key:"fireFragment",value:function(e){if(!this.inactive){var t={"content-type":"application/json; charset=UTF-8","x-li-track":JSON.stringify({mpName:this.mpName}),"csrf-token":Zn(),"x-restli-protocol-version":"2.0.0"},n={fragmentEvent:e,debug:this.debug};this.networkTransporter.sendPayload(this.endpoint,n,t)}}}]),e}(),ei="https://www.linkedin-ei.com/trackingMonitoring/?action=saveClientFragment",ti="https://www.linkedin.com/trackingMonitoring/?action=saveClientFragment";function ni(e){return"string"==typeof e}function ii(e){return ni(e)?e:e.topicName||e.eventName}function ri(e){return ni(e)?e:e.eventName}var oi,si,ai=function(){function e(t){var n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Be(this,e),He(this,"host",void 0),He(this,"cmoTransporter",void 0),He(this,"clientMonitoringInstanceId",bt()),He(this,"currentContext",ui()),He(this,"appState",{}),He(this,"estimatedFragmentSize",0),He(this,"fragmentSizeLimit",void 0),He(this,"activeFragmentEvent",void 0),He(this,"debounceTimer",void 0),this.host=t,this.cmoTransporter=i.cmoTransporter||new $n(t),this.fragmentSizeLimit=(null===(n=t.clientMonitoringConfig)||void 0===n?void 0:n.fragmentSizeLimit)||10240,this.activeFragmentEvent=li(this.clientMonitoringInstanceId,0,0,!1,this.getEventHeaders())}return je(e,[{key:"getCurrentInstanceId",value:function(){return this.clientMonitoringInstanceId}},{key:"scheduleDebouncedFiring",value:function(){var e,t,n=this;void 0!==this.debounceTimer&&(clearTimeout(this.debounceTimer),this.debounceTimer=void 0),this.fragmentIsFull()&&this.fireFragmentEventIfFull(!0),this.debounceTimer=setTimeout((function(){n.fireFragmentEventIfFull()}),null!==(e=null===(t=this.host.batching)||void 0===t?void 0:t.debounceTime)&&void 0!==e?e:1)}},{key:"logEventGenerated",value:function(e){this.scheduleDebouncedFiring();var t=this.activeFragmentEvent.stats,n=this.activeFragmentEvent.firstEventNumber+t.eventsGenerated;return t.eventTopics.push(e),t.eventsGenerated++,this.estimatedFragmentSize+=e.length,n}},{key:"logEventReadyToSend",value:function(e){this.activeFragmentEvent.stats.eventsReadyToSend+=e}},{key:"logEventSent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId();t===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.eventsSent+=e:this.findPreviousInstanceStat(t,(function(t){t.eventsSent+=e}))}},{key:"logNetworkResponseCode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getCurrentInstanceId(),n=this.activeFragmentEvent.stats.networkResponseStats;t!==this.getCurrentInstanceId()&&this.findPreviousInstanceStat(t,(function(e){n=e.networkResponseStats})),e>=200&&e<300?n.eventsWith2XXResponse++:400===e?n.eventsWith400Response++:408===e?n.eventsWith408Response++:429===e?n.eventsWith429Response++:e>400&&e<500?n.eventsWith4XXResponse++:500===e?n.eventsWith500Response++:502===e?n.eventsWith502Response++:503===e?n.eventsWith503Response++:504===e?n.eventsWith504Response++:e>500&&e<600&&n.eventsWith5XXResponse++}},{key:"findPreviousInstanceStat",value:function(e,t){var n,i=qe(this.activeFragmentEvent.stats.previousInstanceEventStats);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r.instanceId===e)return void t(r)}}catch(e){i.e(e)}finally{i.f()}var o=this.getEventHeaders(),s=o.header,a=o.requestHeader,c={header:Object.assign(s,{memberId:-1}),requestHeader:a,instanceId:e,eventsSent:0,eventTopics:[],networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},failures:[]};t(c),this.activeFragmentEvent.stats.previousInstanceEventStats.push(c)}},{key:"logFailedEvent",value:function(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.getCurrentInstanceId(),o=this.getEventHeaders(),s=o.header,a=o.requestHeader,c={header:Object.assign(s,{memberId:-1}),requestHeader:a,instanceId:r,instanceEventNumber:i,reason:e,rawError:n,eventName:ri(t),eventTopic:ii(t)};this.estimatedFragmentSize+=JSON.stringify(c).length,r===this.getCurrentInstanceId()?this.activeFragmentEvent.stats.failures.push(c):this.findPreviousInstanceStat(r,(function(e){e.failures.push(c)})),this.fireFragmentEventIfFull()}},{key:"flush",value:function(){this.activeFragmentEvent.isLastFragment=!0,this.fireFragmentEventIfFull(!0)}},{key:"fragmentIsFull",value:function(){return this.activeFragmentEvent.stats.eventsGenerated>=100||this.estimatedFragmentSize>=this.fragmentSizeLimit}},{key:"fireFragmentEventIfFull",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||this.fragmentIsFull()){this.debounceTimer=void 0;var t=this.getEventHeaders(),n=t.header,i=t.requestHeader,r=this.activeFragmentEvent;r.header=n,r.requestHeader=i,this.cmoTransporter.fireFragment(r),this.estimatedFragmentSize=0,this.activeFragmentEvent=li(this.clientMonitoringInstanceId,r.fragmentNumber+1,r.firstEventNumber+r.stats.eventsGenerated,!1,t)}}},{key:"setCurrentContext",value:function(e){this.currentContext=e}},{key:"updateAppState",value:function(e){this.host.api.assign(this.appState,e)}},{key:"getEventHeaders",value:function(){var e=void 0;this.appState.clientApplicationInstance&&((e=this.appState.clientApplicationInstance).trackingId=di(e.trackingId));var t=this.currentContext.pageInstance;return t.trackingId=di(t.trackingId),{requestHeader:{interfaceLocale:this.host.locale,pageKey:this.currentContext.pageKey,path:this.host.api.location.pathname+this.host.api.location.search,referer:this.host.api.document.referrer},header:{applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:e,pageInstance:t,time:Date.now(),version:this.host.appVersion,server:"",service:"",guid:"0000000000000000"}}}}]),e}();function ci(e){return oi||(oi=new ai(e)),{getCurrentInstanceId:function(){return oi.getCurrentInstanceId()},logEventGenerated:function(e){return oi.logEventGenerated(e)},logEventReadyToSend:function(e){oi.logEventReadyToSend(e)},logEventSent:function(e){oi.logEventSent(e)},logPersistedEventSent:function(e,t){oi.logEventSent(t,e)},logNetworkResponseCode:function(e){oi.logNetworkResponseCode(e)},logPersistedNetworkResponseCode:function(e,t){var n;null===(n=oi)||void 0===n||n.logNetworkResponseCode(t,e)},logFailedEvent:function(e,t,n,i){oi.logFailedEvent(e,t,n,i)},logPersistedFailedEvent:function(e,t,n,i,r){oi.logFailedEvent(t,n,i,r,e)},flush:function(){oi.flush()},destroy:function(){oi=void 0},isDestroyed:function(){return void 0===oi},setCurrentContext:function(e){oi.setCurrentContext(e)},updateAppState:function(e){oi.updateAppState(e)}}}function li(e,t,n,i,r){return{fragmentNumber:t,firstEventNumber:n,isLastFragment:i,stats:{instanceId:e,eventsGenerated:0,eventsReadyToSend:0,eventsSent:0,networkResponseStats:{eventsWith2XXResponse:0,eventsWith400Response:0,eventsWith408Response:0,eventsWith429Response:0,eventsWith4XXResponse:0,eventsWith500Response:0,eventsWith502Response:0,eventsWith503Response:0,eventsWith504Response:0,eventsWith5XXResponse:0},eventTopics:[],failures:[],previousInstanceEventStats:[]},requestHeader:r.requestHeader,header:r.header}}function ui(){return{pageKey:"unknown",pageInstance:_t("unknown")}}function di(e){return Array.isArray(e)?yt(e):16===e.length?e:function(e){return"string"==typeof e&&!!e.match(Et)}(e)?atob(e):yt(function(e){return tt(e)}(e))}!function(e){e.NONE="NONE",e.UNKNOWN_EXECUTION_ERROR="UNKNOWN_EXECUTION_ERROR",e.MISSING_REQUIRED_PROPERTIES="MISSING_REQUIRED_PROPERITES",e.STORAGE_WRITE_FAILURE="STORAGE_WRITE_FAILURE",e.RETRIES_EXCEEDED="RETRIES_EXCEEDED",e.EVENT_EVICTED_FROM_STORAGE="EVENT_EVICTED_FROM_STORAGE",e.STORAGE_UNAVAILABLE="STORAGE_UNAVAILABLE",e.SERIALIZATION_FAILURE="SERIALIZATION_FAILURE"}(si||(si={}));var hi="PageViewEvent",pi=function(){function e(t){var n=this;Be(this,e),He(this,"host",void 0),He(this,"queue",void 0),He(this,"preContextQueue",void 0),He(this,"debounceTimer",void 0),He(this,"unloadHandlers",void 0),He(this,"maxQueueSize",void 0),He(this,"flushDebounceTime",void 0),He(this,"trackingEventListeners",[]),He(this,"onHideHandler",(function(){n.forceFlush()})),He(this,"networkTransporter",void 0),He(this,"clientMonitoringConn",void 0),He(this,"clientSequenceNumberCounter",void 0),He(this,"isTimerRunning",void 0),He(this,"enableSequenceNumberLix",void 0),this.host=t,this.queue=[],this.preContextQueue=[],this.unloadHandlers=[];var i=t.batching;this.maxQueueSize=i&&i.maxSize||1,this.flushDebounceTime=i&&i.debounceTime||0,Rt.on("internal:hide",this.onHideHandler),this.networkTransporter=new Kn(t),this.isLixEnabled("pemberly.tracking.monitoring")&&t.clientMonitoringConfig&&!t.inactive&&(this.clientMonitoringConn=ci(t)),this.enableSequenceNumberLix=this.isLixEnabled("tracking.data-loss-web.sequence-number"),this.enableSequenceNumberLix&&(this.getSequenceNumberFromIDB(),this.updateSequenceNumberOnExit(),this.isTimerRunning=!1)}return je(e,[{key:"checkAndEnablePersistentRetry",value:function(e){var t,n=(t=this.clientMonitoringConn,{onIntermediateResult:function(e,n){var i;if(t&&!t.isDestroyed())try{if(i=JSON.parse(n),!Array.isArray(i)||0===i.length)return;e.statusCode&&t.logNetworkResponseCode(e.statusCode),!0===e.drop&&i.forEach((function(n){var i,r=n.eventInfo.eventName,o=n.eventInfo.topicName||r,s="rawError"in e?e.rawError:"null",a=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(s)].join(", ");t.logFailedEvent(si.UNKNOWN_EXECUTION_ERROR,{eventName:r,topicName:o},a,null!==(i=n.eventBody.header.clientMonitoringInstanceEventNumber)&&void 0!==i?i:-1)}))}catch(e){}},onBeforeRetry:function(e){var n;if(t&&!t.isDestroyed())try{if(n=JSON.parse(e),!Array.isArray(n)||0===n.length||!n[0].eventBody.header.clientMonitoringInstanceId)return;var i=n[0].eventBody.header.clientMonitoringInstanceId,r=n.length;t.logPersistedEventSent(i,r)}catch(e){}},onResult:function(e,n){var i;if(t)try{if(i=JSON.parse(n),!Array.isArray(i)||0===i.length||!i[0].eventBody.header.clientMonitoringInstanceId)return;var r=i[0].eventBody.header.clientMonitoringInstanceId;e.statusCode&&t.logPersistedNetworkResponseCode(r,e.statusCode),!0===e.drop&&i.forEach((function(n){var i=n.eventInfo.eventName,o=n.eventInfo.topicName||i,s="rawError"in e?e.rawError:"null",a=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(s)].join(", ");t.logPersistedFailedEvent(r,si.UNKNOWN_EXECUTION_ERROR,{eventName:i,topicName:o},a,n.eventBody.header.clientMonitoringInstanceEventNumber)}))}catch(e){}}});this.networkTransporter.checkAndEnablePersistentRetry(e,n)}},{key:"clearPersistedEventsOnLogout",value:function(){return this.networkTransporter.clearPersistedEventsOnLogout()}},{key:"on",value:function(e){this.trackingEventListeners.push(e)}},{key:"fireEvent",value:function(e){var t=function(e){return e.meta.time=Date.now(),e}(e);this.clientMonitoringConn&&(t.meta.clientMonitoringInstanceId=this.clientMonitoringConn.getCurrentInstanceId(),t.meta.clientMonitoringInstanceEventNumber=this.clientMonitoringConn.logEventGenerated(ii(e.id)));var n,i=this.host,r=i.api.Promise,o=i.batching;return function(e){return!!e.meta.context}(t)?(this.prepareCompleteEnvelopeQueue(t),null===(n=this.clientMonitoringConn)||void 0===n||n.logEventReadyToSend(1),o?(this.batchFire(),r.resolve(!0)):(this.flush(!0),r.resolve(!0))):(this.preContextQueue.push(t),r.resolve(!0))}},{key:"callOnDestroy",value:function(e){this.unloadHandlers.push(e)}},{key:"destroy",value:function(){this.unloadHandlers.forEach((function(e){return e()})),this.forceFlush(),this.trackingEventListeners=[],this.clientMonitoringConn=void 0,Rt.off("internal:hide",this.onHideHandler)}},{key:"forceFlush",value:function(){var e=this;this.populatePreContextQueue({pageInstance:_t("unknown"),pageKey:"unknown"}).forEach((function(t){return e.queue.push(t)})),this.flush(!0)}},{key:"isLixEnabled",value:function(e){var t,n;return"enabled"===(null===(t=(n=this.host).__getLixTreatment)||void 0===t?void 0:t.call(n,e))}},{key:"getSequenceNumberFromIDB",value:function(){var e=this;Lt("read").then((function(t){e.clientSequenceNumberCounter=t||0})).catch((function(e){Rt.emit("internal:error",{tags:["core-web-tracking:sequence-number:idb-read"],reason:e})}))}},{key:"updateSequenceNumberToIDB",value:function(){Lt("update",this.clientSequenceNumberCounter).catch((function(e){Rt.emit("internal:error",{tags:["core-web-tracking:sequence-number:idb-update"],reason:e})}))}},{key:"updateSequenceNumberOnExit",value:function(){var e=this;"undefined"!=typeof window&&"undefined"!=typeof document&&window.addEventListener("beforeunload",(function t(){e.updateSequenceNumberToIDB(),window.removeEventListener("beforeunload",t)}))}},{key:"prepareCompleteEnvelopeQueue",value:function(e){var t=this,n=e.meta.context=Tt(e.meta.context,this.host.api);"function"==typeof e.body&&(e.body=e.body(n)),this.preContextQueue.length>0&&this.populatePreContextQueue(n).forEach((function(e){return t.queue.push(e)})),this.queue.push(e)}},{key:"envelop",value:function(e,t,n){var i=this.host,r=i.appId,o=i.api,s={eventBody:t,eventInfo:"string"==typeof e?{appId:r,eventName:e,topicName:e}:o.assign({appId:r},e)};return n.length>0&&this.host.api.assign(s,{clientBreadcrumbs:n}),s}},{key:"getBreadcrumbs",value:function(e){return e.clientBreadcrumbs||[]}},{key:"getGenericEventBody",value:function(e){var t,n=this.host,i=n.appVersion,r=n.locale,o=n.api,s=o.location,a=o.document,c=o.assign,l=e.meta.context,u=l.pageKey,d=l.pageInstance,h=function(e){return"string"==typeof e?e===hi:e.eventName===hi}(e.id)&&(null===(t=e.body.requestHeader)||void 0===t?void 0:t.pageKey)||u,p=null;"string"!=typeof r&&null!==this.host.locale||(p=r);var f={interfaceLocale:p,pageKey:h,path:s.pathname+s.search,referer:a.referrer},m={pageInstance:d,time:e.meta.time,version:i};"number"==typeof this.clientSequenceNumberCounter&&c(m,{clientGlobalSequenceNumber:this.clientSequenceNumberCounter});var g={header:c(m,e.meta.header||{}),requestHeader:c(f,e.meta.requestHeader||{})},v=e.meta.clientMonitoringInstanceId,y=e.meta.clientMonitoringInstanceEventNumber;return v&&c(g.header,{clientMonitoringInstanceId:v,clientMonitoringInstanceEventNumber:y}),c(e.body,g)}},{key:"populatePreContextQueue",value:function(e){var t,n=this.preContextQueue;return this.preContextQueue=[],null===(t=this.clientMonitoringConn)||void 0===t||t.logEventReadyToSend(n.length),n.map((function(t){return t.meta.context=e,"function"==typeof t.body&&(t.body=t.body(e)),t}))}},{key:"trigger",value:function(e,t){this.trackingEventListeners.forEach((function(n){return n(e,t)}))}},{key:"requestFlush",value:function(e){var t=this;e((function(){t.forceFlush()}),{timeout:1e4})}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.host.api.requestIdleCallback;e||!t?this.sendPayload():this.requestFlush(t)}},{key:"batchFire",value:function(){var e=this;this.queue.length>this.maxQueueSize?this.flush():(this.debounceTimer&&clearTimeout(this.debounceTimer),this.debounceTimer=setTimeout((function(){return e.flush()}),this.flushDebounceTime))}},{key:"sendPayload",value:function(){var e=this,t=this.queue;if(0!==t.length){this.enableSequenceNumberLix&&"undefined"!=typeof window&&!1===this.isTimerRunning&&(this.isTimerRunning=!0,setInterval((function(){e.updateSequenceNumberToIDB()}),5e3)),this.queue=[];var n,i,r=[],o=[];t.forEach((function(t){var n=e.getGenericEventBody(t),i=e.getBreadcrumbs(t),s=e.envelop(t.id,n,i);e.trigger(s,t.meta);var a=s.eventInfo.eventName;"LixTreatmentsEvent"===a||"JavaScriptErrorEvent"===a?r.push(s):o.push(s),e.enableSequenceNumberLix&&"number"==typeof e.clientSequenceNumberCounter&&e.clientSequenceNumberCounter++})),this.host.inactive||(this.clientMonitoringConn&&(this.clientMonitoringConn.logEventSent(r.length+o.length),i=this.clientMonitoringConn,n={onResult:function(e,t){i&&!i.isDestroyed()&&(e.statusCode&&i.logNetworkResponseCode(e.statusCode),!0===e.drop&&t.forEach((function(t){var n=t.eventInfo.eventName,r=t.eventInfo.topicName||n,o="rawError"in e?e.rawError:"null",s=["type: ".concat(e.type),"statusCode: ".concat(e.statusCode||"null"),"drop: ".concat(String(e.drop)),"rawError: ".concat(o)].join(", ");null==i||i.logFailedEvent(si.UNKNOWN_EXECUTION_ERROR,{eventName:n,topicName:r},s,t.eventBody.header.clientMonitoringInstanceEventNumber||-1)})))}}),this.networkTransporter.sendPayloadFireForget(this.host.endpoint,r,void 0,n),this.networkTransporter.sendPayload(this.host.endpoint,o,void 0,n))}}}]),e}();var fi,mi=function(){function e(t,n){Be(this,e),this.clientBreadcrumbType=t,this.id=n}return je(e,[{key:"builder",get:function(){return function(){var e={},t=new Proxy({},{get:function(n,i){return"build"===i?function(){return e}:function(n){return e[i.toString()]=n,t}}});return t}().id(this.id).clientBreadcrumbType(this.clientBreadcrumbType)}}],[{key:"toPointer",value:function(e){return{id:e.id,type:e.clientBreadcrumbType}}}]),e}();function gi(e){if(!e)return{};var t=e.trk,n=!1,i=e.licu&&decodeURIComponent(e.licu);e.external_control&&(i="urn:li:externalControl:".concat(decodeURIComponent(e.external_control)),n=!0);var r=e.lipi&&function(e){var t=decodeURIComponent(e).split(";");if(t.length>1)return{pageUrn:t[0],trackingId:t[1]}}(e.lipi),o=r&&{pageInstance:r,pageKey:t}||t&&{pageKey:t};if(e.external_page&&e.external_page_instance){var s=decodeURIComponent(e.external_page);o={pageInstance:{pageUrn:"urn:li:externalPage:".concat(s),trackingId:e.external_page_instance},pageKey:s},n=!0}var a=e.external_app&&e.external_app_instance?{applicationUrn:"urn:li:externalApplication:".concat(decodeURIComponent(e.external_app)),trackingId:e.external_app_instance,version:""}:void 0;return a&&((o=o||{}).applicationInstance=a),{fromExternalApp:n||!!a,previousApplicationInstance:a,previousContext:o,previousControlId:e.lici&&decodeURIComponent(e.lici),previousControlUrn:i}}function vi(e){return"retryConfig"in e.host}!function(e){e.UNKNOWN="UNKNOWN",e.ME_NOTIFICATION="ME_NOTIFICATION",e.ME_NOTIFICATION_ACTION="ME_NOTIFICATION_ACTION"}(fi||(fi={}));var yi,bi,Ei,_i=function(){function e(t,n){var i,r;if(Be(this,e),He(this,"transporter",void 0),He(this,"delegate",void 0),He(this,"currentContext",void 0),He(this,"appState",void 0),He(this,"previousAppContext",void 0),He(this,"customTransporters",void 0),He(this,"clientMonitoringConn",void 0),this.transporter=t,this.delegate=n,this.appState={},this.customTransporters={},n&&n.customTransporterHosts)for(var o in n.customTransporterHosts)if(Object.prototype.hasOwnProperty.call(n.customTransporterHosts,o)){var s=this.transporter.host.api.assign({},this.transporter.host);this.customTransporters[o]=new pi(this.transporter.host.api.assign(s,n.customTransporterHosts[o]))}"enabled"===(null===(i=(r=t.host).__getLixTreatment)||void 0===i?void 0:i.call(r,"pemberly.tracking.monitoring"))&&t.host.clientMonitoringConfig&&!t.host.inactive&&"location"in t.host.api&&(this.clientMonitoringConn=ci(t.host))}return je(e,[{key:"host",get:function(){return this.transporter.host}},{key:"checkAndEnablePersistentRetry",value:function(){vi(this.transporter)&&this.transporter.checkAndEnablePersistentRetry(this.delegate)}},{key:"flushAndClearPersistedEventsOnLogout",value:function(){this.forceFlush();var e=vi(this.transporter)?this.transporter.clearPersistedEventsOnLogout():null;return null!=e?e:this.host.api.Promise.resolve()}},{key:"getCurrentContext",value:function(){if(this.currentContext)return Tt(this.currentContext,this.host.api)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=this.navMetaFromSeed(e,gi(t));if(this.setCurrentContext(i.to),!n.suppressEventsFiring)return this.fireNavEvents(i)}},{key:"setCurrentContext",value:function(e){var t;this.currentContext=Tt(e,this.host.api),null===(t=this.clientMonitoringConn)||void 0===t||t.setCurrentContext(Tt(e,this.host.api))}},{key:"updateAppState",value:function(e){var t;this.host.api.assign(this.appState,e),null===(t=this.clientMonitoringConn)||void 0===t||t.updateAppState(e)}},{key:"fireCIE",value:function(e,t,n,i,r){return this.fireEvent("ControlInteractionEvent",(function(n){var o=wt(n.pageKey,e),s={controlTrackingId:i,controlUrn:o,interactionType:t};return r&&r(o),s}),{context:n})}},{key:"fireEvent",value:function(e,t,n,i){if(!t){var r=ii(e),o=void 0===t?"undefined":null===t?"null":Ve(t),s='Firing tracking event "'.concat(r,'" with invalid body, you fired "').concat(o,'"');if(this.clientMonitoringConn){var a=this.clientMonitoringConn.logEventGenerated(r);this.clientMonitoringConn.logFailedEvent(si.MISSING_REQUIRED_PROPERTIES,e,s,a)}throw new Error(s)}var c=i||[];if(c.length>0){var l=c.map((function(e){return mi.toPointer(e)}));this.host.api.assign(t,{clientBreadcrumbPointers:l})}var u=c.length>0?this.generateEnvelopeWithBreadcrumbs(e,t,n,c):this.generateEnvelope(e,t,n);return this.fireEnvelope(u)}},{key:"generateEnvelopeWithBreadcrumbs",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=this.generateEnvelope(e,t,n),o=i.length>0?this.addBreadcrumbsToEnvelope(r,i):r;return o}},{key:"addBreadcrumbsToEnvelope",value:function(e,t){var n=t.map((function(e){var t=e;return delete t.clientBreadcrumbType,t}));return this.host.api.assign(e,{clientBreadcrumbs:n}),e}},{key:"fireEnvelope",value:function(e){var t,n;if(null!==(t=this.delegate)&&void 0!==t&&null!==(n=t.shouldAnonymizeMemberId)&&void 0!==n&&n.call(t))if(ni(e.id)){var i=e.id;e.id={eventName:i,topicName:i,shouldAnonymizeMemberId:!0}}else e.id.shouldAnonymizeMemberId=!0;var r=this.delegate&&this.delegate.preTransporter?this.delegate.preTransporter(e):e;if(r){var o=r.meta.transporterKey,s=o?this.customTransporters[o]:this.transporter;if(!s&&o){var a=ii(r.id),c="Could not find custom transporter: ".concat(o);if(this.clientMonitoringConn){var l=this.clientMonitoringConn.logEventGenerated(a);this.clientMonitoringConn.logFailedEvent(si.UNKNOWN_EXECUTION_ERROR,r.id,c,l)}throw new Error(c)}return s.fireEvent(r)}return this.host.api.Promise.resolve(!0)}},{key:"generatePageInstance",value:function(e,t){return _t(e,t)}},{key:"firePVE",value:function(e,t,n){var i={pageType:"full",totalTime:0,trackingCode:this.getTrackingCode(),trackingInfo:{}},r=this.host.api.assign(i,t),o=this.generateEnvelope("PageViewEvent",r,{context:n});return o.meta.requestHeader.pageKey=e,this.fireEnvelope(o)}},{key:"destroy",value:function(){for(var e in this.transporter.destroy(),this.customTransporters)this.customTransporters[e].destroy();this.clientMonitoringConn&&(this.clientMonitoringConn.flush(),this.clientMonitoringConn.destroy(),this.clientMonitoringConn=void 0),Rt.clear()}},{key:"forceFlush",value:function(){for(var e in this.transporter.forceFlush(),this.customTransporters)this.customTransporters[e].forceFlush()}},{key:"generateControlUrn",value:function(e,t){return wt((t||this.currentContext||{pageKey:"unknown"}).pageKey,e)}},{key:"fireRawCIE",value:function(e,t,n,i){var r={controlTrackingId:i,controlUrn:e,interactionType:t};return{beacon:this.fireEvent("ControlInteractionEvent",r,{context:n}),controlUrn:e}}},{key:"generateNavigationEvent",value:function(e){var t=e.triggerId,n=e.triggerUrn,i=e.from;return{previousPageInstance:i&&i.pageInstance,triggerControlTrackingId:t,triggerControlUrn:n}}},{key:"getTrackingCode",value:function(){return this.previousAppContext&&this.previousAppContext.pageKey}},{key:"navMetaFromSeed",value:function(e,t){var n="NavigationEvent";this.previousAppContext=t.previousContext;var i=t.fromExternalApp?{eventName:n,topicName:"InboundNavigationEvent"}:n;return{from:t.previousContext,navEventId:i,to:{applicationInstance:t.applicationInstance,pageInstance:this.generatePageInstance(e,t.pageTrackingId),pageKey:e},triggerId:t.previousControlId,triggerUrn:t.previousControlUrn}}},{key:"fireNavEvents",value:function(e){var t=this.generateNavigationEvent(e),n=e.to,i=e.from,r=e.navEventId,o=this.generateEnvelope(r,t);o.meta.requestHeader.pageKey=n.pageKey;var s=i&&i.applicationInstance;return s&&(o.meta.header.clientApplicationInstance=s),this.host.api.Promise.all([this.firePVE(n.pageKey),this.fireEnvelope(o)])}},{key:"generateEnvelope",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={directive:n.directive,transporterKey:n.transporterKey,context:n.context||this.currentContext&&Tt(this.currentContext,this.host.api),requestHeader:this.host.api.assign({trackingCode:this.getTrackingCode()},n.requestHeader||{}),header:this.host.api.assign({applicationViewerUrn:this.appState.applicationViewerUrn,clientApplicationInstance:this.appState.clientApplicationInstance},n.header||{})};return{body:"function"==typeof t?t:function(){return t},id:e,meta:i}}}]),e}();function wi(e){return e.split("").reduce((function(e,t){return(e<<5)-e+t.charCodeAt(0)|0}),0)}!function(){function e(t,n){var i,r=this;Be(this,e),He(this,"core",void 0),He(this,"protocol",void 0),He(this,"throttleKeySet",new Set),He(this,"config",void 0),He(this,"reportTransporterError",(function(e){e.reason instanceof Error||(e.reason=new Error(e.reason||"An error occurred in the transporter")),r.reportError(e.reason,e.tags.concat(["info"])).catch((function(){}))})),this.core=t;var o=this.core.host.api.location.protocol;this.protocol=o.substring(0,o.length-1),this.config={throttleTime:null!==(i=null==n?void 0:n.throttleTime)&&void 0!==i?i:100},Rt.on("internal:error",this.reportTransporterError)}je(e,[{key:"reportError",value:function(e){var t,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.callTreeId,s=void 0===o?"":o,a=r.responseHeaders,c=void 0===a?{}:a,l=e.message,u=e.name,d=e.stack,h=void 0===d?"":d,p=e.fileName,f=void 0===p?"":p,m=e.lineNumber,g=void 0===m?0:m,v=e.columnNumber,y=void 0===v?0:v,b=this.core.host,E=b.appId,_=b.appVersion,w=b.service,S=b.serviceInstance,T=b.treeID,C=void 0===T?"":T,k=b.api,L=k.Promise,I=k.location,A=I.host,x=I.pathname,O=I.search,R=I.hash,P=void 0===R?"":R;if(c){t={};var N=new Map;Object.keys(c).forEach((function(e){N.set(e.toLowerCase(),c[e])})),t.callTreeId=N.get("x-li-uuid"),t.microsoftEdgeReference=N.get("x-msedge-ref"),t.pointOfPresenceId=N.get("x-li-pop"),t.fabric=N.get("x-li-fabric")}var M=function(){return n.core.fireEvent("JavaScriptErrorEvent",(function(e){return{appId:E,e:{c:y,l:g,m:l,s:h,t:u,u:f},h:P,l:n.protocol,o:A,p:x,pageKey:e.pageKey,q:O,service:w,serviceInstance:S,serviceVersion:_,t:i,trackingID:e.pageInstance.trackingId,treeID:C,callTreeId:s,responseTraceHeaders:t}}))};if(this.config.throttleTime<0)return M();var D=wi(u+l+h+i.join("")+s);return this.throttleKeySet.has(D)?L.resolve(!1):(this.throttleKeySet.add(D),setTimeout((function(){return n.throttleKeySet.delete(D)}),this.config.throttleTime),M())}},{key:"flush",value:function(){this.core.forceFlush()}},{key:"destroy",value:function(){this.core.destroy(),Rt.off("internal:error",this.reportTransporterError)}}])}();var Si=function(){function e(){Be(this,e),He(this,"userTimingEntries",[]),He(this,"longTasks",[]),He(this,"resourceTimingEntries",[]),He(this,"cdnData",void 0)}return je(e,[{key:"reset",value:function(){this.userTimingEntries=[],this.longTasks=[],this.resourceTimingEntries=[]}},{key:"attachTreeIds",value:function(e){this.resourceTimingEntries.forEach((function(t){var n=e.get(t.name);n&&(t.resourceTreeId=n)}))}},{key:"getData",value:function(){return{userTimingEntries:this.userTimingEntries,longTasks:this.longTasks,resourceTimingEntries:this.resourceTimingEntries.map(Ci),cdnData:this.cdnData}}}]),e}(),Ti=["resourceTreeId","name","entryType","startTime","duration","initiatorType","nextHopProtocol","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","transferSize","encodedBodySize","decodedBodySize","workerStart"];function Ci(e){return Ti.reduce((function(t,n){var i=e[n];return void 0!==i&&(t[n]=i),t}),{})}function ki(e,t){if(e.nodeType!==Node.ELEMENT_NODE)throw new Error("Can't generate CSS selector for non-element node type.");if("html"===e.tagName.toLowerCase())return"html";var n={root:document.body,idName:function(e){return!0},className:function(e){return!0},tagName:function(e){return!0},attr:function(e,t){return!1},seedMinLength:1,optimizedMinLength:2,threshold:1e3,maxNumberOfTries:1e4};bi=Object.assign(Object.assign({},n),t),Ei=function(e,t){return e.nodeType===Node.DOCUMENT_NODE?e:e===t.root?e.ownerDocument:e}(bi.root,n);var i=Li(e,yi.All,(function(){return Li(e,yi.Two,(function(){return Li(e,yi.One)}))}));if(i){var r=Ui(qi(i,e));return r.length>0&&(i=r[0]),Ai(i)}throw new Error("Selector was not found.")}function Li(e,t,n){for(var i=null,r=[],o=e,s=0,a=function(){var e=Ni(function(e){var t=e.getAttribute("id");return t&&bi.idName(t)?{name:"#"+Wi(t,{isIdentifier:!0}),penalty:0}:null}(o))||Ni.apply(void 0,Ge(function(e){return Array.from(e.attributes).filter((function(e){return bi.attr(e.name,e.value)})).map((function(e){return{name:"["+Wi(e.name,{isIdentifier:!0})+'="'+Wi(e.value)+'"]',penalty:.5}}))}(o)))||Ni.apply(void 0,Ge(function(e){return Array.from(e.classList).filter(bi.className).map((function(e){return{name:"."+Wi(e,{isIdentifier:!0}),penalty:1}}))}(o)))||Ni(function(e){var t=e.tagName.toLowerCase();return bi.tagName(t)?{name:t,penalty:2}:null}(o))||[{name:"*",penalty:3}],a=function(e){var t=e.parentNode;if(!t)return null;var n=t.firstChild;if(!n)return null;for(var i=0;n&&(n.nodeType===Node.ELEMENT_NODE&&i++,n!==e);)n=n.nextSibling;return i}(o);if(t===yi.All)a&&(e=e.concat(e.filter(Pi).map((function(e){return Ri(e,a)}))));else if(t===yi.Two)e=e.slice(0,1),a&&(e=e.concat(e.filter(Pi).map((function(e){return Ri(e,a)}))));else if(t===yi.One){var c=Ue(e=e.slice(0,1),1)[0];a&&Pi(c)&&(e=[Ri(c,a)])}var l,u=qe(e);try{for(u.s();!(l=u.n()).done;)l.value.level=s}catch(e){u.e(e)}finally{u.f()}if(r.push(e),r.length>=bi.seedMinLength&&(i=Ii(r,n)))return"break";o=o.parentElement,s++};o&&o!==bi.root.parentElement&&"break"!==a(););return i||(i=Ii(r,n)),i}function Ii(e,t){var n=Ui(Di(e));if(n.length>bi.threshold)return t?t():null;var i,r=qe(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(Oi(o))return o}}catch(e){r.e(e)}finally{r.f()}return null}function Ai(e){for(var t=e[0],n=t.name,i=1;i<e.length;i++){var r=e[i].level||0;n=t.level===r-1?"".concat(e[i].name," > ").concat(n):"".concat(e[i].name," ").concat(n),t=e[i]}return n}function xi(e){return e.map((function(e){return e.penalty})).reduce((function(e,t){return e+t}),0)}function Oi(e){switch(Ei.querySelectorAll(Ai(e)).length){case 0:throw new Error("Can't select any node with this selector: ".concat(Ai(e)));case 1:return!0;default:return!1}}function Ri(e,t){return{name:e.name+":nth-child(".concat(t,")"),penalty:e.penalty+1}}function Pi(e){return"html"!==e.name&&!e.name.startsWith("#")}function Ni(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.filter(Mi);return i.length>0?i:null}function Mi(e){return null!=e}function Di(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(e.length>0){var n,i=[],r=qe(e[0]);try{for(r.s();!(n=r.n()).done;){var o=n.value;i=i.concat(Di(e.slice(1,e.length),t.concat(o)))}}catch(e){r.e(e)}finally{r.f()}return i}return[t]}function Ui(e){return Array.from(e).sort((function(e,t){return xi(e)-xi(t)}))}function qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{counter:0,visited:new Map},i=[];if(e.length>2&&e.length>bi.optimizedMinLength)for(var r=1;r<e.length-1;r++){if(n.counter>bi.maxNumberOfTries)return i;n.counter+=1;var o=Ge(e);o.splice(r,1);var s=Ai(o);if(n.visited.has(s))return i;Oi(o)&&Bi(o,t)&&(i.push(o),n.visited.set(s,!0),i=i.concat(qi(o,t,n)))}return i}function Bi(e,t){return Ei.querySelector(Ai(e))===t}!function(e){e[e.All=0]="All",e[e.Two=1]="Two",e[e.One=2]="One"}(yi||(yi={}));var Fi,ji=/[ -,\.\/:-@\[-\^`\{-~]/,Hi=/[ -,\.\/:-@\[\]\^`\{-~]/,Gi=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,zi={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1};function Wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(Object.assign({},zi),t);"single"!=n.quotes&&"double"!=n.quotes&&(n.quotes="single");for(var i="double"==n.quotes?'"':"'",r=n.isIdentifier,o=e.charAt(0),s="",a=0,c=e.length;a<c;){var l=e.charAt(a++),u=l.charCodeAt(0),d=void 0;if(u<32||u>126){if(u>=55296&&u<=56319&&a<c){var h=e.charCodeAt(a++);56320==(64512&h)?u=((1023&u)<<10)+(1023&h)+65536:a--}d="\\"+u.toString(16).toUpperCase()+" "}else d=n.escapeEverything?ji.test(l)?"\\"+l:"\\"+u.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(l)?"\\"+u.toString(16).toUpperCase()+" ":"\\"==l||!r&&('"'==l&&i==l||"'"==l&&i==l)||r&&Hi.test(l)?"\\"+l:l;s+=d}return r&&(/^-[-\d]/.test(s)?s="\\-"+s.slice(1):/\d/.test(o)&&(s="\\3"+o+" "+s.slice(1))),s=s.replace(Gi,(function(e,t,n){return t&&t.length%2?e:(t||"")+n})),!r&&n.wrap?i+s+i:s}function Vi(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e&&"function"==typeof e.now&&(e.timeOrigin||e.timing)){var n,i=e.now();return n=!e.timing&&t?Math.floor(e.timeOrigin):e.timing.navigationStart,Math.round(i+n)}return Date.now()}function Ki(e){var t=e||performance;return Math.round(t.now())}function Yi(e){if(!e)return"null";if(e.nodeType===Node.ELEMENT_NODE)try{return ki(e,{idName:function(e){return 0!==e.indexOf("ember")}})}catch(e){return"serialization_error"}var t=Yi(e.parentElement||void 0);return"".concat(t," > nodeType(").concat(e.nodeType,")")}function Qi(e,t,n){var i=[];return e&&"function"==typeof e.getEntriesByType&&(t["user-timing-measure-enabled"]&&e.getEntriesByType("measure").forEach((function(e){i.push({entryType:"MEASURE",name:e.name,startTime:e.startTime,duration:e.duration})})),t["user-timing-mark-enabled"]&&e.getEntriesByType("mark").forEach((function(e){i.push({entryType:"MARK",name:e.name,startTime:e.startTime,duration:e.duration})})),n&&(e.clearMeasures(),e.clearMarks())),i}function Xi(e){var t=[];return e.forEach((function(e){return t.push(e)})),t}var Ji,Zi=function(){function e(t){Be(this,e),He(this,"hostApis",void 0),He(this,"hostnameProperties",void 0),He(this,"usedHostnames",void 0),He(this,"abortController",void 0),He(this,"pendingPromises",void 0),this.hostApis=t;var n=t.AbortController;this.hostnameProperties={},this.usedHostnames=new Set,this.abortController=new n,this.pendingPromises=new Set}return je(e,[{key:"clearUsedHostnames",value:function(){this.usedHostnames=new Set}},{key:"getPresentData",value:function(){var e=this;return kt(this.usedHostnames).map((function(t){return e.hostnameProperties[t]||{hostname:t,provider:"",ipVersion:"",httpVersion:""}}))}},{key:"getDataWhenReady",value:function(e){var t=this,n=this.hostApis,i=n.AbortController,r=n.Promise,o=Ct(kt(this.pendingPromises),r),s=setTimeout((function(){t.abortController.abort(),t.abortController=new i}),e);return o.then((function(){return clearTimeout(s),t.getPresentData()}))}},{key:"inspectEntryForCdnData",value:function(e){var t=this;if(!(e.name.indexOf(".licdn.")<0)){var n,i,r=this.hostApis.assign,o=(n=e.name,i=this.hostApis.document,(Fi=Fi||i.createElement("a")).href=n,Fi.hostname);if(this.usedHostnames.add(o),!this.hostnameProperties[o]&&!this.isResourcePossiblyFromCache(e)){var s=this.fetchCdnFromUrl(e.name).then((function(e){var n=r({hostname:o},e);return t.hostnameProperties[o]||(t.hostnameProperties[o]=n),t.pendingPromises.delete(s),n}));this.pendingPromises.add(s)}}}},{key:"fetchCdnFromUrl",value:function(e){return(0,this.hostApis.fetch)(e,{method:"HEAD",signal:this.abortController.signal}).then((function(e){return{provider:e.headers.get("X-CDN")||"",ipVersion:e.headers.get("X-CDN-CLIENT-IP-VERSION")||"",httpVersion:e.headers.get("X-CDN-Proto")||""}}))}},{key:"isResourcePossiblyFromCache",value:function(e){return void 0!==e.transferSize?0===e.transferSize:e.domainLookupStart===e.domainLookupEnd&&e.connectEnd===e.connectStart&&0===e.secureConnectionStart}}]),e}(),$i=function(){function e(t,n,i,r){Be(this,e),He(this,"hostApis",void 0),He(this,"statics",void 0),He(this,"options",void 0),He(this,"allowTimingOrigin",void 0),He(this,"collectResourceTimings",void 0),He(this,"collectCdnData",void 0),He(this,"perfObserver",void 0),He(this,"renderTimings",new Map),He(this,"urlToTreeId",new Map),He(this,"cdnDataProvider",void 0),He(this,"observables",new Si),this.hostApis=t,this.statics=n,this.options=i,this.allowTimingOrigin=r,this.collectResourceTimings=i["enable-rs-timing"],this.collectCdnData=i["enable-cdn-tracking"],this.collectCdnData&&(this.cdnDataProvider=new Zi(t))}return je(e,[{key:"recordTreeId",value:function(e,t){this.collectResourceTimings&&this.urlToTreeId.set(function(e,t){return(Fi=Fi||t.createElement("a")).href=e,Fi.href}(t,this.hostApis.document),e)}},{key:"recordRenderStart",value:function(e,t){this.renderTimings.has(e)||this.renderTimings.set(e,{renderName:t,viewId:e,renderStart:Vi(this.hostApis.performance,this.allowTimingOrigin)})}},{key:"recordRenderEnd",value:function(e){var t=this.renderTimings.get(e);t&&(t.renderEnd=t.renderEnd||Vi(this.hostApis.performance,this.allowTimingOrigin))}},{key:"startObserving",value:function(){var e=this.hostApis,t=e.PerformanceObserver,n=e.performance;this.stopObserving(),t?this.setupPerformanceObserver(t):this.collectResourceTimings&&this.emulateResourceTimingObserver(n),this.collectResourceTimings&&this.processNewResourceTimings()}},{key:"stopObserving",value:function(){var e;null===(e=this.perfObserver)||void 0===e||e.disconnect(),this.reset()}},{key:"collect",value:function(e){var t=this,n=e.isInitial,i=e.immediate,r=this.collectSynchronousData(n);if(i)return r;var o=this.collectAsynchronousData();return"then"in o?o.then((function(e){return(0,t.hostApis.assign)(r,e),r})):r}},{key:"reset",value:function(){var e;this.observables.reset(),null===(e=this.cdnDataProvider)||void 0===e||e.clearUsedHostnames()}},{key:"collectSynchronousData",value:function(e){var t=this.hostApis,n=t.assign,i=t.PerformanceObserver,r=Object.create(null);return this.statics.pageLoadMode=e?"INITIAL":"PARTIAL",i||(this.observables.userTimingEntries=Qi(this.hostApis.performance,this.options,!0),this.collectResourceTimings&&this.processNewResourceTimings()),this.observables.attachTreeIds(this.urlToTreeId),this.urlToTreeId.clear(),n(r,this.observables.getData(),this.snapshot,this.statics),e&&n(r,function(e){if(!e)return{navigationTimingApi:!1};var t=Object.create({});if("function"==typeof e.getEntriesByType){var n=e.getEntriesByType("navigation")[0];n&&(["fetchStart","responseEnd","decodedBodySize","encodedBodySize","transferSize"].every((function(e){return"number"==typeof n[e]}))&&(t.htmlMetrics={htmlFetchStart:n.fetchStart,htmlResponseEnd:n.responseEnd,htmlDecodedBodySize:n.decodedBodySize,htmlEncodedBodySize:n.encodedBodySize,htmlTransferSize:n.transferSize}),t.workerStart=n.workerStart)}var i=e.timing,r=e.navigation;return i&&r?(t.navigationTimingApi=!0,er.forEach((function(e){e in i&&(t[e]=i[e])})),t.navigationType=r.type,t.redirectCount=r.redirectCount):t.navigationTimingApi=!1,t}(this.hostApis.performance)),n(r,this.collectAsynchronousData(!0)),r}},{key:"collectAsynchronousData",value:function(e){var t=this,n={cdnData:[],usedCDN:this.extractUsedCDN([])};if(e){if(this.collectCdnData){var i=this.cdnDataProvider.getPresentData();n.cdnData=i,n.usedCDN=this.extractUsedCDN(i)}return n}var r=[];return this.collectCdnData&&r.push(this.cdnDataProvider.getDataWhenReady(this.options["async-plugins-timeout"]).then((function(e){n.cdnData=e,n.usedCDN=t.extractUsedCDN(e)}))),r.length>0?Ct(r,Promise).then((function(){return n})):n}},{key:"setupPerformanceObserver",value:function(e){var t=this;this.perfObserver=new e((function(e){e.getEntries().forEach((function(e){var n=e.entryType,i=e.name,r=e.startTime,o=e.duration;"resource"===n?t.processSingleResourceTiming(e):"mark"===n?t.observables.userTimingEntries.push({entryType:"MARK",name:i,startTime:r,duration:o}):"measure"===n?t.observables.userTimingEntries.push({entryType:"MEASURE",name:i,startTime:r,duration:o}):"longtask"===n&&t.observables.longTasks.push({duration:o,name:i,startTime:r})}))})),this.observables.userTimingEntries=Qi(this.hostApis.performance,this.options,!1);var n=["longtask"];(this.collectResourceTimings||this.collectCdnData)&&n.push("resource"),this.options["user-timing-mark-enabled"]&&n.push("mark"),this.options["user-timing-measure-enabled"]&&n.push("measure"),this.perfObserver.observe({entryTypes:n})}},{key:"emulateResourceTimingObserver",value:function(e){var t=this;e&&"function"==typeof e.setResourceTimingBufferSize&&"function"==typeof e.onresourcetimingbufferfull&&(e.setResourceTimingBufferSize(100),e.onresourcetimingbufferfull=function(){return t.processNewResourceTimings()})}},{key:"processNewResourceTimings",value:function(){var e=this,t=this.hostApis.performance;"function"==typeof t.getEntriesByType&&"function"==typeof t.clearResourceTimings&&(t.getEntriesByType("resource").forEach((function(t){return e.processSingleResourceTiming(t)})),t.clearResourceTimings())}},{key:"processSingleResourceTiming",value:function(e){this.collectResourceTimings&&this.observables.resourceTimingEntries.push(e),this.collectCdnData&&this.cdnDataProvider.inspectEntryForCdnData(e)}},{key:"extractUsedCDN",value:function(e){var t=e.filter((function(e){return e.hostname.indexOf("static")>=0})),n=t.length>0?t[0]:{hostname:"",provider:"",httpVersion:"",ipVersion:""};return{static_domain:n.provider,http_version:n.httpVersion,ip_version:n.ipVersion}}},{key:"snapshot",get:function(){var e={detailedRenderTimingEntries:Xi(this.renderTimings),networkInformationMetrics:tr(this.hostApis.connection)};return this.renderTimings.clear(),e}}]),e}(),er=["loadEventEnd","loadEventStart","domComplete","domContentLoadedEventEnd","domContentLoadedEventStart","domInteractive","domLoading","responseEnd","responseStart","requestStart","secureConnectionStart","connectEnd","connectStart","domainLookupEnd","domainLookupStart","fetchStart","redirectEnd","redirectStart","unloadEventEnd","unloadEventStart","navigationStart"];function tr(e){return e?{connectionType:e.type&&e.type.toUpperCase()||"UNKNOWN",effectiveType:function(e){switch(e){case"2g":return"TWO_G";case"3g":return"THREE_G";case"4g":return"FOUR_G";default:return"SLOW_2G"}}(e.effectiveType),roundTripTime:e.rtt||-1,downlinkBandwidth:e.downlink||-1,downlinkMaxBandwidth:void 0===e.downlinkMax?-1:e.downlinkMax===1/0?0:e.downlinkMax}:void 0}!function(e){e.RealUserMonitoringEvent="RealUserMonitoringEvent",e.FeaturePerformanceMeasurementEvent="FeaturePerformanceMeasurementEvent",e.ClientPerfMetricsEvent="ClientPerfMetricsEvent",e.WEB_UI_FRAMEWORK="web-ui-framework",e.APP_ID="app-id",e.APP_VERSION="app-version",e.IS_SINGLE_PAGE_APP="is-single-page-app",e.IS_APP_RENDER_FAILED="is-app-render-failed",e.APP_RENDER_MODE="app-render-mode",e.USER_TIMING_MARK_ENABLED="user-timing-mark-enabled",e.USER_TIMING_MEASURE_ENABLED="user-timing-measure-enabled",e.BEACON_SOURCE="beacon-source",e.BEACON_TIMEOUT="beacon-timeout",e.ENABLE_RS_TIMING="enable-rs-timing",e.ENABLE_CDN_TRACKING="enable-cdn-tracking",e.ASYNC_PLUGINS_TIMEOUT="async-plugins-timeout",e.ENABLE_MEMORY_MEASUREMENT="enable-memory-measurement",e.PAGE_KEY_PREFIX="pageKeyPrefix"}(Ji||(Ji={}));var nr=(He(De={},"web-ui-framework","EMBER"),He(De,"app-id","linkedin.rum.tracking"),He(De,"app-version","unknown"),He(De,"is-single-page-app",!0),He(De,"user-timing-mark-enabled",!1),He(De,"user-timing-measure-enabled",!0),He(De,"beacon-source","apps"),He(De,"enable-rs-timing",!0),He(De,"enable-cdn-tracking",!1),He(De,"async-plugins-timeout",5e3),He(De,"beacon-timeout",3e4),He(De,"enable-memory-measurement",!1),He(De,"pageKeyPrefix",""),De),ir=function(){function e(t,n,i){Be(this,e),He(this,"featureName",void 0),He(this,"trackingCore",void 0),He(this,"rumConfig",void 0),He(this,"observing",!1),He(this,"basePageTreeId",void 0),He(this,"startPageInstance",void 0),He(this,"startMemory",void 0),He(this,"reportTimeouts",[]),this.featureName=t,this.trackingCore=n,this.rumConfig=i}return je(e,[{key:"startObserving",value:function(){var t,n=this,i=this.getMemory();i&&!this.observing&&(this.basePageTreeId=this.trackingCore.host.treeID||"",this.startPageInstance=(null===(t=this.trackingCore.getCurrentContext())||void 0===t?void 0:t.pageInstance)||_t("unknown"),this.startMemory=i,this.reportTimeouts=e.checkpoints.map((function(e){return setTimeout((function(){return n.reportMemory(e)}),60*e*1e3)})))}},{key:"stopObserving",value:function(){this.reportTimeouts.forEach((function(e){return clearTimeout(e)})),this.observing=!1}},{key:"reportMemory",value:function(e){var t={name:this.featureName,basePageTreeId:this.basePageTreeId,startTime:Ki(this.trackingCore.host.api.performance),duration:0,startPageInstance:this.startPageInstance,marks:this.createMemoryMarks("-".concat(e,"min")),spans:[]};this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"FeaturePerformanceMeasurementEvent"},t)}},{key:"createMemoryMarks",value:function(e){var t=this.getMemory(),n=["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].map((function(n){return{name:n+e,startTime:t[n]}})),i=t.usedJSHeapSize-this.startMemory.usedJSHeapSize;return n.push({name:(i<0?"usedJSHeapSizeDecrease":"usedJSHeapSizeIncrease")+e,startTime:Math.abs(i)},{name:"utilization"+e,startTime:Math.round(t.usedJSHeapSize/t.totalJSHeapSize*100)}),n}},{key:"getMemory",value:function(){return this.trackingCore.host.api.performance.memory}}]),e}();He(ir,"checkpoints",[1,3,10,30,90,180,300]);var rr,or,sr,ar,cr,lr=je((function e(t,n,i){Be(this,e),He(this,"webUIFramework",void 0),He(this,"timeSource",void 0),He(this,"isSinglePageApp",void 0),He(this,"appRenderMode",void 0),He(this,"isAppRenderFailed",void 0),He(this,"pageLoadMode","INITIAL"),He(this,"isSSL",void 0),He(this,"treeId",void 0),He(this,"isFromServiceWorker",void 0),this.webUIFramework=n["web-ui-framework"],this.timeSource=n["beacon-source"],this.isSinglePageApp=n["is-single-page-app"],this.appRenderMode=t["app-render-mode"],this.isAppRenderFailed=t["is-app-render-failed"],this.isSSL="https:"===i.api.location.protocol?1:0,this.treeId=i.treeID,this.isFromServiceWorker=i.isFromServiceWorker})),ur=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},dr=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},hr=function(e,t){var n=function n(i){"pagehide"!==i.type&&"hidden"!==document.visibilityState||(e(i),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},pr=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},fr=function(e,t,n){var i;return function(r){t.value>=0&&(r||n)&&(t.delta=t.value-(i||0),(t.delta||void 0===i)&&(i=t.value,e(t)))}},mr=-1,gr=function(){return"hidden"===document.visibilityState?0:1/0},vr=function(){hr((function(e){var t=e.timeStamp;mr=t}),!0)},yr=function(){return mr<0&&(mr=gr(),vr(),pr((function(){setTimeout((function(){mr=gr(),vr()}),0)}))),{get firstHiddenTime(){return mr}}},br=!1,Er=-1,_r=function(e,t){br||(function(e,t){var n,i=yr(),r=ur("FCP"),o=function(e){"first-contentful-paint"===e.name&&(a&&a.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=e.startTime,r.entries.push(e),n(!0)))},s=window.performance&&performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],a=s?null:dr("paint",o);(s||a)&&(n=fr(e,r,t),s&&o(s),pr((function(i){r=ur("FCP"),n=fr(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,n(!0)}))}))})))}((function(e){Er=e.value})),br=!0);var n,i=function(t){Er>-1&&e(t)},r=ur("CLS",0),o=0,s=[],a=function(e){if(!e.hadRecentInput){var t=s[0],i=s[s.length-1];o&&e.startTime-i.startTime<1e3&&e.startTime-t.startTime<5e3?(o+=e.value,s.push(e)):(o=e.value,s=[e]),o>r.value&&(r.value=o,r.entries=s,n())}},c=dr("layout-shift",a);c&&(n=fr(i,r,t),hr((function(){c.takeRecords().map(a),n(!0)})),pr((function(){o=0,Er=-1,r=ur("CLS",0),n=fr(i,r,t)})))},wr={passive:!0,capture:!0},Sr=new Date,Tr=function(e,t){rr||(rr=t,or=e,sr=new Date,Lr(removeEventListener),Cr())},Cr=function(){if(or>=0&&or<sr-Sr){var e={entryType:"first-input",name:rr.type,target:rr.target,cancelable:rr.cancelable,startTime:rr.timeStamp,processingStart:rr.timeStamp+or};ar.forEach((function(t){t(e)})),ar=[]}},kr=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){Tr(e,t),r()},i=function(){r()},r=function(){removeEventListener("pointerup",n,wr),removeEventListener("pointercancel",i,wr)};addEventListener("pointerup",n,wr),addEventListener("pointercancel",i,wr)}(t,e):Tr(t,e)}},Lr=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,kr,wr)}))},Ir=function(e,t){var n,i=yr(),r=ur("FID"),o=function(e){e.startTime<i.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),n(!0))},s=dr("first-input",o);n=fr(e,r,t),s&&hr((function(){s.takeRecords().map(o),s.disconnect()}),!0),s&&pr((function(){var i;r=ur("FID"),n=fr(e,r,t),ar=[],or=-1,rr=null,Lr(addEventListener),i=o,ar.push(i),Cr()}))},Ar={},xr=function(e,t){var n,i=yr(),r=ur("LCP"),o=function(e){var t=e.startTime;t<i.firstHiddenTime&&(r.value=t,r.entries.push(e)),n()},s=dr("largest-contentful-paint",o);if(s){n=fr(e,r,t);var a=function(){Ar[r.id]||(s.takeRecords().map(o),s.disconnect(),Ar[r.id]=!0,n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,a,{once:!0,capture:!0})})),hr(a,!0),pr((function(i){r=ur("LCP"),n=fr(e,r,t),requestAnimationFrame((function(){requestAnimationFrame((function(){r.value=performance.now()-i.timeStamp,Ar[r.id]=!0,n(!0)}))}))}))}},Or=["LCP","FID","CLS"],Rr={LCP:"LargestContentfulPaint",FID:"FirstInputDelay",CLS:"CumulativeLayoutShift"},Pr={},Nr=function(){var e;if(!Yn)return"";var t=window.performance,n=void 0;if("function"==typeof(null==t?void 0:t.getEntriesByType)){var i,r=null===(i=window.performance)||void 0===i?void 0:i.getEntriesByType("navigation");(null==r?void 0:r.length)>0&&(n=r[0])}return(null===(e=n)||void 0===e?void 0:e.name)||window.location.href}(),Mr=!1,Dr=[],Ur={LCP:"largest-contentful-paint",FID:"first-input",CLS:"layout-shift"};function qr(){var e=!0===window.__test__resetWebVitalsState;if(!Mr||e){e&&(Dr=[]),Or.forEach(Br);var t=Symbol();cr=t,[xr,Ir,_r].forEach((function(e){return e(Fr.bind(null,t),!0)})),[xr,Ir,_r].forEach((function(e){return e(jr.bind(null,t))})),Mr=!0}}function Br(e){Pr[e]={name:e,value:-1,updateHistory:[]};var t=Ur[e];"undefined"!=typeof PerformanceObserver&&void 0!==PerformanceObserver.supportedEntryTypes&&"string"==typeof t&&PerformanceObserver.supportedEntryTypes.indexOf(t)>-1||(Pr[e].value=-2)}function Fr(e,t){if(e===cr){var n=Pr[t.name],i=Ki();n&&(n.updateHistory.push({time:i,data:t}),n.value=t.value),Dr.forEach((function(e){return e(t,i,!1)}))}}function jr(e,t){e===cr&&Dr.forEach((function(e){return e(t,Ki(),!0)}))}var Hr=function(){function e(t,n){Be(this,e),He(this,"basePageTreeId",void 0),He(this,"basePageKey",void 0),He(this,"observing",!1),He(this,"appContextMap",new Map),He(this,"rumConfig",void 0),He(this,"trackingCore",void 0),this.trackingCore=t,this.rumConfig=n}return je(e,[{key:"startObserving",value:function(){var e,t,n=this;qr(),this.observing||(this.observing=!0,this.basePageTreeId=this.trackingCore.host.treeID||"_unknown",this.basePageKey=(null===(e=this.trackingCore.getCurrentContext())||void 0===e?void 0:e.pageKey)||"_unknown",Or.forEach((function(e){var t;-2===(null===(t=Pr[e])||void 0===t?void 0:t.value)&&n.reportMetric(e)})),t=this.onMetricUpdate.bind(this),Dr.push(t))}},{key:"stopObserving",value:function(){this.observing=!1}},{key:"onMetricUpdate",value:function(e,t,n){var i;this.observing&&(n?this.reportMetric(e.name):this.appContextMap.set(t,{time:t,url:location.href,pageKey:null===(i=this.trackingCore.getCurrentContext())||void 0===i?void 0:i.pageKey}))}},{key:"reportMetric",value:function(e){var t=Pr[e],n={name:Rr[e]||e};"CLS"===e?n.doubleValue=t.value:n.longValue=Math.round(t.value);var i=Pr[e];if(i){var r=function(e,t,n,i,r){var o={basePageTreeId:e,basePageKey:t,basePageUrl:Nr},s=null;switch(n.name){case"LCP":s=function(e,t){var n;if(0===e.updateHistory.length)return null;var i=e.updateHistory[e.updateHistory.length-1],r=i.data.entries,o=r[r.length-1],s={pageKey:(null===(n=t.get(i.time))||void 0===n?void 0:n.pageKey)||"_unknown",element:Yi(o.element),renderTime:Math.round(o.renderTime),loadTime:Math.round(o.loadTime),size:Math.round(o.size)};return o.url&&(s.url=o.url),s}(n,i);break;case"FID":s=function(e,t){var n;if(0===e.updateHistory.length)return null;var i=e.updateHistory[e.updateHistory.length-1],r=i.data.entries,o=r[r.length-1];return{pageKey:(null===(n=t.get(i.time))||void 0===n?void 0:n.pageKey)||"_unknown",processingStart:Math.round(o.processingStart),processingEnd:Math.round(o.processingEnd),target:Yi(o.target)}}(n,i);break;case"CLS":s=function(e,t){if(0===e.updateHistory.length)return null;var n=e.updateHistory.map((function(e){return e.data.entries})).flat();if(0===n.length)return null;var i=n.reduce((function(e,t){return e&&e.value>t.value?e:t})),r=e.updateHistory.find((function(e){return e.data.entries.includes(i)})),o=null;i&&i.sources&&i.sources.length&&(o=i.sources.reduce((function(e,t){return e.node&&e.previousRect.width*e.previousRect.height>t.previousRect.width*t.previousRect.height?e:t})));var s,a=t.get(r.time);return o&&a?{shiftCount:n.length,"largestShift.value":i.value,"largestShift.hadRecentInput":i.hadRecentInput,"largestShift.largestSource.node":Yi(null===(s=o)||void 0===s?void 0:s.node),"largestShift.pageKey":a.pageKey||"_unknown","largestShift.url":a.url,"largestShift.startTime":Math.round(i.startTime)}:null}(n,i)}if(s){var a={};return r(a,o,s),a}return o}(this.basePageTreeId,this.basePageKey,i,this.appContextMap,this.trackingCore.host.api.assign);n.metadata=function(e){var t={};return Object.keys(e).forEach((function(n){var i=e[n];t[n]="string"==typeof i?i:JSON.stringify(i)})),t}(r)}var o={scope:{scopeType:"APPLICATION_INSTANCE",scopeKey:this.basePageTreeId},metrics:[n]};this.trackingCore.fireEvent({appId:this.rumConfig["app-id"],eventName:"ClientPerfMetricsEvent"},o)}}]),e}();!function(){function e(t,n,i){var r,o;Be(this,e),He(this,"core",void 0),He(this,"config",void 0),He(this,"collector",void 0),He(this,"boomerangStart",-1),He(this,"webVitalsObserver",void 0),He(this,"appMemoryObserver",void 0),He(this,"pageMemoryObserver",void 0),He(this,"liveTokens",new Set),He(this,"stateWM",new WeakMap),He(this,"activeToken",void 0),He(this,"isInitial",void 0),He(this,"beforeHideHandlerBound",this.beforeHideHandler.bind(this)),this.core=i,this.config=function(e,t){for(var n in e)void 0!==t[n]&&(e[n]=t[n]);return e}(i.host.api.assign({},nr),n);var s="enabled"===(null===(r=(o=this.core.host).__getLixTreatment)||void 0===r?void 0:r.call(o,"pemberly.tracking.time-origin-epoch-time"));this.collector=new $i(i.host.api,new lr(t,this.config,i.host),this.config,s),this.collector.startObserving(),Rt.before("internal:hide",this.beforeHideHandlerBound)}je(e,[{key:"pingCDN",value:function(){}},{key:"recordTreeId",value:function(e,t){e&&this.collector.recordTreeId(e,t)}},{key:"recordRenderStart",value:function(e,t){this.collector.recordRenderStart(e,t||e)}},{key:"recordRenderEnd",value:function(e){this.collector.recordRenderEnd(e)}},{key:"start",value:function(){var e,t,n,i;this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.isInitial=void 0===this.isInitial,this.isInitial||this.collector.reset();var r,o=Object.create(null),s="enabled"===(null===(e=(t=this.core.host).__getLixTreatment)||void 0===e?void 0:e.call(t,"pemberly.tracking.time-origin-epoch-time"));return this.activeToken=o,this.liveTokens.add(o),this.stateWM.set(o,{isInitial:this.isInitial,startTime:Vi(this.core.host.api.performance,s)}),(this.config["enable-memory-measurement"]||"enabled"===(null===(n=(i=this.core.host).__getLixTreatment)||void 0===n?void 0:n.call(i,"pemberly.tracking.rum-memory-measurement")))&&(null===(r=this.pageMemoryObserver)||void 0===r||r.stopObserving(),this.pageMemoryObserver=new ir("page-memory",this.core,this.config),this.pageMemoryObserver.startObserving(),void 0===this.appMemoryObserver&&(this.appMemoryObserver=new ir("application-memory",this.core,this.config),this.appMemoryObserver.startObserving())),o}},{key:"observeWebVitals",value:function(){void 0===this.webVitalsObserver&&(this.webVitalsObserver=new Hr(this.core,this.config),this.webVitalsObserver.startObserving())}},{key:"end",value:function(e){var t,n,i=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2?arguments[2]:void 0;if(e&&this.activeToken&&this.activeToken===e){var s=this.stateWM.get(e),a="enabled"===(null===(t=(n=this.core.host).__getLixTreatment)||void 0===t?void 0:t.call(n,"pemberly.tracking.time-origin-epoch-time")),c=Vi(this.core.host.api.performance,a);s.endProps={renderCompleteTime:c,isImpactedByHiddenWindow:r,rumKey:o};var l=this.activeToken;s.fireRumEventTimeout=setTimeout((function(){var e=i.collector.collect({isInitial:s.isInitial});"then"in e?e.then((function(e){i.fireRumEvent(e,l)})):i.fireRumEvent(e,l)}),this.config["beacon-timeout"]),this.activeToken=void 0}else Rt.emit("internal:error",{tags:["core-web-tracking:rum:end"],reason:new Error("RUM end: rum token passed is invalid")})}},{key:"destroy",value:function(){var e,t,n;Rt.offBefore("internal:hide",this.beforeHideHandlerBound),this.activeToken&&this.abort(this.activeToken),this.flushEndedSessions(),this.collector.stopObserving(),null===(e=this.webVitalsObserver)||void 0===e||e.stopObserving(),null===(t=this.appMemoryObserver)||void 0===t||t.stopObserving(),null===(n=this.pageMemoryObserver)||void 0===n||n.stopObserving(),this.core.destroy()}},{key:"abort",value:function(e){var t;if(!e||this.activeToken!==e)throw new Error("RUM abort: rum token passed is invalid");if(null!==(t=this.stateWM.get(e))&&void 0!==t&&t.endProps)throw new Error("RUM abort: Can't abort a session that was already ended");this.activeToken=void 0,this.stateWM.delete(e),this.liveTokens.delete(e)}},{key:"flushEndedSessions",value:function(){var e=this;this.liveTokens.forEach((function(t){var n=e.stateWM.get(t);if(n.endProps){var i=e.collector.collect({isInitial:n.isInitial,immediate:!0});e.fireRumEvent(i,t)}}))}},{key:"fireRumEvent",value:function(e,t){if(this.stateWM.get(t)){var n=this.core.host.api.assign,i=this.stateWM.get(t),r=i.startTime,o=i.endProps;if(o){var s=o.renderCompleteTime,a=o.isImpactedByHiddenWindow,c=o.rumKey,l=this.boomerangStart=e.navigationStart||this.boomerangStart,u=e.navigationStart||r,d=s-u,h=this.config["app-version"];this.core.fireEvent({appId:this.config["app-id"],eventName:"RealUserMonitoringEvent"},(function(t){return n({pageKey:c||t.pageKey,isImpactedByHiddenWindow:a,appVersion:h,timeDone:d,navigationStart:u,boomerangStart:l,renderCompleteTime:s},e)})),i.fireRumEventTimeout&&clearTimeout(i.fireRumEventTimeout),this.liveTokens.delete(t),this.stateWM.delete(t)}else this.abort(t)}}},{key:"beforeHideHandler",value:function(){this.flushEndedSessions()}}])}();var Gr="undefined"!=typeof window&&"undefined"!=typeof performance,zr="undefined"!=typeof location&&-1!==location.search.indexOf("_LI_MEASURE_DEBUG");function Wr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax",n=arguments.length>2?arguments[2]:void 0;e.fireTrackingEvent("PageViewEvent",Vr(n,t))}function Vr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax";const n=_(document),i=S(document),r=Me();let o={};return r&&(o.theme=r.toUpperCase()),i&&(o.interfaceLocale=i),e&&(o.pageKey=e),{header:{},requestHeader:o,pageType:t,trackingInfo:{clientTimestamp:Date.now(),pageTag:n}}}function Kr(e,t){const n=S(document),i={};n&&(i.interfaceLocale=n);const r={header:{},requestHeader:i,moduleNames:t};e.fireTrackingEvent("ViewModuleImpressionEvent",r)}function Yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e.state&&e.state.currentPageInstance||{};let{trackingId:n}=t;return n&&!Qr(n)&&e.convertUuidTrackingIdToBase64&&(n=e.convertUuidTrackingIdToBase64(n)),"".concat(t.pageUrn,";").concat(n)}function Qr(e){return"string"==typeof e&&"=="===e.slice(-2)}function Xr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=xe({},e),n=u(window.location.href,"originalReferer")||u(window.location.href,"original_referer");return n&&(t.requestHeader=xe(xe({},t.requestHeader),{},{referer:n})),Jr(t)}function Jr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=xe({},e),n=Me();return n&&(t.requestHeader=xe(xe({},t.requestHeader),{},{theme:n.toUpperCase()})),t}!function(){function e(t,n){Be(this,e),He(this,"featureKey",void 0),He(this,"productName",void 0),He(this,"endPageInstance",void 0),He(this,"startPageInstance",void 0),He(this,"isCanceled",!1),He(this,"featureIdentifier",void 0),He(this,"name",void 0),He(this,"startTime",void 0),He(this,"duration",void 0),He(this,"marks",[]),He(this,"spanStarts",new Map),He(this,"spans",[]),He(this,"isSpanContainer",!1),He(this,"basePageTreeId",void 0),He(this,"isClosed",!1),this.featureKey=t,this.productName=n;var i=n?"::".concat(n):"";this.featureIdentifier="".concat(t).concat(i),this.name=t}je(e,[{key:"start",value:function(e){this.startPageInstance=e,Gr&&(this.startTime=Ki(),zr&&performance.mark("LI:".concat(this.featureIdentifier,"-start")))}},{key:"mark",value:function(e){Gr&&(this.marks.push({name:e,startTime:Ki()}),zr&&(performance.mark("LI:".concat(this.featureIdentifier,"-mark-").concat(e)),performance.measure("LI:".concat(this.featureIdentifier,"-mark-").concat(e),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-mark-").concat(e))))}},{key:"spanStart",value:function(e){Gr&&(this.spanStarts.set(e,Ki()),zr&&performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start")))}},{key:"spanEnd",value:function(e,t){if(Gr&&this.spanStarts.has(e)){var n=this.spanStarts.get(e);this.spans.push({name:t||e,startTime:n,duration:Ki()-n}),zr&&(performance.mark("LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")),performance.measure("LI:".concat(this.featureIdentifier,"-span-").concat(t||e),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-start"),"LI:".concat(this.featureIdentifier,"-span-").concat(e,"-end")))}}},{key:"deleteSpan",value:function(e){if(this.isClosed)throw new Error("[rum measurement] spans can only be deleted before the feature performance measurement ends.");for(var t=this.spans.length-1;t>=0;t--)if(this.spans[t].name===e)return void this.spans.splice(t,1)}},{key:"end",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.isClosed){if(this.isSpanContainer=t,this.isClosed=!0,this.isCanceled)throw new Error('[rum measurement] cannot end a canceled measurement "'.concat(this.featureIdentifier,'"'));this.endPageInstance=e,Gr&&(this.duration=Ki()-this.startTime,zr&&!this.isSpanContainer&&(performance.mark("LI:".concat(this.featureIdentifier,"-end")),performance.measure("LI:".concat(this.featureIdentifier),"LI:".concat(this.featureIdentifier,"-start"),"LI:".concat(this.featureIdentifier,"-end"))),this.cleanUp())}}},{key:"cancel",value:function(){this.isCanceled||(this.isCanceled=!0)}},{key:"setBasePageTreeId",value:function(e){this.basePageTreeId=e}},{key:"toEventBody",value:function(){if(Gr){var e={name:this.featureKey,startTime:this.startTime,duration:this.isSpanContainer?-1:this.duration,basePageTreeId:this.basePageTreeId,startPageInstance:this.startPageInstance||_t("unknown"),marks:this.marks,spans:this.spans};return this.productName&&(e.productName=this.productName),e}}},{key:"check",value:function(){if(Gr){if(this.isCanceled)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" has been canceled'));if(!this.isClosed)throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is still open'));if(this.isSpanContainer&&0===this.spans.length)throw new Error("The span container should have at least one span");for(var e=0,t=["startTime","duration","basePageTreeId"];e<t.length;e++){var n=t[e];if(void 0===this[n])throw new Error('[rum measurement] "'.concat(this.featureIdentifier,'" is missing "').concat(n,'"'))}}}},{key:"cleanUp",value:function(){this.spanStarts.clear()}}])}();const{ENTER:Zr,ESCAPE:$r}=L,eo="modal",to="modal__overlay--visible",no="overflow-hidden",io="top-level-modal-container";class ro{constructor(e){let{enablePageViewTracking:t=!1,shouldHideModal:n=(()=>!1),triggerByOutletEl:i=!0,shouldMoveToTopContainer:r=!0,events:o={},focusElement:s,pageKey:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No modal element passed in");this._el=e,this._parentNode=this._el.parentNode,r&&(this._topLevelContainer=this._getTopLevelContainer()),this._wrapperEl=this._el.querySelector(".".concat("modal__wrapper")),this._overlayEl=this._el.querySelector(".".concat("modal__overlay")),o&&(this._events=o),i&&(this._outletEls=this._getOutletEls()),this._exitButtonEl=this._el.querySelector(".".concat("modal__dismiss")),this._onKeyDownEvent=e=>this._onKeyDown(e),this._enablePageViewTracking=t,this._pageKey=a,this._shouldHideModal=n,this._shouldMoveToTopContainer=r;this._el.querySelector("[id='".concat("modalNoDismiss","']"))&&(this._isModalNonDismissible=!0),this._focusElement=s,i&&this._outletEls.forEach((e=>{e.addEventListener("click",(()=>this.open()))})),this._isModalNonDismissible||(this._exitButtonEl&&this._exitButtonEl.addEventListener("click",(()=>this.close())),this._overlayEl.addEventListener("click",this._handleOverlayClick.bind(this))),this._focusTrap=new W(this._wrapperEl)}_getOutletEls(){const e=this._el.dataset.outlet,t=[...("default-outlet"===e?this._parentNode:document).querySelectorAll('[data-modal="'.concat(e,'"]'))];if(!t.length)throw new Error("No outlet was found with a data-modal attribute equal to the provided dataCustomOutlet param ".concat(e));return t}_getTopLevelContainer(){const e=document.querySelector(".".concat(io));if(!e){const e=document.createElement("div");return e.className=io,document.body.appendChild(e)}return e}_handleOverlayClick(e){e.target===this._wrapperEl||this._wrapperEl.contains(e.target)||this.close()}_onKeyDown(e){const t=A(e.key),n=t===Zr&&document.activeElement===this._exitButtonEl;(t===$r||n)&&(this._isModalNonDismissible||this.close(),e.preventDefault())}open(){let{focusElement:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._shouldHideModal())return this._focusElement=e||this._focusElement,this._previouslyFocusedEl=document.activeElement,this._overlayEl.classList.add(to),this._shouldMoveToTopContainer&&this._topLevelContainer.appendChild(this._el),this.noScroll(),document.addEventListener("keydown",this._onKeyDownEvent),m(this._el,"open"),this._wrapperEl&&this._wrapperEl.focus(),this._focusTrap.init(),this._enablePageViewTracking&&window.tracking?window.tracking.then((e=>{Wr(e,"ajax",this._pageKey||"".concat(this._el.id))})):(m(this._wrapperEl,"afterOpen"),Promise.resolve());m(this._el,"didNotOpen")}async close(){var e,t;this._events.onBeforeClose&&await(null===(e=this._events)||void 0===e||null===(t=e.onBeforeClose)||void 0===t?void 0:t.call(e,this._wrapperEl));this._overlayEl.classList.remove(to),this._shouldMoveToTopContainer&&this._parentNode.appendChild(this._el),this.removeNoScroll(),document.removeEventListener("keydown",this._onKeyDownEvent),m(this._el,"close"),setTimeout((()=>{var e;(null===(e=this._focusElement)||void 0===e?void 0:e.focus())||this._previouslyFocusedEl.focus()}),50),this._focusTrap.tearDown()}noScroll(){document.body.classList.add(no)}removeNoScroll(){document.body.classList.remove(no)}}class oo{constructor(e){if(!e)throw Error("An element must be provided to SidePanel");this.el=e,this.modalEl=this.el.querySelector(".modal"),this.modal=new ro(this.modalEl,{events:this._events()}),this._onAfterOpen()}_onAfterOpen(){this.modalEl.addEventListener("afterOpen",(e=>{e.target.classList.remove("translate-x-full")}))}_events(){return{onBeforeClose:e=>new Promise((t=>{e.classList.add("translate-x-full"),setTimeout((()=>{t()}),330)}))}}}const so="member-nav-header__search--focused";class ao{constructor(){const e=document.querySelector(".member-nav-menu");if(!e)throw Error("The member header should have a dropdown element");const t=document.querySelector('[data-id="member-nav-header__link-item-me"]');this.collapsibleDropdown=new $(e,{dropdownTriggerEl:t}),this.searchEl=document.querySelector('[data-id="member-nav-header__search"]'),this.searchEl&&(this.searchEl.addEventListener("focusin",(()=>this.searchEl.classList.add(so))),this.searchEl.addEventListener("focusout",(()=>this.searchEl.classList.remove(so)))),this.sidePanelEl=document.querySelector(".sidepanel-menu"),this.sidePanelEl&&(this.sidePanel=new oo(this.sidePanelEl))}}function co(e,t){t=t||"log";if("undefined"!=typeof window&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}const lo=/ /g,uo=/[\s\u0000<>"]|%00/,ho=/\\/,po=/([.]|%2e){2}/i;let fo=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function mo(e){let t,n="invalid://";if("string"!=typeof e)return co("jSecure Warning: url must be a string","error"),n;if(t=e.trim(),t.indexOf(" ")>-1&&(co("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(lo,"+")),!fo.test(t))return co("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n;if(uo.test(t))return co("jSecure Error: not valid url character found in url: "+e,"error"),n;let i,r=t.split("?")[0],o=!1;try{i=decodeURI(r)}catch(e){o=!0}return o?(co("jSecure Error: malformed url path detected: "+r),n):ho.test(r)||po.test(r)||po.test(i)?(co("jSecure Error: malicious data found in url path: "+r,"error"),n):e}const go={redirect(e){window&&(window.location.href=e)}};function vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return e.innerWidth<=769}function yo(e){return e.scrollHeight>e.offsetHeight}const bo="hidden",Eo="aria-hidden";function _o(e,t){const n=a(e);for(let e=0;e<n.length;e++)n[e]&&1===n[e].nodeType&&t(n[e])}function wo(e){To([e])}function So(e){Co([e])}function To(e){_o(e,(e=>{e.classList.add(bo),e.setAttribute(Eo,"true")}))}function Co(e){_o(e,(e=>{e.classList.remove(bo),e.setAttribute(Eo,"false")}))}function ko(e){null==e||e.setAttribute("disabled","disabled"),null==e||e.setAttribute("aria-disabled","true")}function Lo(e){null==e||e.removeAttribute("disabled"),null==e||e.removeAttribute("aria-disabled")}function Io(){return document.documentElement.classList.contains("safari")}function Ao(){return document.documentElement.classList.contains("ios")}function xo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;const i=null==n?void 0:n.querySelector(".".concat(e));if(i&&yo(i)){const r=n.querySelector(t);null==r||r.classList.remove("invisible"),null==r||r.addEventListener("click",(()=>{i.classList.remove(e),r.classList.add("invisible")}))}}const Oo="prev",Ro="next",Po="slide-list__list--dragging",No="slide-list__indicator-button-container",Mo="slide-list__indicator--selected";class Do{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!e)throw new Error("No element passed in");this._el=e,this._previousButton=e.querySelector(".".concat('slide-list__nav-button[data-direction="prev"]')),this._nextButton=e.querySelector(".".concat('slide-list__nav-button[data-direction="next"]')),this._listEl=e.querySelector(".slide-list__list"),this._dragLimit=this._listEl.offsetWidth,this._items=[...this._listEl.children],this._lock={},this._currentPage=t,this._isRtl="rtl"===document.body.dir,this._isMinimalNav=e.querySelector(".".concat("slide-list__header-nav--minimal")),this._prevTabIndexMap=new Map,this._boundFireScrollEvent=this._fireScrollEvent.bind(this),this._indicatorElement=e.querySelector(".".concat(No)),this._indicatorClickHandler=this._handleIndicatorClick.bind(this),this._noMorePreviousContentAlert=this._el.querySelector(".previous-slide-list__a11y-notification"),this._noMoreNextContentAlert=this._el.querySelector(".next-slide-list__a11y-notification"),this._initCalc(),window.addEventListener("resize",this._handleWindowResize.bind(this)),"ontouchstart"in window&&(this._el.addEventListener("touchstart",this._handleTouchStart.bind(this)),this._el.addEventListener("touchmove",this._handleTouchMove.bind(this)),this._el.addEventListener("touchend",this._handleTouchEnd.bind(this))),e.querySelector(".slide-list__nav")&&this._el.addEventListener("click",this._handleScrollAction.bind(this))}next(e){return e=e||1,this._currentPage+e<=this._pageTranslates.length-1&&(this._currentPage+=e,this._updateSlideButtons(),this._updateListPosition(),this._updateFocusableElements(),this._dispatchPageChangeEvent()),this._currentPage}prev(e){return e=e||1,this._currentPage-e>=0&&(this._currentPage-=e,this._updateSlideButtons(),this._updateListPosition(),this._updateFocusableElements(),this._dispatchPageChangeEvent()),this._currentPage}goToItem(e){const t=Number(e)-this._currentPage;if(0===t)return this._currentPage;t<0?this.prev(Math.abs(t)):this.next(t)}_handleIndicatorClick(e){const t=e.target.closest("[data-position]");t&&this.goToItem(t.dataset.position)}_handleWindowResize(){this._isResizing||(this._isResizing=!0,window.requestAnimationFrame(this._initCalc.bind(this)))}_updateIndicator(){this._indicatorElement&&(this._pageItems.length===this._items.length?(So(this._indicatorElement),this._indicatorElement.isActive=!0,this._indicatorElement.addEventListener("click",this._indicatorClickHandler)):(wo(this._indicatorElement),this._indicatorElement.isActive=!1,this._indicatorElement.removeEventListener("click",this._indicatorClickHandler)))}_initCalc(){this._pageTranslates=this._getPageTranslates(),this._pageTranslates[this._currentPage]||(this._currentPage=0),this._updateIndicator(),this._updateSlideButtons(!0),this._updateListPosition(),this._isResizing=!1,this._updateFocusableElements()}_getPageTranslates(){const e=this._listEl.offsetWidth,t=this._listEl.scrollWidth,n=this._isRtl?e-this._items[0].offsetLeft-this._items[0].offsetWidth:this._items[0].offsetLeft,i=t-e;let r=[0];const o=[new Set],s=[];let a=0;for(let t=0;t<this._items.length;t+=1){const c=r[r.length-1],l=o[r.length-1],u=this._items[t].offsetLeft,d=this._items[t].offsetWidth;let h=Math.abs(this._isRtl?u+d:u),p=Math.abs(this._isRtl?u:u+d);if(s.push(h),this._isRtl&&u>=0)l.add(this._items[t]);else if(0===h&&0===n||0===a)a=p,l.add(this._items[t]);else{if(p>c+e){if(h>=i){o.push(new Set(this._items.slice(t)));break}r.push((this._isRtl?a:h)-n),o.push(new Set([this._items[t]]))}else l.add(this._items[t]);a=p}}return r.push(i),s.forEach(((e,t)=>{e>=i&&o[o.length-1].add(this._items[t])})),this._pageItems=o,r}_updateFocusableElements(){const e=this._pageItems[this._currentPage],t=this._items.filter((t=>!e.has(t)));for(const e of this._items)e.removeAttribute("aria-hidden");for(const[e,t]of this._prevTabIndexMap)null===t?e.removeAttribute("tabindex"):e.setAttribute("tabindex",t);for(const e of t){e.setAttribute("aria-hidden","true");e.querySelectorAll(U).forEach((e=>{const t=e.getAttribute("tabindex");this._prevTabIndexMap.set(e,t),e.setAttribute("tabindex","-1")}))}}_handleScrollAction(t){const n=e(t.target,".slide-list__nav-button"),i=n&&n.dataset.direction;i&&(this._listEl.addEventListener("transitionend",this._boundFireScrollEvent),i===Oo?this.prev():i===Ro&&this.next())}_fireScrollEvent(){m(window,"scroll"),this._listEl.removeEventListener("transitionend",this._boundFireScrollEvent)}_updateListPosition(){this._updateTranslateXY(this._isRtl?this._pageTranslates[this._currentPage]:-this._pageTranslates[this._currentPage],0)}_updateIndicatorButtons(){if(this._indicatorElement&&this._indicatorElement.isActive){const e=this._el.querySelector(".slide-list__indicator-button-container > .slide-list__indicator--selected");e&&(e.classList.remove(Mo),e.setAttribute("aria-current",!1));const t=this._el.querySelector(".".concat(No," > :nth-child(").concat(this._currentPage+1,")"));t.classList.add(Mo),t.setAttribute("aria-current",!0)}}_updateSlideButtons(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this._previousButton&&this._nextButton){if(this._previousButton.disabled=!1,this._nextButton.disabled=!1,!this._pageTranslates[1]||this._pageTranslates[1]<0)return this._previousButton.disabled=!0,void(this._nextButton.disabled=!0);0===this._currentPage&&(this._previousButton.disabled=!0,this._setNoMoreContentAlert(this._noMorePreviousContentAlert,e)),this._currentPage!==this._pageTranslates.length-1&&0!==this._pageTranslates.length||(this._nextButton.disabled=!0,this._setNoMoreContentAlert(this._noMoreNextContentAlert,e))}this._updateIndicatorButtons()}_setNoMoreContentAlert(e){!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])&&e&&(e.classList.remove("hidden"),setTimeout((()=>{e.classList.add("hidden")}),1e3))}_resetTouchEvents(){this._dragging=!1,this._dragCanceled=!1,this._listEl.classList.remove(Po),this._lock.left=this._isRtl?this._currentPage===this._pageTranslates.length-1:0===this._currentPage,this._lock.right=this._isRtl?0===this._currentPage:this._currentPage===this._pageTranslates.length-1,this._dragThresholdMet=!1,this._t={current:{x:0,y:0}}}_handleTouchStart(e){this._resetTouchEvents(),this._t.start=this._getEventPosition(e),this._dragging=!0,this._listEl.classList.add(Po)}_handleTouchMove(e){if(!this._dragging||this._dragCanceled)return;let t=this._getEventPosition(e);this._t.current={x:this._t.start.x-t.x,y:this._t.start.y-t.y},this._canDrag()?(this._dragThresholdMet=!0,e.preventDefault(),this._lock.left&&this._t.current.x<0?this._t.current.x=this._t.current.x*-this._dragLimit/(this._t.current.x-this._dragLimit):this._lock.right&&this._t.current.x>0&&(this._t.current.x=this._t.current.x*this._dragLimit/(this._t.current.x+this._dragLimit)),this._updateTranslateXY((this._isRtl?this._pageTranslates[this._currentPage]:-this._pageTranslates[this._currentPage])-this._t.current.x)):this._isVerticalScrolling()&&(this._dragCanceled=!0)}_handleTouchEnd(){this._dragging&&(!this._dragCanceled&&Math.abs(this._t.current.x)>20&&(this._t.current.x>0&&!this._lock.right?this._isRtl?this._currentPage--:this._currentPage++:this._t.current.x<0&&!this._lock.left&&(this._isRtl?this._currentPage++:this._currentPage--),this._dispatchPageChangeEvent()),this._resetTouchEvents(),this._updateSlideButtons(),this._updateListPosition())}_getEventPosition(e){return{x:e.touches[0].clientX,y:e.touches[0].clientY}}_isVerticalScrolling(){return Math.abs(this._t.current.x)<Math.abs(this._t.current.y)&&Math.abs(this._t.current.y)>10}_canDrag(){return this._dragThresholdMet||Math.abs(this._t.current.x)>Math.abs(this._t.current.y)&&Math.abs(this._t.current.x)>10}_updateTranslateXY(e,t){this._listEl.style.transform="translate3d(".concat(e||0,"px, ").concat(t||0,"px, 0px)")}_dispatchPageChangeEvent(){m(this._el,"pagechange",{pageNumber:this._currentPage})}}const Uo=".tabs__list",qo=".tab-button",Bo=".tab__panel";class Fo{constructor(e){if(!(e&&e instanceof Node))throw new Error("No tabs element passed in");this._el=e,this._tabList=this._el.querySelector(Uo),this._tabButtonList=this._el.querySelectorAll(qo),this._tabPanelList=this._el.querySelectorAll(Bo),this._initializeTabs(),this._tabList.addEventListener("keydown",(e=>this._onTabButtonKeyDown(e))),this._tabList.addEventListener("click",(e=>{let{target:t}=e;return this._onTabClick(t)}))}_initializeTabs(){this._addAttributes(),[this._tabActive,this._tabPanelActive]=this._getActiveElements(),this._checkActivePanel()}_addAttributes(){const e=this._generateIds();this._tabButtonList.forEach(((t,n)=>{const i=this._tabPanelList[n],{tabId:r,tabPanelId:o}=e(n);t.id=r,t.setAttribute("aria-controls",o),i.id=o,i.setAttribute("aria-labelledby",r)}))}_generateIds(){const e=this._el.dataset.tabId?"".concat(this._el.dataset.tabId,"_"):"";return function(t){return{tabPanelId:"".concat(e,"tab-panel_").concat(t),tabId:"".concat(e,"tab_").concat(t)}}}_getActiveElements(){const e=this._el.querySelector('[aria-selected="true"]')||this._tabButtonList[0],t=e.getAttribute("aria-controls");return[e,document.getElementById(t)]}_checkActivePanel(){this._tabPanelActive.removeAttribute("hidden"),this._tabPanelList.forEach((e=>{e!==this._tabPanelActive&&e.setAttribute("hidden","")}))}_onTabButtonKeyDown(e){switch(A(e.key)){case L.ENTER:case L.SPACEBAR:e.target!==this._tabActive&&this._activateTab(e.target);break;case L.ARROW_LEFT:this._focusTabOnArrowPress(-1,e.target);break;case L.ARROW_RIGHT:this._focusTabOnArrowPress(1,e.target)}}_onTabClick(t){const n=e(t,qo);n&&[...this._tabButtonList].includes(n)&&n!==this._tabActive&&this._activateTab(n)}_focusTabOnArrowPress(e,t){const n=[...this._tabButtonList].indexOf(t),i=this._tabButtonList[n+(1===e?1:-1)];i?i.focus():-1===e?this._focusLastTab():this._focusFirstTab()}_focusFirstTab(){this._tabButtonList[0].focus()}_focusLastTab(){this._tabButtonList[this._tabButtonList.length-1].focus()}_activateTab(e){this._deactivateActiveTab(),this._tabActive=e,this._tabActive.removeAttribute("tabIndex"),this._tabActive.setAttribute("aria-selected","true"),this._tabActive.classList.add("tab-selected");const t=this._tabActive.getAttribute("aria-controls");this._tabPanelActive=document.getElementById(t),this._tabPanelActive.removeAttribute("hidden")}_deactivateActiveTab(){this._tabActive.setAttribute("tabIndex","-1"),this._tabActive.setAttribute("aria-selected","false"),this._tabActive.classList.remove("tab-selected"),this._tabActive=null,this._tabPanelActive.setAttribute("hidden",""),this._tabPanelActive=null}}var jo=Object.hasOwnProperty,Ho=Object.setPrototypeOf,Go=Object.isFrozen,zo=Object.getPrototypeOf,Wo=Object.getOwnPropertyDescriptor,Vo=Object.freeze,Ko=Object.seal,Yo=Object.create,Qo="undefined"!=typeof Reflect&&Reflect,Xo=Qo.apply,Jo=Qo.construct;Xo||(Xo=function(e,t,n){return e.apply(t,n)}),Vo||(Vo=function(e){return e}),Ko||(Ko=function(e){return e}),Jo||(Jo=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var Zo,$o=ls(Array.prototype.forEach),es=ls(Array.prototype.pop),ts=ls(Array.prototype.push),ns=ls(String.prototype.toLowerCase),is=ls(String.prototype.match),rs=ls(String.prototype.replace),os=ls(String.prototype.indexOf),ss=ls(String.prototype.trim),as=ls(RegExp.prototype.test),cs=(Zo=TypeError,function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Jo(Zo,t)});function ls(e){return function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Xo(e,t,i)}}function us(e,t){Ho&&Ho(e,null);for(var n=t.length;n--;){var i=t[n];if("string"==typeof i){var r=ns(i);r!==i&&(Go(t)||(t[n]=r),i=r)}e[i]=!0}return e}function ds(e){var t=Yo(null),n=void 0;for(n in e)Xo(jo,e,[n])&&(t[n]=e[n]);return t}function hs(e,t){for(;null!==e;){var n=Wo(e,t);if(n){if(n.get)return ls(n.get);if("function"==typeof n.value)return ls(n.value)}e=zo(e)}return function(e){return console.warn("fallback value for",e),null}}var ps=Vo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),fs=Vo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ms=Vo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),gs=Vo(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),vs=Vo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),ys=Vo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bs=Vo(["#text"]),Es=Vo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),_s=Vo(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ws=Vo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Ss=Vo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Ts=Ko(/\{\{[\s\S]*|[\s\S]*\}\}/gm),Cs=Ko(/<%[\s\S]*|[\s\S]*%>/gm),ks=Ko(/^data-[\-\w.\u00B7-\uFFFF]/),Ls=Ko(/^aria-[\-\w]+$/),Is=Ko(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),As=Ko(/^(?:\w+script|data):/i),xs=Ko(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Os="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function Rs(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var Ps=function(){return"undefined"==typeof window?null:window},Ns=function(e,t){if("object"!==(void 0===e?"undefined":Os(e))||"function"!=typeof e.createPolicy)return null;var n=null,i="data-tt-policy-suffix";t.currentScript&&t.currentScript.hasAttribute(i)&&(n=t.currentScript.getAttribute(i));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var Ms=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ps(),n=function(t){return e(t)};if(n.version="2.3.5",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var i=t.document,r=t.document,o=t.DocumentFragment,s=t.HTMLTemplateElement,a=t.Node,c=t.Element,l=t.NodeFilter,u=t.NamedNodeMap,d=void 0===u?t.NamedNodeMap||t.MozNamedAttrMap:u,h=t.HTMLFormElement,p=t.DOMParser,f=t.trustedTypes,m=c.prototype,g=hs(m,"cloneNode"),v=hs(m,"nextSibling"),y=hs(m,"childNodes"),b=hs(m,"parentNode");if("function"==typeof s){var E=r.createElement("template");E.content&&E.content.ownerDocument&&(r=E.content.ownerDocument)}var _=Ns(f,i),w=_?_.createHTML(""):"",S=r,T=S.implementation,C=S.createNodeIterator,k=S.createDocumentFragment,L=S.getElementsByTagName,I=i.importNode,A={};try{A=ds(r).documentMode?r.documentMode:{}}catch(e){}var x={};n.isSupported="function"==typeof b&&T&&void 0!==T.createHTMLDocument&&9!==A;var O=Ts,R=Cs,P=ks,N=Ls,M=As,D=xs,U=Is,q=null,B=us({},[].concat(Rs(ps),Rs(fs),Rs(ms),Rs(vs),Rs(bs))),F=null,j=us({},[].concat(Rs(Es),Rs(_s),Rs(ws),Rs(Ss))),H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),G=null,z=null,W=!0,V=!0,K=!1,Y=!1,Q=!1,X=!1,J=!1,Z=!1,$=!1,ee=!1,te=!0,ne=!0,ie=!1,re={},oe=null,se=us({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),ae=null,ce=us({},["audio","video","img","source","image","track"]),le=null,ue=us({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),de="http://www.w3.org/1998/Math/MathML",he="http://www.w3.org/2000/svg",pe="http://www.w3.org/1999/xhtml",fe=pe,me=!1,ge=void 0,ve=["application/xhtml+xml","text/html"],ye="text/html",be=void 0,Ee=null,_e=r.createElement("form"),we=function(e){return e instanceof RegExp||e instanceof Function},Se=function(e){Ee&&Ee===e||(e&&"object"===(void 0===e?"undefined":Os(e))||(e={}),e=ds(e),q="ALLOWED_TAGS"in e?us({},e.ALLOWED_TAGS):B,F="ALLOWED_ATTR"in e?us({},e.ALLOWED_ATTR):j,le="ADD_URI_SAFE_ATTR"in e?us(ds(ue),e.ADD_URI_SAFE_ATTR):ue,ae="ADD_DATA_URI_TAGS"in e?us(ds(ce),e.ADD_DATA_URI_TAGS):ce,oe="FORBID_CONTENTS"in e?us({},e.FORBID_CONTENTS):se,G="FORBID_TAGS"in e?us({},e.FORBID_TAGS):{},z="FORBID_ATTR"in e?us({},e.FORBID_ATTR):{},re="USE_PROFILES"in e&&e.USE_PROFILES,W=!1!==e.ALLOW_ARIA_ATTR,V=!1!==e.ALLOW_DATA_ATTR,K=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Y=e.SAFE_FOR_TEMPLATES||!1,Q=e.WHOLE_DOCUMENT||!1,Z=e.RETURN_DOM||!1,$=e.RETURN_DOM_FRAGMENT||!1,ee=e.RETURN_TRUSTED_TYPE||!1,J=e.FORCE_BODY||!1,te=!1!==e.SANITIZE_DOM,ne=!1!==e.KEEP_CONTENT,ie=e.IN_PLACE||!1,U=e.ALLOWED_URI_REGEXP||U,fe=e.NAMESPACE||pe,e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&we(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(H.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ge=ge=-1===ve.indexOf(e.PARSER_MEDIA_TYPE)?ye:e.PARSER_MEDIA_TYPE,be="application/xhtml+xml"===ge?function(e){return e}:ns,Y&&(V=!1),$&&(Z=!0),re&&(q=us({},[].concat(Rs(bs))),F=[],!0===re.html&&(us(q,ps),us(F,Es)),!0===re.svg&&(us(q,fs),us(F,_s),us(F,Ss)),!0===re.svgFilters&&(us(q,ms),us(F,_s),us(F,Ss)),!0===re.mathMl&&(us(q,vs),us(F,ws),us(F,Ss))),e.ADD_TAGS&&(q===B&&(q=ds(q)),us(q,e.ADD_TAGS)),e.ADD_ATTR&&(F===j&&(F=ds(F)),us(F,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&us(le,e.ADD_URI_SAFE_ATTR),e.FORBID_CONTENTS&&(oe===se&&(oe=ds(oe)),us(oe,e.FORBID_CONTENTS)),ne&&(q["#text"]=!0),Q&&us(q,["html","head","body"]),q.table&&(us(q,["tbody"]),delete G.tbody),Vo&&Vo(e),Ee=e)},Te=us({},["mi","mo","mn","ms","mtext"]),Ce=us({},["foreignobject","desc","title","annotation-xml"]),ke=us({},fs);us(ke,ms),us(ke,gs);var Le=us({},vs);us(Le,ys);var Ie=function(e){var t=b(e);t&&t.tagName||(t={namespaceURI:pe,tagName:"template"});var n=ns(e.tagName),i=ns(t.tagName);if(e.namespaceURI===he)return t.namespaceURI===pe?"svg"===n:t.namespaceURI===de?"svg"===n&&("annotation-xml"===i||Te[i]):Boolean(ke[n]);if(e.namespaceURI===de)return t.namespaceURI===pe?"math"===n:t.namespaceURI===he?"math"===n&&Ce[i]:Boolean(Le[n]);if(e.namespaceURI===pe){if(t.namespaceURI===he&&!Ce[i])return!1;if(t.namespaceURI===de&&!Te[i])return!1;var r=us({},["title","style","font","a","script"]);return!Le[n]&&(r[n]||!ke[n])}return!1},Ae=function(e){ts(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){try{e.outerHTML=w}catch(t){e.remove()}}},xe=function(e,t){try{ts(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){ts(n.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!F[e])if(Z||$)try{Ae(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Oe=function(e){var t=void 0,n=void 0;if(J)e="<remove></remove>"+e;else{var i=is(e,/^[\r\n\t ]+/);n=i&&i[0]}"application/xhtml+xml"===ge&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");var o=_?_.createHTML(e):e;if(fe===pe)try{t=(new p).parseFromString(o,ge)}catch(e){}if(!t||!t.documentElement){t=T.createDocument(fe,"template",null);try{t.documentElement.innerHTML=me?"":o}catch(e){}}var s=t.body||t.documentElement;return e&&n&&s.insertBefore(r.createTextNode(n),s.childNodes[0]||null),fe===pe?L.call(t,Q?"html":"body")[0]:Q?t.documentElement:s},Re=function(e){return C.call(e.ownerDocument||e,e,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Pe=function(e){return e instanceof h&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof d)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore)},Ne=function(e){return"object"===(void 0===a?"undefined":Os(a))?e instanceof a:e&&"object"===(void 0===e?"undefined":Os(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Me=function(e,t,i){x[e]&&$o(x[e],(function(e){e.call(n,t,i,Ee)}))},De=function(e){var t=void 0;if(Me("beforeSanitizeElements",e,null),Pe(e))return Ae(e),!0;if(is(e.nodeName,/[\u0080-\uFFFF]/))return Ae(e),!0;var i=be(e.nodeName);if(Me("uponSanitizeElement",e,{tagName:i,allowedTags:q}),!Ne(e.firstElementChild)&&(!Ne(e.content)||!Ne(e.content.firstElementChild))&&as(/<[/\w]/g,e.innerHTML)&&as(/<[/\w]/g,e.textContent))return Ae(e),!0;if("select"===i&&as(/<template/i,e.innerHTML))return Ae(e),!0;if(!q[i]||G[i]){if(ne&&!oe[i]){var r=b(e)||e.parentNode,o=y(e)||e.childNodes;if(o&&r)for(var s=o.length-1;s>=0;--s)r.insertBefore(g(o[s],!0),v(e))}if(!G[i]&&qe(i)){if(H.tagNameCheck instanceof RegExp&&as(H.tagNameCheck,i))return!1;if(H.tagNameCheck instanceof Function&&H.tagNameCheck(i))return!1}return Ae(e),!0}return e instanceof c&&!Ie(e)?(Ae(e),!0):"noscript"!==i&&"noembed"!==i||!as(/<\/no(script|embed)/i,e.innerHTML)?(Y&&3===e.nodeType&&(t=e.textContent,t=rs(t,O," "),t=rs(t,R," "),e.textContent!==t&&(ts(n.removed,{element:e.cloneNode()}),e.textContent=t)),Me("afterSanitizeElements",e,null),!1):(Ae(e),!0)},Ue=function(e,t,n){if(te&&("id"===t||"name"===t)&&(n in r||n in _e))return!1;if(V&&!z[t]&&as(P,t));else if(W&&as(N,t));else if(!F[t]||z[t]){if(!(qe(e)&&(H.tagNameCheck instanceof RegExp&&as(H.tagNameCheck,e)||H.tagNameCheck instanceof Function&&H.tagNameCheck(e))&&(H.attributeNameCheck instanceof RegExp&&as(H.attributeNameCheck,t)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(t))||"is"===t&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&as(H.tagNameCheck,n)||H.tagNameCheck instanceof Function&&H.tagNameCheck(n))))return!1}else if(le[t]);else if(as(U,rs(n,D,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==os(n,"data:")||!ae[e]){if(K&&!as(M,rs(n,D,"")));else if(n)return!1}else;return!0},qe=function(e){return e.indexOf("-")>0},Be=function(e){var t=void 0,i=void 0,r=void 0,o=void 0;Me("beforeSanitizeAttributes",e,null);var s=e.attributes;if(s){var a={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F};for(o=s.length;o--;){var c=t=s[o],l=c.name,u=c.namespaceURI;if(i=ss(t.value),r=be(l),a.attrName=r,a.attrValue=i,a.keepAttr=!0,a.forceKeepAttr=void 0,Me("uponSanitizeAttribute",e,a),i=a.attrValue,!a.forceKeepAttr&&(xe(l,e),a.keepAttr))if(as(/\/>/i,i))xe(l,e);else{Y&&(i=rs(i,O," "),i=rs(i,R," "));var d=be(e.nodeName);if(Ue(d,r,i))try{u?e.setAttributeNS(u,l,i):e.setAttribute(l,i),es(n.removed)}catch(e){}}}Me("afterSanitizeAttributes",e,null)}},Fe=function e(t){var n=void 0,i=Re(t);for(Me("beforeSanitizeShadowDOM",t,null);n=i.nextNode();)Me("uponSanitizeShadowNode",n,null),De(n)||(n.content instanceof o&&e(n.content),Be(n));Me("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var s=void 0,c=void 0,l=void 0,u=void 0,d=void 0;if((me=!e)&&(e="\x3c!--\x3e"),"string"!=typeof e&&!Ne(e)){if("function"!=typeof e.toString)throw cs("toString is not a function");if("string"!=typeof(e=e.toString()))throw cs("dirty is not a string, aborting")}if(!n.isSupported){if("object"===Os(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Ne(e))return t.toStaticHTML(e.outerHTML)}return e}if(X||Se(r),n.removed=[],"string"==typeof e&&(ie=!1),ie){if(e.nodeName){var h=be(e.nodeName);if(!q[h]||G[h])throw cs("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof a)1===(c=(s=Oe("\x3c!----\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===c.nodeName||"HTML"===c.nodeName?s=c:s.appendChild(c);else{if(!Z&&!Y&&!Q&&-1===e.indexOf("<"))return _&&ee?_.createHTML(e):e;if(!(s=Oe(e)))return Z?null:ee?w:""}s&&J&&Ae(s.firstChild);for(var p=Re(ie?e:s);l=p.nextNode();)3===l.nodeType&&l===u||De(l)||(l.content instanceof o&&Fe(l.content),Be(l),u=l);if(u=null,ie)return e;if(Z){if($)for(d=k.call(s.ownerDocument);s.firstChild;)d.appendChild(s.firstChild);else d=s;return F.shadowroot&&(d=I.call(i,d,!0)),d}var f=Q?s.outerHTML:s.innerHTML;return Y&&(f=rs(f,O," "),f=rs(f,R," ")),_&&ee?_.createHTML(f):f},n.setConfig=function(e){Se(e),X=!0},n.clearConfig=function(){Ee=null,X=!1},n.isValidAttribute=function(e,t,n){Ee||Se({});var i=be(e),r=be(t);return Ue(i,r,n)},n.addHook=function(e,t){"function"==typeof t&&(x[e]=x[e]||[],ts(x[e],t))},n.removeHook=function(e){x[e]&&es(x[e])},n.removeHooks=function(e){x[e]&&(x[e]=[])},n.removeAllHooks=function(){x={}},n}(),Ds=Ms;const Us={ADD_TAGS:["#comment","li-icon","icon","iframe"],ADD_ATTR:["target"],FORCE_BODY:!0,RETURN_DOM:!0};function qs(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Bs(null,e,t);return n.innerHTML}function Bs(e,t){let{ADD_TAGS:n=[],ADD_ATTR:i=[]}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=xe({},Us);r.ADD_TAGS=[...r.ADD_TAGS,...n],r.ADD_ATTR=[...r.ADD_ATTR,...i];const o=Ds.sanitize(t,r);return e&&e.nodeType===Node.ELEMENT_NODE&&(e.innerHTML="",e.append(...o.childNodes)),o}var Fs=Object.freeze({__proto__:null,sanitizedMarkupOptions:Us,getSanitizedMarkup:qs,setSanitizedMarkup:Bs}),js="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",Hs=function(){if("undefined"==typeof document)return!0;return"textContent"in document.createElement("div")}()?"textContent":"innerText",Gs=["b","del","em","i","s","strong","sub","sup"],zs=Gs.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),Ws=[js,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|");function Vs(){}var Ks,Ys,Qs=(Ys=/[&<>"'\u0000\\=]/g,Ks={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"},function(e){return null==e?null:e.toString().replace(Ys,(function(e){return Ks[e]}))}),Xs=function(){var e,t,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi;if("undefined"==typeof document)return function(){throw new Error("document is undefined (i.e. you are probably in Node.js)")};e=document.createElement("div");var i={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'};return t="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"�"},function(r){return null==r?null:(r+"").replace(n,(function(n,r,o,s){return r?(a=r,i.hasOwnProperty(a)?i[a]:(e.innerHTML="&"+a+";",c=e[Hs],i[a]=c,c)):o||s?t(parseInt(o||s,o?16:10)||65533):"�";var a,c}))}}();var Js=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function Zs(e){return/[<&]/.test(e)}var $s,ea=Array.prototype.forEach?function(e,t){Array.prototype.forEach.call(e,t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},ta="[ \t\r\n]*";function na(e){e=Js(e)?e:[e];var t,n,i,r=0,o="<(?!/?";return o+="(?:",ea(e,(function(e,s){t=e.tags||zs,n=e.attrs||Ws,i=e.checkUrlAttrs||!1,0!==s&&(o+="|"),o+="(?:"+t.join("|")+")",o+="(?:",o+=ta,o+="|[ \t\r\n]+",o+="(?:(?:",o+="(?:"+n+")(?:=([\"'])[^'\"<>]*\\"+ ++r+")?",i&&(o+="|(?:href|src)=([\"'])(?:(?:https?|ftp|mailto|invalid)(?::|&#(?:58|x3a);)|(?:data:image/(?:gif|jpg|jpeg|png);base64,)|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\"+ ++r),o+=")[ \t\r\n]*)+",o+=")"})),o+=")",o+="/?>)",new RegExp(o,"i")}function ia(e){return na({tags:e=e||zs,checkUrlAttrs:!0})}function ra(e,t){var n=(t=t||{}).allowTags,i=!1!==t.hasCustomElementMarkup;return n?!ia(n).test(e):i?!ra.R_UNSAFE_CUSTOM_ELEMENT.test(e):!ra.R_UNSAFE_HTML.test(e)}function oa(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}function sa(e,t,n){if(null==e)return null;e=e.toString();var i=t?function(e,t){var n={};return e.replace(/\{([^}]+)\}/g,(function(e,i){var r,o=e;if(n.hasOwnProperty(i))return n[i];if(t.hasOwnProperty(i)){if(!((r="string"==typeof(o=t[i]))||o instanceof Vs||"number"==typeof o))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");o=r?Qs(o):o.toString()}return n[i]=o,o}))}(e,t):e,r=e;return Zs(i)&&!ra(i,n)&&(i=oa(i),co("Content contains non-whitelisted tags or attributes:\nContent: "+r,"error")),i}function aa(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e}ra.R_UNSAFE_HTML=ia(),ra.R_UNSAFE_CUSTOM_ELEMENT=na([{tags:zs,checkUrlAttrs:!0},{tags:[($s={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"}).tag],attrs:[js,$s.attrs].join("|"),checkUrlAttrs:!1}]);var ca={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ca.optgroup=ca.option,ca.tbody=ca.tfoot=ca.colgroup=ca.caption=ca.thead,ca.th=ca.td;var la=/<([\w:]+)/;function ua(e,t){var n,i,r,o,s,a,c,l=t.createDocumentFragment(),u=[];for(s=0,c=e.length;s<c;s++)if((o=e[s])||0===o)if("string"==typeof o){for(r=r||l.appendChild(t.createElement("div")),n=(la.exec(o)||["",""])[1].toLowerCase(),pa(r,(i=ca[n]||ca._default)[1]+o+i[2]),a=i[0];a--;)r.lastChild&&r.lastChild.nodeType===Node.ELEMENT_NODE&&(r=r.lastChild);aa(u,r.childNodes),(r=l.firstChild).textContent=""}else aa(u,o.nodeType?[o]:o);for(l.textContent="",o=u[s=0];o;)l.appendChild(o),o=u[++s];return l}var da=sa,ha=sa;function pa(e,t,n){var i=sa(t,n);return Zs(i)?e.innerHTML=i:e[Hs]=i,i}function fa(e,t){if(!(this instanceof fa))return new fa(e,t);(t=t||{}).allowTags=t.allowTags?t.allowTags.reduce((function(e,t){return e.concat(t)}),[]):null,this._string=e,this._options=t}fa.prototype=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(new Vs,{toString:function(){var e=this._string,t=this._stringVal,n=e;return void 0!==t?t:(ra(e,this._options)||(n=e,e=oa(e),co("UnsafeString contains non-whitelisted tags or attributes.\nString: "+n,"error")),this._stringVal=e,e)}});var ma={ALLOWED_TAGS:zs,FORMATTING_TAGS:Gs,htmlEncode:Qs,htmlUnencode:Xs,log:co,mk:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let r,o="",s=n.length;return e&&e.forEach((function(e,t){o+=e,t<s&&(r=n[t],o+=r instanceof fa?r:Qs(r))})),ha(o)},parseHTML:function(e,t){var n;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=ua([e],t);else{if(!Js(e))return e;n=ua(e,t)}return aa([],n.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:da,reEncode:function(e){return Qs(Xs(e))},_redirector:go,redirect:function(e){const t=mo(e);t===e&&go.redirect(t)},sanitizeHTML:ha,sanitizeUrl:mo,setElementContent:pa,text:function(e){return co("jSecure.text() is deprecated. Please use jSecure.htmlEncode().","warn"),Qs(e)},unsafe:function(e){return e},UnsafeString:fa};function ga(e){if(e instanceof HTMLElement)if(document.documentElement.classList.contains("ios")){const t=10,n=10;e.blur();let i=0;const r=window.setInterval((function(){e.focus(),i>=n&&window.clearInterval(r),i++}),t)}else e.focus()}const va="toast--hidden",ya=".toast",ba=".toast__message",Ea=Object.freeze({CAUTION:"caution",ERROR:"error",GDPR:"gdpr",NOTIFY:"notify",SUCCESS:"success"});class _a{constructor(){let{removeToastCallback:e=(()=>{})}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=document.getElementById("toasts");if(!t)throw new Error("No toasts element");this._el=t,this._position=t.getAttribute("type"),this.removeToastCallback=e,this.bindEvents()}trigger(e,t,n,i){if(!e||!Object.values(Ea).includes(e))throw new Error("Valid type not specified: type must be caution, error, gdpr, notify or success");if(!t)throw new Error("No message specified");const r=n?"".concat(n,"_toast-").concat(e):"toast-".concat(e),o=this._createToastEl(e,t,r,i);return this._addToast(o)}clearAllToasts(){let e=this._el.querySelectorAll(ya);Array.from(e).forEach((e=>{this._removeToast(e)}))}bindEvents(){this._el.addEventListener("click",(t=>{const n=e(t.target,".toast__dismiss-btn");if(n){const t=e(n,ya);t&&this._removeToast(t)}}))}_isValidCtaMetadata(e){return["url","trk","text"].every((t=>e.hasOwnProperty(t)))}_createToastEl(e,t,n,i){const r=document.querySelector("#toast-template").content.firstElementChild.cloneNode(!0),o=document.querySelector("#toast-icon-".concat(e)).content.firstElementChild.cloneNode(!0);if(!r||!o)throw new Error("Toast templates are missing");r.classList.add("toast--".concat(e)),r.setAttribute("type",e);const s=r.querySelector(ba);s.insertBefore(o,s.firstElementChild);r.querySelector(".toast__dismiss-btn").setAttribute("data-tracking-control-name","".concat(n,"_dismiss"));const a=r.querySelector(".toast__message-content");let c="text-color-text-neutral";if(e===Ea.CAUTION?c="text-color-text-caution":e===Ea.ERROR?c="text-color-text-negative":e===Ea.SUCCESS&&(c="text-color-text-positive"),a.classList.add(c),Bs(a,t),i&&this._isValidCtaMetadata(i)){const e=r.querySelector(".toast__message-content-container"),t=document.querySelector("#toast-cta").content.firstElementChild.cloneNode(!0),n=i.target||"_blank";t.setAttribute("href",ma.sanitizeUrl(d(i.url,i.trk))),t.setAttribute("target",n),t.textContent=i.text,e.classList.add(c),e.append(t)}return r}_addToast(e){this._el.appendChild(e);const t=this._el.querySelector(ba);return this._hasToast()&&this._el.classList.remove("invisible"),this._refreshLazyLoader(),setTimeout((function(){e.classList.remove(va),ga(t)}),500),e}_removeToast(e){let t=this._el;e.classList.add(va),setTimeout((()=>{e.remove(),this._hasToast()||t.classList.add("invisible"),this.removeToastCallback()}),500)}_hasToast(){return[...this._el.children].some((e=>"template"!==e.tagName.toLowerCase()))}_refreshLazyLoader(){var e,t;null===(e=window.lazyloader)||void 0===e||null===(t=e.then)||void 0===t||t.call(e,(e=>{e.refreshLoader()}))}}Oe(_a,"TOAST_TYPES",Ea);const wa={};function Sa(e){const t=document.getElementById(e);if(!t&&void 0!==wa[e])return wa[e];if(!t)return console.warn("Element with id: ".concat(e," not found")),wa[e]=null,wa[e];let n;for(const e of t.childNodes)try{if(e.nodeType===Node.COMMENT_NODE){n=JSON.parse(e.nodeValue);break}}catch(e){}return void 0===n?(console.warn("Error retrieving content with id: ".concat(e,". Use embedJson helper to embed this content")),null):(wa[e]=n,t.parentNode.removeChild(t),wa[e])}function Ta(e,t){const n=document.getElementById(e),i=document.createComment(JSON.stringify(t));if(n)n.textContent="",n.appendChild(i);else{const t=document.createElement("code");t.setAttribute("id",e),t.style.display="none",t.appendChild(i),document.body.appendChild(t)}}const Ca="session_redirect",ka={COPY:"copy",LINKEDIN:"linkedin",TWITTER:"twitter",FACEBOOK:"facebook"},La=Object.keys(ka).map((e=>ka[e]));class Ia{constructor(e){let{globalNavigator:t=navigator,globalWindow:n=window,globalDocument:i=document,shareTriggerElement:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed in");this.navigator=t,this.window=n,this.document=i,this.shareTriggerElement=r,this.el=e,this._encodedShareMessage=this.window.encodeURIComponent(this.el.getAttribute("data-share-message"))||"",this._nonEncodedShareUrl=this.el.getAttribute("data-share-url")||this.window.location.href,this._encodedShareUrl=this._nonEncodedShareUrl&&this.window.encodeURIComponent(this._nonEncodedShareUrl)}init(t,n){t.addEventListener("click",(t=>{let{target:i}=t;const r=i.classList.contains(n)?i:e(i,".".concat(n));r&&this.share(r.dataset.shareService)}))}_getServiceUrl(e){this.checkAndUpdateUtm(e);const t={linkedin:"https://www.".concat(T(this.document),"/shareArticle?mini=true&url=").concat(this._encodedShareUrl,"&title=").concat(this._encodedShareMessage),twitter:"https://twitter.com/intent/tweet?url=".concat(this._encodedShareUrl,"&text=").concat(this._encodedShareMessage),facebook:"https://www.facebook.com/sharer/sharer.php?u=".concat(this._encodedShareUrl)};return Sa("disableLinkedinShareRedirectLink")&&"linkedin"===e?Sa("isGuest")?(this.window.location.href=this._updateSignInUrlWithParams(Sa("signInUrl")),""):"":t[e]||""}_updateSignInUrlWithParams(e){const t=new URL(e),n=t.searchParams,i=h(n.get(Ca),"openShareModal",!0);return n.set(Ca,i),t.toString()}share(e){if(La.includes(e)){const r=this._nonEncodedShareUrl||this.window.location.href;if("copy"===e)try{this.navigator.clipboard?(this.checkAndUpdateUtm(e),this.navigator.clipboard.writeText(this._nonEncodedShareUrl),this.displayToast({url:r})):this.displayToast({showError:!0})}catch(e){this.displayToast({showError:!0})}finally{var t,n,i;null===(t=this.collapsibleDropdown)||void 0===t||null===(n=t.dropdownContentEl)||void 0===n||null===(i=n.classList)||void 0===i||i.add("hidden")}else{const t=this._getServiceUrl(e,r);if(!t)return;this.window.open(t,e,"height=600,width=1000")}}}displayToast(e){let{showError:t,url:n}=e;if(this.document.getElementById("toasts")){this.collapsibleDropdown.shouldReturnFocusToTrigger(!1),this.collapsibleDropdown.close();const e="social-share",i=new _a({removeToastCallback:this.removeToastCallback.bind(this)});i.clearAllToasts();const r=t?"error":"success";i.trigger(r,Sa("i18n_copy_cta_message_".concat(r)),e,{text:"View",url:n||this.window.location.href,trk:e})}}checkAndUpdateUtm(e){if(this._nonEncodedShareUrl.includes("utm_campaign")||"linkedin"===e)return;["utm_source","utm_content","utm_medium"].some((e=>this._nonEncodedShareUrl.includes(e)))&&(this._nonEncodedShareUrl="".concat(this._nonEncodedShareUrl,"&utm_campaign=").concat(e),this._encodedShareUrl=this.window.encodeURIComponent(this._nonEncodedShareUrl))}removeToastCallback(){var e;this.collapsibleDropdown.shouldReturnFocusToTrigger(),null===(e=this.shareTriggerElement)||void 0===e||e.focus()}}class Aa extends Ia{constructor(e){let{globalNavigator:t=navigator,globalWindow:n=window,globalDocument:i=document}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed in");const r=e.querySelector(".social-share__button");super(e,{globalNavigator:t,globalWindow:n,globalDocument:i,shareTriggerElement:r}),this.socialShareButton=r,this.dropdown=this.el.querySelector(".collapsible-dropdown__list"),this.itemClassName="".concat("social-share","__item"),this.collapsibleDropdown=new $(e,{dropdownTriggerEl:this.socialShareButton}),super.init(this.dropdown,this.itemClassName)}}const xa=["binlar","ask\\ jeeves","mozilla\\/4\\.0\\ \\(compatible\\;\\ msie\\ 6\\.0\\;\\ windows\\ nt\\ 5\\.1\\;1813\\)","companydatatree","genieo","microsoft\\+scheduled\\+cache\\+content\\+download\\+service","liferea","superfeedr","ez\\ publish\\ link\\ validator","htmlparser","argclrint","linkwalker","webtool","ask\\+jeeves","stackrambler","paros","^fdm\\+3\\.x","ms\\ search","indy\\+library","seznam","sitevigil","intergator","freedom(?!from)","google\\+page\\+speed\\+insights","znajdzfoto\\/image","riddler\\.io","^java\\/","twiceler","httpunit","ktxn","webcopier","mna\\+digital\\+circonus\\+check","stuff(?!nz)","updatepatrol","feedburner","hp\\+sitescope","crawler","gigablastopensource\\/","rpt\\-http","^fdm\\ 3\\.x","libwww\\-perl","((?=pital)|ca(?=pital))pita","bingpreview","oia\\.owa","^ahc\\/","thunderstone","microsoft\\ bits","alertsite","^python\\-requests\\/","dts\\ agent","tangjiutao","^inmon","linkscan","alexa\\ site\\ audit","webtrends(?!clientlibrary)","chkd","joedog","daumoa","typhoeus","loadimpactpageanalyzer","google\\ news","coldfusion","mna\\ digital\\ circonus\\ check","alexa\\+site\\+audit","getright","appengine","(?=crawler)crawl","ibot(?!ta)","jobo","python\\-httplib","powermarks","site24x7","proximic","yahoo\\+pipes","((?=aporter)|oper(?=aportable))aport","web\\+downloader","check\\_http","grabber","topsy\\.com\\/butterfly\\/","harvest","^inagist\\+url\\+resolver","fast","crescent(?!\\ build|\\+build)","sohu(?!ennews|video|news)","favorg","bloglines","fetch(?!tv)","wapt","microsoft\\+url\\+control","urchin","ning\\/1\\.0","pluck","google\\+news","spider","\\(compatible\\;\\+optimizer\\)","moreover\\/5\\.1","js\\-kit","server\\ density\\ external\\ llama","facebookexternalhit","ultraseek","catchpoint","yandex(?!\\ browser|\\+browser|mail)","echo(?!arena|fon|star)","^worldwatch\\/","combine(?!d)","winhttprequest","ez\\+publish\\+link\\+validator","jakarta","^webnotifier\\/","webmetrics","teoma","nerdbynature","ms\\+frontpage","nielsen","sucker","engagebdr","yahoofeedseeker","dts\\+agent","googleapps","holmes","plumtree","www\\-mechanize","google\\-hoteladsverifier","pingdom","drupal","sina\\_weibo","google\\ page\\ speed\\ insights","lisa","w3c\\_validator","^scan","yeti","snoopy","khte","trovit","atomz","httpcomponents","ms\\+search","google\\-http\\-java\\-client","spi\\_der","bubing","websitepulse","microsoft\\+bits","http\\_request2","ieautodiscovery","siteimprove","curl(?!ings)","go\\+1\\.1\\+package\\+http","^crowsnest\\/","email\\ exractor","utorrent","yahoocachesystem","shopwiki","justview","googlesecurityscanner","msnptc","rkg\\+url\\+verifier","monitor","bitvouseragent","((?=wormgame))worm","talktalk","help\\.coccoc\\.com","yahoo\\ pipes","heritrix","nutch","argus","kulturarw3","checkurl","universalsearch","amazon\\ route\\ 53\\ health\\ check\\ service","slurp","mozilla\\/5\\.0\\ \\(compatible\\;\\ msie\\ 5\\.0\\)","ezooms","kimengi\\/nineconnections\\.com","applesyndication","python\\-urllib","internal\\+zero\\-knowledge\\+agent","system\\+center\\+operations\\+manager","riverglassscanner","imgsizer","changedetection","nutscrape","feedzilla","contype","^lwp","\\(compatible\\;\\ optimizer\\)","infolink","outbrain","^prerender","admantx","^inagist\\ url\\ resolver","amazon\\+route\\+53\\+health\\+check\\+service","neustar","a6\\-indexer","comodo\\+ssl\\+checker","linkchecker","viglink","patric","newsnow","wasalive","scrapy","(?=gruber)grub","ruxitsynthetic","rkg\\ url\\ verifier","ocelli","webcapture","^kraken\\/","t\\-h\\-u\\-n\\-d\\-e\\-r\\-s\\-t\\-o\\-n\\-e","spider(?!solitaire)","isearch","hp\\ sitescope","maxamine","\\(simulated\\_by\\_webserver\\_stress\\_tool\\)","((?=obotics)|ther(?=obotfree))obot","yacy","twibble\\.io","google\\+wireless\\+transcoder","wget","internal\\ zero\\-knowledge\\ agent","google\\ wireless\\ transcoder","xenu","yahooseeker","advanced\\ email\\ extractor","feed43","ptst","reconnoiter","go\\ 1\\.1\\ package\\ http","advanced\\+email\\+extractor","linkdex","panscient\\.com","webcheck","linktiger","scooter","flipboard\\.com\\/browserproxy","evidon","twisted\\ pagegetter","cosmos","adbeat","sherlock","web\\ downloader","cookiereports","siteexplorer","miva","twisted\\+pagegetter","mfc\\_tear\\_sample","indy\\ library","b2w(?!tenisnew)","orangebot(?!swana)","lockss\\+cache","mozilla\\/4\\.0\\+\\(compatible\\;\\+msie\\+6\\.0\\;\\+windows\\+nt\\+5\\.1\\;1813\\)","yahooexternalcache","apache\\-httpclient\\/4\\.","archive\\.org","wesee\\:search","hiscan","ms\\ frontpage","tagscanner","google\\ web\\ preview","special\\_archiver","d24y\\-aegis","scoutjet","larbin","adsense\\-snapshot\\-google","keynote","skypeuripreview","clickajob","download\\+ninja","internet\\ ninja","^ltx71","ukonline","eventmachine\\ httpclient","nomad","mediapartners","twikle","microsoft\\ scheduled\\ cache\\ content\\ download\\ service","internet\\+ninja","scanalert","metauri","agentname","adr\\)","squider","isilo","teleport","automationtest","bordermanager","linklint","bot","templeton","rssreader","ichiro","(?=dialer\\-mobileapp)dialer","atomic\\_email\\_hunter","google\\+web\\+preview","longurl\\+api","longurl\\ api","internetseer","server\\+density\\+external\\+llama","topix","iopus","download\\ ninja","mozilla\\/5\\.0\\+\\(compatible\\;\\+msie\\+5\\.0\\)","europarchive","avantgo","flamingo\\_searchengine","lockss\\ cache","jobrapido","wesee\\:ads\\/","frontier","newspaper\\/0\\.0\\.","apachebench","flamingosearch","lydia","microsoft\\ url\\ control","phantomjs","system\\ center\\ operations\\ manager","^econtext\\/","akamai","cfschedule","searchme\\.com\\/support\\/","fortimail","comodo\\ ssl\\ checker","gomezagent","sitecon","webauto","golem","swcd","spundge\\/0\\.1","findlinks","^sjn","yandex","ia\\_archive","vagabondo","watchmouse","simplepie","1job","goldfire"].join("|");new RegExp(xa,"i");class Oa{constructor(e){let{scrollThreshold:n=50,hideOnScrollBack:i=!1,hideOnScrollDown:r=!1,isBottom:o=!0,exposeStickyState:s=!1,marginApplied:a=!1,debounceDelay:c=100}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i&&r)throw new Error("hideOnScrollBack & hideOnScrollDown cannot both be true at the same time");this.el=e,this.scrollThreshold=n,this.hideOnScrollBack=i,this.hideOnScrollDown=r,this.isBottom=o,this.exposeStickyState=s,this._scrollListener=p(this._onScroll.bind(this),c),this.marginApplied=a,this.previousScrollPosition=window.pageYOffset,this._setSpacingBound=this._setSpacing.bind(this),this._setupResizeListener(),t((()=>{this.originalMarginTop=parseInt(window.getComputedStyle(document.body).marginTop)||0,this.originalMarginBottom=parseInt(window.getComputedStyle(document.body).marginBottom)||0,this._setSpacing(!0),this._doesPageHaveEnoughScroll()?window.addEventListener("scroll",this._scrollListener):this.hideOnScrollBack||this.show()}))}reactivate(){this._setupResizeListener(),this._setSpacing()}deactivate(){this._removeResizeListener(),this._resetSpacing()}_setupResizeListener(){K()||window.addEventListener("resize",this._setSpacingBound)}_removeResizeListener(){window.removeEventListener("resize",this._setSpacingBound)}_doesPageHaveEnoughScroll(){return document.body.scrollHeight>window.innerHeight+this.scrollThreshold}_setSpacing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isBottom?this._setBottomSpacing():this.hideOnScrollBack||this.hideOnScrollDown||(this._setTopSpacing(),e&&this.show())}_resetSpacing(){this.marginApplied?(document.body.style.marginTop="0px",document.body.style.marginBottom="0px"):(document.body.style.marginTop="".concat(this.originalMarginTop,"px"),document.body.style.marginBottom="".concat(this.originalMarginBottom,"px"))}_setBottomSpacing(){let e=this.el.clientHeight;document.body.style.marginBottom&&!this.marginApplied&&(e+=this.originalMarginBottom),document.body.style.marginBottom="".concat(e,"px")}_setTopSpacing(){let e=this.el.clientHeight;document.body.style.marginTop&&!this.marginApplied&&(e+=this.originalMarginTop),document.body.style.marginTop="".concat(e,"px")}show(){this.el.classList.add("show"),m(this.el,"show")}hide(){this.el.classList.remove("show"),m(this.el,"hide")}_onScroll(){const e=window.pageYOffset;e>this.scrollThreshold?(this.hideOnScrollBack||this.hideOnScrollDown||this.exposeStickyState||window.removeEventListener("scroll",this._scrollListener),this.hideOnScrollDown?this.hide():this.show(),this.exposeStickyState&&this.el.classList.add("stuck")):(this.hideOnScrollBack&&this.hide(),this.exposeStickyState&&this.el.classList.remove("stuck")),this.previousScrollPosition>e&&this.hideOnScrollDown&&this.show(),this.previousScrollPosition=e}}new Uint8Array(16);const Ra=[];for(let e=0;e<256;++e)Ra.push((e+256).toString(16).slice(1));"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Pa="tooltip__popup";"".concat(Pa,"--show");const Na=["endpoint","headers","queryId","variables"];function Ma(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{endpoint:t,headers:n={"Content-Type":"application/json"},queryId:i,variables:r={}}=e,o=Re(e,Na);const s=E(document);if(!s)throw new Error("Missing pageKey for graphQL request from browser");return ee(t,xe({method:"POST",headers:n,postData:JSON.stringify({queryId:i,variables:r,pageKey:s})},o))}class Da{constructor(e,t){if(!e)throw Error("Missing endpoint");t&&(this.pemDegradationTrackingMetadata=t,this.isPemEnabled=!0),this.endpoint=e}executeAction(e){let{variables:t,queryId:n,successCallback:i=(()=>{}),failureCallback:r=(()=>{})}=e;return Ma({endpoint:this.endpoint,queryId:n,variables:t,pemDegradationTrackingMetadata:this.pemDegradationTrackingMetadata,isPemEnabled:this.isPemEnabled}).then((e=>{const{responseText:t}=e;return i(JSON.parse(t).graphQL)})).catch(r)}}class Ua extends Da{constructor(){super(...arguments)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:Ua.query,variables:{allowedCommentersScope:e.allowedCommentersScope,text:e.text,visibility:e.visibility||"PUBLIC",reshareUrn:e.reshareUrn,attributedShareUrn:e.attributedShareUrn,articleInput:e.articleInput,imagePostInput:e.imagePostInput,attributes:e.attributes,containerEntity:e.containerEntity},successCallback:t,failureCallback:n})}}Oe(Ua,"query","2849bb08e3a3bbd23c96c0e758c018b7");class qa extends Da{constructor(){super(...arguments)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:qa.query,variables:{url:e},successCallback:t,failureCallback:n})}}Oe(qa,"query","bece320b5f70fe4357082fe84eca6c56");const Ba="loader--absolute",Fa="loader--show",ja="loader--full-screen",Ha="no-scroll",Ga="loader-wrapper";class za{constructor(e){let{wrapperEl:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Loader el required");if(t&&!t.contains(e))throw new Error("Wrapper element is not a parent of the Loader el");this.el=e,this.wrapperEl=t,this.isAbsoluteVariant=this.wrapperEl&&this.el.classList.contains(Ba),window.addEventListener("pagehide",(e=>{let{persisted:t}=e;t&&this.hide()}))}show(){this.el.classList.add(Fa),this.el.classList.contains(ja)&&document.body.classList.add(Ha),this.isAbsoluteVariant&&this.wrapperEl.classList.add(Ga)}hide(){this.el.classList.remove(Fa),document.body.classList.remove(Ha),this.isAbsoluteVariant&&this.wrapperEl.classList.remove(Ga)}}const Wa="dismissable-input",Va="dismissable-input--focus",Ka="dismissable-input__button",Ya="dismissable-input__button--show",Qa="dismissable-input__input";class Xa{constructor(e){this.el=e,this._input=this.el.querySelector(".".concat(Qa)),this._dismissButtonEl=this.el.querySelector(".".concat(Ka)),this._isDismissable=!!this._dismissButtonEl,this._attachEventListeners()}_attachEventListeners(){this._input.addEventListener("focus",this._onInputFocus.bind(this)),this._input.addEventListener("input",this._updateDismissButton.bind(this)),this._input.addEventListener("blur",this._onInputBlur.bind(this)),this._isDismissable&&(this._dismissButtonEl.addEventListener("click",this.clear.bind(this)),this._updateDismissButton())}_onInputFocus(){this.el.classList.add(Va),this._updateDismissButton(),m(this._input,"dismissableInputFocused")}_updateDismissButton(){this._isDismissable&&(this._input.value.length?(this._showDismissButton(),this._dismissButtonEl.disabled=!1):(this._hideDismissButton(),this._dismissButtonEl.disabled=!0))}_hideDismissButton(){this._dismissButtonEl.classList.remove(Ya)}_showDismissButton(){this._dismissButtonEl.classList.add(Ya)}_onInputBlur(){this.el.classList.remove(Va)}clear(){this._input.value="",this._updateDismissButton(""),this._input.focus(),m(this.el,"clear")}}const Ja={block:"typeahead-input",showList:"typeahead-input__dropdown--show",dropdown:"typeahead-input__dropdown",dropdownList:"typeahead-input__dropdown-list",dropdownText:"typeahead-input__dropdown-text",listItemFocus:"typeahead-input__dropdown-item--highlighted",listItem:"typeahead-input__dropdown-item",liveText:"typeahead-live-text",template:"typeahead-item-template"},Za="i18n_aria_live_text_no-suggestions",$a="i18n_aria_live_text_one-suggestion",ec="i18n_aria_live_text_multiple-suggestions",tc=500;class nc{constructor(e,t){let{createDismissableInput:n,elementClasses:i=Ja,generateApiUrl:r,liveTextEl:o,liveTextClearTime:s=tc,onSelect:a,onInput:c=(()=>{}),inputEl:l,dropdownContainerEl:u,dropdownListEl:d,isFullPageTypeahead:h,closeOnEscape:f=!1}=t;this.el=e,this._liveTextClearTime=s,this._elementClasses=i,this._closeOnEscape=f,this._input=l||this.el.querySelector(".".concat(Qa)),this._dropdownContainerEl=u||this.el.querySelector(".".concat(this._elementClasses.dropdown)),this._dropdownListEl=d||this.el.querySelector(".".concat(this._elementClasses.dropdownList)),this._listId=this._dropdownListEl.id,this._generateApiUrl=r,this._onSelect=a,this._onInput=c,this._typeaheadItemTemplate=this.el.querySelector(".".concat(this._elementClasses.template)),this._boundClickOutsideToCloseHandler=this._clickOutsideToCloseHandler.bind(this),this._liveTextEl=o||this.el.querySelector(".".concat(this._elementClasses.liveText)),n&&(this.dismissableInput=new Xa(this.el)),this.isFullPageTypeahead=h,this._getLiveTextOptions(),this._resetState(),this._attachEventListeners(),this._requestHandler=p(this._getAndApplyResults.bind(this),500)}_resetState(){this._dropdownListItemEls=[],this._setHighlightedEl(null),this._setExpandedState(!1)}_attachEventListeners(){this.checkForListItemSelectHandler=this._checkForListItemSelect.bind(this),this.hideListHandler=this._hideList.bind(this),this.onKeyDownHandler=this._onKeyDown.bind(this),this.onUserInputHandler=this._onUserInput.bind(this),this.onClearHandler=this._onClear.bind(this),this._input.addEventListener("keydown",this.onKeyDownHandler),this._input.addEventListener("input",this.onUserInputHandler),this._input.addEventListener("focus",this.onUserInputHandler),!this.isFullPageTypeahead&&this._input.addEventListener("blur",this.hideListHandler),this._dropdownListEl.addEventListener("mousedown",this.checkForListItemSelectHandler),this._isDismissable&&this.el.addEventListener("clear",this.onClearHandler)}_removeEventListeners(){this._input.removeEventListener("keydown",this.onKeyDownHandler),this._input.removeEventListener("input",this.onUserInputHandler),this._input.removeEventListener("focus",this.onUserInputHandler),!this.isFullPageTypeahead&&this._input.removeEventListener("blur",this.hideListHandler),this._dropdownListEl.addEventListener("mousedown",this.checkForListItemSelectHandler)}_isListActive(){return this._input.getAttribute("aria-owns")===this._listId&&Boolean(this._input.getAttribute("aria-expanded"))}_clickOutsideToCloseHandler(e){e.target!==this._input&&this._hideList()}_onKeyDown(e){if(!this._isListActive())return;switch(A(e.key)){case L.ARROW_DOWN:e.preventDefault(),this._moveToResult(1);break;case L.ARROW_UP:e.preventDefault(),this._moveToResult(-1);break;case L.ESCAPE:this._closeOnEscape&&this._hideList();break;case L.ENTER:this._checkForListItemSelect(e)}}_moveToResult(e){if(0===this._dropdownListItemEls.length)return;const t=-1===e?-1:0;let n=null===this._highlighted.index?t:this._highlighted.index+e;n<0&&(n=this._dropdownListItemEls.length-1),n>=this._dropdownListItemEls.length&&(n=0),this._setHighlightedEl(n)}_setHighlightedEl(e){this._highlighted&&this._highlighted.el&&(this._highlighted.el.classList.remove(this._elementClasses.listItemFocus),this._highlighted.el.setAttribute("aria-selected",!1)),null===e?(this._highlighted={el:null,index:null},this._input.removeAttribute("aria-activedescendant")):(this._highlighted.el=this._dropdownListItemEls[e],this._highlighted.index=e,this._highlighted.el.setAttribute("aria-selected",!0),this._highlighted.el.classList.add(this._elementClasses.listItemFocus),this._input.setAttribute("aria-activedescendant",this._highlighted.el.id))}_isInputValid(){return this._input.value.length>0}_onUserInput(e){this._onInput(e),this._isInputValid()?this._requestHandler():this._hideList()}_getAndApplyResults(){if(this._isInputValid()){const e=this._input.value;this._makeTypeaheadRequest(e).then((e=>this._appendResults(e))).then((()=>this._showList()))}}_makeTypeaheadRequest(e){return ee(this._generateApiUrl(e),{sendCookies:!1}).then((e=>e&&JSON.parse(e.responseText)||[]))}_getItemEl(){return document.importNode(this._typeaheadItemTemplate.content,!0)}_appendResults(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this._hideList(),e.forEach(((e,t)=>{const n=this._getItemEl(),i=n.querySelector(".".concat(this._elementClasses.listItem)),r=i.querySelector(".".concat(this._elementClasses.dropdownText));i.id="".concat(this._input.name,"-").concat(t+1),r.textContent=e.displayName,r.dataset.id=e.id,this._dropdownListEl.appendChild(n)})),this._dropdownListItemEls=a(this._dropdownListEl.children)}_shouldShowList(){return this._dropdownListItemEls.length>0&&this._isInputValid()}_showList(){this._shouldShowList()?(this._dropdownContainerEl.classList.add(this._elementClasses.showList),document.body.addEventListener("click",this._boundClickOutsideToCloseHandler),this._setExpandedState(!0)):(this._hideList(),this._setExpandedState(!1)),this._setLiveText()}_hideList(){if(this._isListActive()){for(;this._dropdownListEl.firstChild;)this._dropdownListEl.removeChild(this._dropdownListEl.firstChild);this._resetState(),this._dropdownContainerEl.classList.remove(this._elementClasses.showList),document.body.removeEventListener("click",this._boundClickOutsideToCloseHandler)}}_onClear(){this.hideListHandler()}_checkForListItemSelect(e){if(!this._isListActive())return;const t="mousedown"===e.type?e.target:this._highlighted.el;if(!t)return;e.preventDefault();const n=t.classList.contains(this._elementClasses.dropdownText)?t:t.querySelector(".".concat(this._elementClasses.dropdownText))||t.closest(".".concat(this._elementClasses.dropdownText));n&&this.el.contains(n)&&this._updateInputTo(n,e)}_updateInputTo(e,t){this._input.value=e.textContent.trim(),this._input.focus(),"function"==typeof this._onSelect&&this._onSelect(e,t),this._hideList()}_getLiveTextOptions(){this._liveTextNoSuggestions=Sa(Za),this._liveTextOneSuggestion=Sa($a),this._liveTextMultipleSuggestions=Sa(ec)}_getLiveText(){let e;switch((this._dropdownListItemEls||[]).length){case 0:e=this._liveTextNoSuggestions;break;case 1:e=this._liveTextOneSuggestion;break;default:e=this._liveTextMultipleSuggestions}return e}_setLiveText(){const e=this._getLiveText(),t=document.createElement("p");t.textContent=e,this._liveTextEl.children.length&&(this._liveTextEl.removeChild(this._liveTextEl.firstChild),clearTimeout(this._liveTextTimeout)),this._liveTextEl.appendChild(t),this._liveTextTimeout=setTimeout((()=>{this._liveTextEl.firstChild&&this._liveTextEl.removeChild(this._liveTextEl.firstChild)}),this._liveTextClearTime)}_setExpandedState(e){this._input.setAttribute("aria-expanded",e),e&&(this._input.setAttribute("aria-owns",this._listId),this._input.setAttribute("aria-controls",this._listId))}}const ic="no-scroll",rc="fixed",oc="show-on-mobile",sc="hide-on-mobile",ac="isExpanded";class cc{constructor(e,t,n){let{onCloseExpandedSearch:i=(e=>e),isMobileDevice:r=!1}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(this.el=e,this.expandedEl=t,this.placeholderEl=n,this.isMobileDevice=r,!this.el)throw new Error("No element passed in to BaseSearchBar");this.isExpanded=!1,this.type=this.el.getAttribute("data-searchbar-type"),this.firstInput=this.el.querySelector("input:first-of-type"),this.isIOSDevice="iPhone"===navigator.platform||"iPad"===navigator.platform||"iPod"===navigator.platform,this.onCloseExpandedSearch=i,r&&(this.focusTrap=new W(this.expandedEl))}showExpandedSearch(){this.isExpanded=!0,this.isMobileDevice&&(this.focusTrap.init(),this.placeholderEl.classList.add("hidden")),this.placeholderEl.classList.remove(oc),this.placeholderEl.classList.add(sc),this.expandedEl.classList.add(ac),document.body.classList.add(ic),this.isIOSDevice&&(document.body.classList.add(rc),this.expandedEl.addEventListener("touchstart",this._onIOSTouchStartEvent)),document.addEventListener("keyup",this._onKeyUpEvent.bind(this)),this.firstInput.focus()}hideExpandedSearch(){this.firstInput.blur(),this.isExpanded=!1,this.isMobileDevice&&(this.focusTrap.tearDown(),this.placeholderEl.classList.remove("hidden")),this.expandedEl.classList.remove(ac),this.placeholderEl.classList.remove(sc),this.placeholderEl.classList.add(oc),document.body.classList.remove(ic),this.isIOSDevice&&(document.body.classList.remove(rc),this.expandedEl.removeEventListener("touchstart",this._onIOSTouchStartEvent)),document.removeEventListener("keyup",this._onKeyUpEvent),this.placeholderEl.focus(),this.onCloseExpandedSearch()}_onKeyUpEvent(e){const{key:t,target:n}=e,i="Escape"===t,r="INPUT"===n.tagName;i&&!r?(e.preventDefault(),this.hideExpandedSearch()):"Tab"===t&&this._userIsTabbedOut()&&this.hideExpandedSearch()}_onIOSTouchStartEvent(t){const{target:n}=t;e(n,".".concat(Ja.block))||document.activeElement.blur()}_userIsTabbedOut(){if(this.expandedEl.classList.contains(ac)&&vo()){return!this.expandedEl.contains(document.activeElement)}return!1}}class lc extends nc{constructor(e,t){let{generateApiUrl:n,liveTextEl:i,onSelect:r,onInput:o,isFullPageTypeahead:s}=t;super(e,{createDismissableInput:!0,generateApiUrl:n,liveTextEl:i,onSelect:r,onInput:o,isFullPageTypeahead:s})}}const uc={clearButton:"recent-searches__clear-btn",dropdown:"recent-searches",dropdownList:"recent-searches__list",listItem:"recent-searches__item",listItemClearButton:"recent-searches__item--clear",listItemLink:"recent-searches__item-link",listItemFocus:"recent-searches__item--highlighted",showList:"recent-searches--show"},dc="i18n_aria_live_text_recent-searches-one-suggestion",hc="i18n_aria_live_text_recent-searches-multiple-suggestions",pc="i18n_aria_live_text_recent-searches-cleared";class fc extends nc{constructor(e,t){let{liveTextEl:n,clearRecentSearchApiBaseUrl:i}=t;if(super(e,{liveTextEl:n,elementClasses:uc,liveTextClearTime:1e3,closeOnEscape:!0}),!e)throw Error("An element must be provided to RecentSearches");if(this.dropdownContainerEl=e.querySelector(".".concat(uc.dropdown)),!this.dropdownContainerEl)throw Error("A RecentSearches container element must be in the RecentSearches parent element");this._clearRecentSearchApiBaseUrl=i,this._dropdownListItemEls=a(this.dropdownContainerEl.querySelectorAll(".".concat(uc.listItem))),this._clearBtnItem=e.querySelector(".".concat(uc.listItemClearButton)),this._dropdownListItemEls.push(this._clearBtnItem),this._dismissButtonEl=e.querySelector(".".concat(Ka))}_attachEventListeners(){this._clearBtn=this.el.querySelector(".".concat(uc.clearButton)),this._clearRecentSearchesHandler=this._clearRecentSearches.bind(this),this._clearBtn.addEventListener("mousedown",this._clearRecentSearchesHandler),super._attachEventListeners()}_removeEventListeners(){this._clearBtn.removeEventListener("mousedown",this._clearRecentSearchesHandler),super._removeEventListeners()}_onUserInput(){this._shouldShowList()?this._showList():this._hideList()}_redirect(e){e.click()}_clickOutsideToCloseHandler(e){e.target===this._input||this._dismissButtonEl.contains(e.target)||this._hideList()}_checkForListItemSelect(e){if(!this._isListActive())return;const t="mousedown"===e.type?e.target:this._highlighted.el;if(!t)return;e.preventDefault();const n=t.querySelector(".".concat(uc.listItemLink));n?this._redirect(n):t.classList.contains(uc.listItemLink)?this._redirect(t):t===this._clearBtnItem&&this._clearRecentSearches()}_shouldShowList(){return this._dropdownListItemEls.length>1&&0===this._input.value.length}_onClear(){this.onUserInputHandler()}_hideList(){this._isListActive()&&(this.dropdownContainerEl.classList.remove(uc.showList),document.body.removeEventListener("click",this._boundClickOutsideToCloseHandler),this._setExpandedState(!1),this._setHighlightedEl(null))}_getLiveTextOptions(){this._liveTextOneSuggestion=Sa(dc),this._liveTextMultipleSuggestions=Sa(hc),this._liveTextClearedSuggestions=Sa(pc)}_getLiveText(){let e;switch(this._informUserThatSearchesAreCleared?0:this._dropdownListItemEls.length){case 0:e=this._liveTextClearedSuggestions,this._informUserThatSearchesAreCleared=!1;break;case 2:e=this._liveTextOneSuggestion;break;default:e=this._liveTextMultipleSuggestions}return e}_clearRecentSearches(){ee(this._clearRecentSearchApiBaseUrl,{method:"DELETE"}).then((()=>{this._removeEventListeners(),this._informUserThatSearchesAreCleared=!0,super._hideList(),super._setLiveText()})).catch((e=>{throw e}))}}const mc="tab-selected",gc="hidden",vc="switcher-tabs__button",yc="switcher-tabs__tab";class bc{constructor(e,t,n){this.el=e,this.mobileTriggerEl=n,this.baseSearchBarsMap=t,this.currentType=this.el.getAttribute("data-current-search-type"),this.switcherTriggerAndTabs=this.el.querySelector(".".concat("switcher-tabs__trigger-and-tabs")),this.switcherTabs=this.el.querySelector(".".concat("switcher-tabs")),this.dropdownList=this.el.querySelector(".".concat("switcher-tabs__list")),this.dropdownTrigger=this.el.querySelector(".".concat("switcher-tabs__placeholder")),this.dropdownPlaceholderText=this.el.querySelector(".".concat("switcher-tabs__placeholder-text")),this._handleSwitcherClick=this._handleSwitcherClick.bind(this),this._initMobileExpandedSwitcher(),this._initCollapsibleSwitcher()}_initMobileExpandedSwitcher(){this.el.addEventListener("click",this._handleSwitcherClick),this.mobileTriggerEl.addEventListener("click",(e=>{e.preventDefault(),this.baseSearchBarsMap[this.currentType].showExpandedSearch()})),this.cancelBtn=this.el.querySelector(".".concat("switcher-tabs__cancel-btn")),this.cancelBtn.addEventListener("click",(e=>{e.preventDefault(),this.baseSearchBarsMap[this.currentType].hideExpandedSearch()}))}_initCollapsibleSwitcher(){this.collapsibleSwitcher=new $(this.switcherTriggerAndTabs,{dropdownContentEl:this.dropdownList,dropdownTriggerEl:this.dropdownTrigger}),this.switcherTriggerAndTabs.addEventListener("open",(()=>this._openSwitcher())),this.switcherTriggerAndTabs.addEventListener("close",(()=>this._closeSwitcher())),this._updatePlaceholderText()}_openSwitcher(){this.dropdownList.addEventListener("click",this._handleSwitcherClick),this.switcherTabs.classList.remove(gc),this.dropdownList.querySelector("button").focus()}_closeSwitcher(){this.dropdownList.removeEventListener("click",this._handleSwitcherClick),this.switcherTabs.classList.add(gc)}_handleSwitcherClick(t){if(!t.target.classList.contains(vc)&&!t.target.classList.contains(yc))return;const n=e(t.target,".".concat(yc)),i=n.querySelector(".".concat(vc)).getAttribute("data-switcher-type");i&&n&&this.currentType!==i?(this.collapsibleSwitcher.collapsible.currentListItem=n,this._switchTo(i,n)):this.collapsibleSwitcher.collapsible.close()}_switchTo(e,t){this._updateActiveTab(t),this._updatePlaceholderText(),this.el.setAttribute("data-current-search-type",e),this.collapsibleSwitcher.collapsible.close(),this.baseSearchBarsMap[this.currentType].isExpanded?this.baseSearchBarsMap[e].showExpandedSearch():this.baseSearchBarsMap[e].hideExpandedSearch(),this.currentType=e}_updateActiveTab(t){const n=this.el.querySelector(".".concat(mc));if(e(n,".".concat(yc))&&(n.setAttribute("aria-selected","false"),n.classList.remove(mc)),t.classList.contains(yc)){const e=t.querySelector(".".concat(vc));e.classList.add(mc),e.setAttribute("aria-selected","true")}}_updatePlaceholderText(){let e=this.el.querySelector(".".concat(mc));e&&(this.dropdownPlaceholderText.textContent=e.textContent)}}class Ec{constructor(e){let{typeaheadApiBaseUrl:t,clearRecentSearchApiBaseUrl:n,shouldSearchOnSelect:i=!0,onCloseExpandedSearch:r,includeSwitcher:o=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.el=e,!this.el)throw new Error("No element passed into SearchBar");this.typeaheadApiBaseUrl=t;const s=this.el.querySelector(".".concat("search-bar__live-text"));this.shouldSearchOnSelect=i,this.placeholderEl=this.el.querySelector(".".concat("search-bar__placeholder"));const c=!!this.el.querySelector(".".concat("search-bar__mobile-wrapper"));if(this.baseSearchBarsMap=a(this.el.querySelectorAll(".".concat("base-search-bar"))).reduce(((e,t)=>{const n=new cc(t,this.el,this.placeholderEl,{onCloseExpandedSearch:r,isMobileDevice:c});return e[n.type]=n,e}),{}),t){this.baseSearchBarFormEl=this.baseSearchBarsMap.JOBS.el.querySelector(".base-search-bar__form"),this.geoIdInputEl=this.el.querySelector('input[name="geoId"]');const e=this.el.querySelector(".keywords-typeahead-input");new lc(e,{generateApiUrl:this._generateKeywordsTypeaheadApiUrl.bind(this),liveTextEl:s,onSelect:this._onKeywordsTypeaheadSelect.bind(this)});e.querySelector(".".concat(uc.dropdown))&&new fc(e,{clearRecentSearchApiBaseUrl:n,liveTextEl:s}),new lc(this.el.querySelector(".location-typeahead-input"),{generateApiUrl:this._generateLocationTypeaheadApiUrl.bind(this),liveTextEl:s,onSelect:this._onLocationTypeaheadSelect.bind(this),onInput:this._onLocationTypeaheadInput.bind(this)}),Array.from(this.el.querySelectorAll(".".concat(Wa,".search-input"))).forEach((e=>{new Xa(e);e.querySelector(".".concat(uc.dropdown))&&new fc(e,{clearRecentSearchApiBaseUrl:n,liveTextEl:s})})),this._addCustomErrorStateHandler()}else Array.from(this.el.querySelectorAll(".".concat(Wa))).forEach((e=>new Xa(e)));o&&(this.switcher=new bc(e,this.baseSearchBarsMap,this.placeholderEl)),this.setupSearchInputFocusTracking()}_generateKeywordsTypeaheadApiUrl(e){return"".concat(this.typeaheadApiBaseUrl,"?query=").concat(window.encodeURIComponent(e))}_generateLocationTypeaheadApiUrl(e){return"".concat(this.typeaheadApiBaseUrl,"?query=").concat(window.encodeURIComponent(e),"&typeaheadType=GEO&geoTypes=POPULATED_PLACE,ADMIN_DIVISION_2,MARKET_AREA,COUNTRY_REGION")}_onKeywordsTypeaheadSelect(){this.shouldSearchOnSelect&&this._submitForm()}_onLocationTypeaheadSelect(e){this.geoIdInputEl&&(this.geoIdInputEl.value=e.dataset.id),this.shouldSearchOnSelect&&this._submitForm()}_onLocationTypeaheadInput(){this.geoIdInputEl&&(this.geoIdInputEl.value="")}_submitForm(){const e=this.el.querySelector(".keywords-typeahead-input input");null!=e&&e.validity.valueMissing?e.reportValidity():this.baseSearchBarFormEl&&this.baseSearchBarFormEl.submit()}_addCustomErrorStateHandler(){const e=this.el.querySelector(".keywords-typeahead-input input"),t=this.el.querySelector(".keywords-typeahead-input-helper");null==e||e.addEventListener("invalid",(n=>{n.preventDefault(),this.baseSearchBarFormEl.classList.add("input-error"),null==t||t.classList.remove("hidden"),e.focus()}))}setupSearchInputFocusTracking(){this.el.addEventListener("dismissableInputFocused",(e=>{const t=e.target.getAttribute("data-tracking-control-name");t&&window.tracking&&window.tracking.then((e=>{e.fireTrackingEvent("SearchInputFocusEvent",{header:{},controlUrn:"urn:li:control:".concat(E(document),"-").concat(t)})}))}))}}const _c="overlay_";class wc extends ro{constructor(e){let{enablePageViewTracking:t=!1,shouldHideModal:n=(()=>!1),triggerByOutletEl:i=!0,pushState:r=!0,shouldMoveToTopContainer:o=!0,focusElement:s,pageKey:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed into mobile web modal");super(e,{enablePageViewTracking:t,shouldHideModal:n,triggerByOutletEl:i,shouldMoveToTopContainer:o,focusElement:s,pageKey:a}),this.pushState=r,this.hashChangeHandlerRef=this._hashChangeHandler.bind(this)}historyBackClickHandler(){this.close({enableHistoryBack:!1})}_hashChangeHandler(e){const t=e.oldURL&&e.oldURL.split("#")[1];t&&t==="".concat(_c).concat(this._el.id)&&this.historyBackClickHandler()}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super.open(e),this._shouldHideModal()||(this.pushState&&history.pushState(this._el.id,"show modal","#".concat(_c).concat(this._el.id)),window.addEventListener("hashchange",this.hashChangeHandlerRef))}close(){let{enableHistoryBack:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};window.removeEventListener("hashchange",this.hashChangeHandlerRef),this.pushState&&e&&(window.history.replaceState({},document.title,window.location.href.split("#")[0]),history.back()),super.close()}}document.querySelector.bind(document);String.fromCharCode(32);E(document);String.fromCharCode(32);const Sc="dismiss",Tc="show";class Cc{constructor(e,t){let{isShown:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)throw Error("An element must be provided to the dismissable element");if(!t)throw Error("A dismiss button must be provided to the dismissable element");this.el=e,this.dismissBtn=t,this._dismissEvent=e=>this.dismiss(e),n&&this.show()}show(){this.el.classList.add(Tc),this.el.classList.remove(Sc),this.dismissBtn.addEventListener("click",this._dismissEvent),m(this.el,"show")}dismiss(e){this.el.classList.remove(Tc),this.el.classList.add(Sc),m(this.el,"dismiss",e),this.dismissBtn.removeEventListener("click",this._dismissEvent)}}function kc(){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!e||0===e.trim().length};return e.errorMessageSuffix="error_empty",e}function Lc(e){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length<e};return t.errorMessageSuffix="error_too_short",t}function Ic(e){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.length>e};return t.errorMessageSuffix="error_too_long",t}const Ac={session_key:[kc(),Lc(3),Ic(128)],session_password:[kc(),Lc(6),Ic(400)]};function xc(e,t){const n=Ac[e];if(!n)throw new Error("No validation rules for element named ".concat(e));for(let e=0;e<n.length;e++)if(n[e](t))return n[e].errorMessageSuffix}var Oc=window||n.g;const Rc=/^((?!\.(stg|corp)).)*\.linkedin\.(com|cn)$/,Pc="utag_data",Nc="tealium";function Mc(){const e=Oc.location?Oc.location.hostname:"";return Rc.test(e)}function Dc(){return Mc()?Uc()?"platform.linkedin.cn":"platform.linkedin.com":Uc()?"platform.linkedin-ei.cn":"platform.linkedin-ei.com"}function Uc(){const e=Oc.location?Oc.location.hostname:"";return/\.cn$/.test(e)}function qc(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("function"!=typeof t||"function"!=typeof n)throw new TypeError("One of the specified callbacks is not a function.");const r=new Oc.XMLHttpRequest;r.withCredentials=i,r.open("GET",e,!0),r.onreadystatechange=function(){this.readyState===this.DONE&&(200===this.status&&"function"==typeof t?t(this.responseText):n(this))},r.send()}function Bc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc,Hc,Gc,zc,Wc={ADVERTISING:"ADVERTISING",ANALYTICS_AND_RESEARCH:"ANALYTICS_AND_RESEARCH",FUNCTIONAL:"FUNCTIONAL"},Vc="GUEST",Kc="MEMBER",Yc=0,Qc=1,Xc=2,Jc=(Fc(jc={},Vc,"li_gc"),Fc(jc,Kc,"li_mc"),jc),Zc="liap",$c=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;for(var o in Bc(this,e),t=t||{},this.consentAvailable=!1,this.issuedAt=n,this.userMode=i,this.optedInConsentMap={},Wc)t[o]=t[o]||Yc,t[o]!==Yc&&(this.consentAvailable=!0),this.optedInConsentMap[o]=t[o]===Qc||t[o]===Yc&&r===Qc},el=(Hc=[Wc.ADVERTISING,Wc.ANALYTICS_AND_RESEARCH,Wc.FUNCTIONAL],Gc=[Yc,Qc,Xc,Yc],zc=new RegExp(["^(\\d+)","(\\d+)","(\\d+)","((?:.|\\s)+)"].join(";")),{parseConsentBody:function(e,t){var n=e.match(zc);if(!n)return{error:"Invalid consent body encoding",consent:new $c};for(var i=parseInt(n[1],10),r={},o=0;o<Hc.length;o++)r[Hc[o]]=Gc[i>>2*o&3];var s=new Date(1e3*parseInt(n[2],10)),a=parseInt(n[3],10),c=Yc;return a>=0&&a<=3&&(c=Gc[a]),{error:null,consent:new $c(r,s,t,c)}}}),tl=new RegExp(["^(\\d+)","((?:.|\\s)+)"].join(";")),nl=function(e,t){var n=t.match(new RegExp("(?:^|; *)".concat(e,"=([^;]*)")));return n&&n.length>1?n[1]:null},il=function(e,t){var n=nl(Jc[e],t);return n?ol(n,e):nl(Jc[Vc],t)||nl(Jc[Kc],t)?rl(Xc):rl(Qc)},rl=function(e){var t={};for(var n in Wc)t[n]=e;return{error:null,consent:new $c(t,null,null,e)}};var ol=function(e,t){e&&e.length>1&&'"'==e.charAt(0)&&'"'==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1));var n,i=null;try{i=(n=e,"undefined"==typeof atob&&"undefined"!=typeof Buffer?Buffer.from(n,"base64").toString("binary"):atob(n)).match(tl)}catch(e){}if(!i)return{error:"Invalid consent encoding",consent:new $c};var r=parseInt(i[1],10),o=i[2];return 1===r?el.parseConsentBody(o,t):{error:"Invalid encoded consent version ".concat(r),consent:new $c}},sl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.cookie;return e||(e=nl(Zc,t)?nl(Jc[Kc],t)?Kc:Vc:nl(Jc[Vc],t)?Vc:Kc),il(e,t)};function al(e){return function(){let e=sl();return!e||e.consent.optedInConsentMap.ADVERTISING}()&&function(e){return e["compliance.isGDPROptIn"]}(e)}function cl(e){return function(){let e=sl();return!e||e.consent.optedInConsentMap.ANALYTICS_AND_RESEARCH}()}function ll(e){return function(){let e=sl();return!e||e.consent.optedInConsentMap.FUNCTIONAL}()}function ul(e){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=t[i];e[r]=n[r]}}}return e}function dl(e){const t=new Oc.Date;t.setSeconds(0),t.setMilliseconds(0);const n=Math.floor(t.getMinutes()/e)*e;return t.setMinutes(n),t.getTime()}function hl(){return/utagdb=[^;]+/.test(Oc.document.cookie)}let pl;const fl={},ml={};function gl(){return"https://".concat(Mc()?Uc()?"www.linkedin.cn":"www.linkedin.com":Uc()?"www.linkedin-ei.cn":"www.linkedin-ei.com").concat("/litms/api/metadata/user")}function vl(){return function(e){let t=ul({},e);return t["compliance.isAdvertisingOptIn"]=al(t),t["compliance.isAnalyticsAndResearchOptIn"]=cl(),t["compliance.isFunctionalOptIn"]=ll(),t}(fl)}function yl(e){if(!ml[e]){const t=function(e){return"https://".concat(Dc(),"/litms/allowlist/").concat(encodeURIComponent(e))}(e),n=new Promise(((e,n)=>{qc(t,(t=>{e(JSON.parse(t))}),(e=>{n(e)}),!1)}));ml[e]=n}return ml[e]}Oc[Pc]||(Oc[Pc]={});const bl="undefined"!=typeof window&&window&&"node"!==window.appEnvironment;let El;function _l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,n=null;return"string"==typeof e&&(n="https://".concat(Dc(),"/litms/utag/").concat(e,"/utag.js?cb=").concat(dl(t))),n}function wl(){return function(){if(void 0===El&&bl){const e=Oc.document.cookie.match(/litms_utag_override=([^;]+)/);El=e?e[1]:""}return El}().length>0}function Sl(e,t,n,i){e.onLoadRulesRunOnce(n);let r=ul({},t,vl());e.view(r),hl()&&Oc.trackingEventDebugData.push({profileName:i,eventType:"PV",trackingData:r})}function Tl(e,t,n,i){e.onLoadRulesRunOnce(n);let r=ul({},t,vl());e.link(r),hl()&&Oc.trackingEventDebugData.push({profileName:i,eventType:"CI",trackingData:r})}function Cl(e,t,n){if(function(e){Oc.utag=e}(e),t instanceof Array&&t.length>0){const i=t.length;for(let r=0;r<i;r++){const i=t.shift();i.isControlInteraction?Tl(e,i.data,i.callback,n):Sl(e,i.data,i.callback,n)}}}function kl(e,t){!function(e){return"object"==typeof e&&"function"==typeof e.fireTrackingEvent}(e)?console.error("Unable to fire tracking event"):e.fireTrackingEvent(t.info.name,t.body)}function Ll(e,t){return"urn:li:externalMarketingTag:(".concat(function(e){const t=e.data["ut.profile"],n=e.cfg.v;return"urn:li:tagManagementSystemProfile:(".concat(Nc,",").concat(t,",").concat(n,")")}(e),",").concat(parseInt(t),")")}function Il(e){const t=function(e){return Object.keys(e.loader.cfg).filter((t=>1===e.loader.cfg[t].send&&0!==e.loader.cfg[t].load))}(e).map((t=>function(e,t){return{tagUrn:Ll(e,t)}}(e,t)));if(0!==t.length)return{info:{name:"ExternalMarketingTagFireEvent"},body:{header:{},requestHeader:{},tags:t}}}Oc.utag_cfg_ovrd=Oc.utag_cfg_ovrd||{},Oc.trackingEventDebugData=Oc.trackingEventDebugData||[],Oc.utag_cfg_ovrd.noview=!0,Oc.utag_cfg_ovrd.nocookie=!0;const Al=bl&&new RegExp("bot|google|aolbuild|baidu|bing|msn|duckduckgo|teoma|slurp|yandex|sogou|facebook|alexa","i").test(Oc.navigator.userAgent),xl={};let Ol,Rl,Pl,Nl={};class Ml{constructor(){let{profileName:e,tracking2Instance:t,enableAllowlisting:n=!1,cacheBusterInterval:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.isInitialized=!1,this.isAllowlistingEnabled=!1,this._allowlistReadyPromise=Promise.resolve({}),this.isContainerTagLoaded=!1,this._queue=[],this.allowlist={pageKey:{},controlUrn:{}},this.tracking2Instance=t,this.profileName=e,this.enableAllowlisting=n,this.cacheBusterInterval=i}initialize(){return this._shouldInitialize()?this.isInitialized?(console.warn("Initialize should not be called more that once"),this.initializePromise.then()):(this.isInitialized=!0,this.initializePromise=new Promise(((e,t)=>{this.enableAllowlisting?(this.isAllowlistingEnabled=!0,this._onInitializeSuccessCallback=e,this._onInitializeFailureCallback=t,this._allowlistReadyPromise=yl(this.profileName).then((e=>this._processAllowlistResult(e))).catch((e=>console.error("Unable to retrieve allowlists for profile : ".concat(this.profileName),e)))):this._loadContainerTag(e,t)})),this.profileName&&(xl[this.profileName]=this),this.initializePromise):Promise.resolve()}_processAllowlistResult(e){Object.keys(e).forEach((t=>this.addValuesToAllowlist(t,e[t])))}_loadContainerTag(e,t){void 0!==Oc.utag&&(Oc.utag=void 0),void 0!==Oc[Pc]&&(Oc[Pc]=void 0);const n=function(){if(!pl){const e=gl();pl=new Promise(((t,n)=>{qc(e,(e=>{try{t(JSON.parse(e))}catch(e){console.error("Invalid JSON format of userSettings"),n(e)}}),(e=>{n(e)}))}))}return pl}().then((e=>{Object.keys(e).forEach((t=>{!function(e,t){const n="string"!=typeof t?"":"".concat(t,".");"object"==typeof e&&Object.keys(e).forEach((t=>{fl[n+t]=e[t]}))}(e[t],t)}))})).catch((e=>{console.error("Unable to get user settings while calling loading container tag",e)})),i=(r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"main",t=arguments.length>1?arguments[1]:void 0;return wl()?El:_l(e,t)}(this.profileName,this.cacheBusterInterval),new Promise((e=>{const t=Oc.document.createElement("script");t.type="text/javascript",t.src=r,t.async=!0,t.onload=e,Oc.document.getElementsByTagName("head")[0].appendChild(t)})));var r;Promise.all([n,i]).then((()=>{this.isContainerTagLoaded=!0,this._uTag=Oc.utag,function(e){const t=[];e.onLoadRulesRunOnce=function(e){t.push(e)};const n=e.loader.initcfg;e.loader.initcfg=function(){n.call(this,arguments),t.length>0&&t.shift()()}}(this._uTag),this._processQueuedEvents();const t={info:{name:"TagManagementSystemLoadEvent"},body:{header:{},requestHeader:{}}};"object"==typeof this.tracking2Instance&&kl(this.tracking2Instance,t),e(t)})).catch((e=>{console.error("Unable to complete loading container tag",e),t()}))}_shouldInitialize(){return!Al}_shouldProcessEvent(e){return Al?Promise.resolve(!1):this.isAllowlistingEnabled?new Promise((t=>{this._allowlistReadyPromise.then((()=>{t(this._isEventAllowlisted(e))}))})):Promise.resolve(!0)}_isEventAllowlisted(e){return void 0!==e.controlUrn?this._isEventAllowlistedByControlUrn(e):this._isEventAllowlistedByPageKey(e)}_isEventAllowlistedByPageKey(e){return void 0!==this.allowlist.pageKey[e.pageKey]}_isEventAllowlistedByControlUrn(e){return void 0!==this.allowlist.controlUrn[e.controlUrn]}addValuesToAllowlist(e,t){"string"==typeof e&&Array.isArray(t)&&void 0!==this.allowlist[e]&&t.forEach((t=>{this.allowlist[e][t]=!0}))}_processQueuedEvents(){this.isContainerTagLoaded?Cl(this._uTag,this._queue,this.profileName):this.isInitialized&&this.isAllowlistingEnabled&&this._loadContainerTag(this._onInitializeSuccessCallback,this._onInitializeFailureCallback)}_fireAuditEvent(){const e=Il(this._uTag);return void 0!==this.tracking2Instance&&void 0!==e&&kl(this.tracking2Instance,e),e}_createCallbackForAuditEvent(e){const t=this;return function(){const n=t._fireAuditEvent();"function"==typeof e&&e(n)}}_checkForCookieConsent(){sl().consent.consentAvailable&&!Rl?this._refireTracking():Ol=setTimeout((()=>{this._checkForCookieConsent()}),2e3)}_refireTracking(){Nl.payloads&&Nl.payloads.forEach((e=>{const{data:t,callback:n}=e;t.cookieConsentGiven=!0,this.trackPageView(t,n)}))}_savePayloadForRefire(e,t){if(bl){Rl=!1;const{payloads:n=[],url:i}=Nl,r=location.href,o={data:e,callback:t},s=r!==i?[]:n;s.push(o),Nl={url:r,payloads:s},Ol||(Ol=setTimeout((()=>{this._checkForCookieConsent()}),2e3))}}trackPageView(e,t){return sl().consent.consentAvailable||this._savePayloadForRefire(e,t),this._shouldProcessEvent(e).then((n=>{n&&(this._queue.push({isControlInteraction:!1,data:e,callback:this._createCallbackForAuditEvent(t)}),this._processQueuedEvents())}))}trackControlInteraction(e,t){return this._shouldProcessEvent(e).then((n=>{n&&(this._queue.push({isControlInteraction:!0,data:e,callback:this._createCallbackForAuditEvent(t)}),this._processQueuedEvents())}))}}function Dl(e){let{event:t,litmsInstance:n,pageKey:i}=e;const r=t.target.getAttribute("data-tracking-control-name"),o=t.target.hasAttribute("data-tracking-litms");r&&o&&n.trackControlInteraction({controlUrn:"urn:li:control:".concat(i,"-").concat(r)})}class Ul{constructor(e){if(this.trackingInstance=e,this.pageKey=E(document),this.litmsProfileName=function(e){const t=e.querySelector('meta[name="litmsProfileName"]');return t?t.content:""}(document),!this.litmsProfileName)throw Error('Page missing "litmsProfileName" meta tag.');this.litmsInstance=new Ml({tracking2Instance:this.trackingInstance,profileName:this.litmsProfileName}),this.litmsInstance.initialize(),this.clickEventListener=e=>Dl({event:e,litmsInstance:this.litmsInstance,pageKey:this.pageKey}),this.keydownEventListener=e=>{"Enter"!==e.key&&" "!==e.key&&"Spacebar"!==e.key||Dl({event:e,litmsInstance:this.litmsInstance,pageKey:this.pageKey})},document.body.addEventListener("click",this.clickEventListener,!0),document.body.addEventListener("keydown",this.keydownEventListener,!0)}trackPageView(){let{pageKey:e="",customParameters:t={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!("string"==typeof e||e instanceof String))throw new Error("The pageKey is not a string!");if(!("object"==typeof t||t instanceof Object))throw new Error("CustomParamteres is expected to be an object.");const n=e||this.pageKey;this.litmsInstance&&this.litmsInstance.trackPageView(xe({pageKey:n},t))}}function ql(){try{const e={};return void 0!==window.globalThis.apfcDf&&(e.df=window.globalThis.apfcDf),JSON.stringify(e)}catch(e){return JSON.stringify({error:e.message})}}const Bl="apfc",Fl='[data-js-module-id="guest-input"]',jl='[data-js-module-id="guest-input__message"]',Hl="input-error",Gl="hidden";class zl{constructor(e){let{customValidate:t,fireTrackingOnInit:n=!0,initSuccess:i,initFailure:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("An element must be provided to sign in form");this.el=e,this._customValidate=t,this._fireTrackingOnInit=n,this.initSuccess=i,this.initFailure=r,this.showText=Sa("i18n_sign_in_form_show_text"),this.showLabelText=Sa("i18n_sign_in_form_show_label"),this.hideText=Sa("i18n_sign_in_form_hide_text"),this.hideLabelText=Sa("i18n_sign_in_form_hide_label"),this.usernameEl=this.el.querySelector("input[name=".concat("session_key","]")),this.passwordEl=this.el.querySelector("input[name=".concat("session_password","]")),this.usernameElId=this.usernameEl.id,this.passwordElId=this.passwordEl.id,this.usernameMsgEl=this.el.querySelector("".concat(jl,'[for="').concat(this.usernameElId,'"]')),this.passwordMsgEl=this.el.querySelector("".concat(jl,'[for="').concat(this.passwordElId,'"]')),this.sessionRedirectEl=this.el.querySelector("input[name=".concat("session_redirect","]")),this.passwordVisibilityToggle=this.el.querySelector("".concat('[data-id="sign-in-form__password-visibility-toggle"]')),this.anonymousLoginToggleInput=this.el.querySelector(".anonymous-login-toggle input"),this.passwordVisibilityToggle.addEventListener("click",this._togglePasswordVisibility.bind(this)),this.el.addEventListener("submit",(e=>{if(e.preventDefault(),!this._validate()){if(this._customValidate)return this._customValidate(this.el);if(this.el.appendChild(this._createHiddenInputElement(Bl,ql())),this.anonymousLoginToggleInput&&this.anonymousLoginToggleInput.checked){const t=this.sessionRedirectEl.value,n=h("/public-profile/settings/anonymousLogin","csrfToken",C(f("JSESSIONID")));this.sessionRedirectEl.value=h(n,"originalSessionRedirect",t);try{localStorage.setItem("voyager-web:anonymous-login",Date.now())}catch(e){}}this.el.submit()}})),window.tracking&&window.tracking.then((e=>{const t=E(document,{skipSuffix:!0}),n=t+"_login-form",i=this.el.querySelector('[data-id="sign-in-form__submit-btn"]'),r="".concat(t,"-").concat(i.dataset.trackingControlName),o=Yr(e),s=this._createHiddenInputElement("pageInstance",o),a=this._createHiddenInputElement("controlId",r);this.el.appendChild(a),this.el.appendChild(s),this._fireTrackingOnInit&&this.fireTracking(e,n)}))}fireTracking(e,t){Wr(e,"ajax",t),function(e){if(!Pl){if(!e)throw new Error("No trackingInstance passed in!");Pl=new Ul(e)}return Pl}(e).trackPageView({pageKey:t})}setUsernameInputValue(e){this.usernameEl.value=e}resetFormState(){this.usernameEl.value="",this.passwordEl.value="","text"===this.passwordEl.getAttribute("type")&&this._togglePasswordVisibility()}_createHiddenInputElement(e,t){const n=document.createElement("input");return n.setAttribute("type","hidden"),n.setAttribute("name",e),n.setAttribute("value",t),n}_togglePasswordVisibility(){"password"===this.passwordEl.getAttribute("type")?(this.passwordEl.setAttribute("type","text"),this.passwordVisibilityToggle.innerText=this.hideText,this.passwordVisibilityToggle.setAttribute("aria-label",this.hideLabelText)):(this.passwordEl.setAttribute("type","password"),this.passwordVisibilityToggle.innerText=this.showText,this.passwordVisibilityToggle.setAttribute("aria-label",this.showLabelText))}_validate(){const e=xc(this.usernameEl.name,this.usernameEl.value);if(e){this.usernameEl.closest(Fl).classList.add(Hl),this.usernameMsgEl.classList.remove(Gl);const t="".concat("i18n_username","_").concat(e);return this.usernameMsgEl.innerText=Sa(t),this.usernameEl.focus(),!0}this.usernameEl.closest(Fl).classList.remove(Hl),this.usernameMsgEl.classList.add(Gl);const t=xc(this.passwordEl.name,this.passwordEl.value);if(t){this.passwordEl.closest(Fl).classList.add(Hl),this.passwordMsgEl.classList.remove(Gl);const e="".concat("i18n_password","_").concat(t);return this.passwordMsgEl.innerText=Sa(e),this.passwordEl.focus(),!0}this.passwordEl.closest(Fl).classList.remove(Hl),this.passwordMsgEl.classList.add(Gl)}}const Wl=30,Vl="cta-modal";class Kl{constructor(e){let{daysCoolOff:t=Wl,dismissOnOutsideClick:n=!0,dismissOnScroll:i=!1,dismissBtnEl:r,coolOffKey:o=Vl}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("An element must be provided to cta modal");this.el=e,this.coolOffPeriod=24*t*60*60*1e3,this.coolOffKey=o,this.dismissBtnEl=r||this.el.querySelector(".cta-modal__dismiss-btn"),this._dismissEvent=e=>this._dismiss(e),this._interactionEvent=e=>this._interactionListener(e),this.dismissOnOutsideClick=n,this.dismissOnScroll=i,this._hideModal()?m(this.el,"didNotOpen"):(this.dismissable=new Cc(this.el,this.dismissBtnEl,{isShown:!1}),this.dismissable.show(),this._addEventListeners())}_addEventListeners(){this.el.addEventListener("dismiss",this._dismissEvent),this.dismissOnOutsideClick&&document.body.addEventListener("click",this._interactionEvent),this.dismissOnScroll&&window.addEventListener("scroll",this._interactionEvent)}_dismiss(e){this._hardDismissal(e)&&this._setCoolOff(e),this._removeEventListeners()}_removeEventListeners(){this.el.removeEventListener("dismiss",this._dismissEvent),this.dismissOnOutsideClick&&document.body.removeEventListener("click",this._interactionEvent),this.dismissOnScroll&&window.removeEventListener("scroll",this._interactionEvent)}_interactionListener(e){this.el.contains(e.target)||this.dismissable.dismiss()}_setCoolOff(){try{localStorage.setItem(this.coolOffKey,Date.now())}catch(e){return""}}_hideModal(){try{const e=localStorage.getItem(this.coolOffKey);if(e){return Date.now()-e<this.coolOffPeriod||(localStorage.removeItem(this.coolOffKey),!1)}}catch(e){return!1}}_hardDismissal(e){return e.detail&&this.dismissBtnEl.contains(e.detail.target)}}const Yl="sign-in-card";class Ql{constructor(e){let{daysCoolOff:t,dismissOnOutsideClick:n,dismissOnScroll:i,dismissBtnEl:r,coolOffKey:o=Yl}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("An element must be provided to sign in card");this.el=e,this.dismissBtnEl=r;const s=this.el.querySelector('[data-id="sign-in-form"]');s&&new zl(s),this.ctaModal=new Kl(this.el,{daysCoolOff:t,dismissOnOutsideClick:n,dismissOnScroll:i,dismissBtnEl:this.dismissBtnEl,coolOffKey:o})}}!function(){if("function"==typeof window.CustomEvent)return!1;window.CustomEvent=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}}(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}const e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t)return void n.splice(i,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,i=t.length;n<i;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();const Xl={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},Jl={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},{GOOGLE_ERROR:Zl,GOOGLE_USER_FETCHED:$l,INITIALIZED:eu}=Xl,{INITIALIZATION:tu,AUTHENTICATION:nu}=Jl;class iu extends EventTarget{constructor(e){let{libSrcPath:t,el:n,clientId:i=CLIENT_ID}=e;if(super(),!n)throw TypeError("DOM element for Sign In button is required");if(this.libSrcPath=t,this.el=n,this.clientId=i,window.gapi)this._initializeGoogleAuth();else{if(!t)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");!function(e){"complete"===document.readyState?e():window.addEventListener("load",(()=>{e()}))}((()=>{!function(e,t){const n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}(t,this._initializeGoogleAuth.bind(this))}))}}_initializeGoogleAuth(){return gapi.auth2.init({client_id:this.clientId}).then((e=>{this.auth2=e,this._attachSignIn();const t=new CustomEvent(eu);this.dispatchEvent(t)})).catch((e=>{const t={type:tu,message:e.error},n=new CustomEvent(Zl,{detail:t});this.dispatchEvent(n)}))}_attachSignIn(){this.auth2.attachClickHandler(this.el,{},(e=>{const t=new CustomEvent($l,{detail:this._getGoogleUserInformation(e)});this.dispatchEvent(t)}),(e=>{const t={type:nu,message:e.error},n=new CustomEvent(Zl,{detail:t});this.dispatchEvent(n)}))}_getGoogleUserInformation(e){const t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}var ru={exports:{}};function ou(e){this.message=e}ou.prototype=new Error,ou.prototype.name="InvalidCharacterError";var su="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new ou("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,r=0,o=0,s="";i=t.charAt(o++);~i&&(n=r%4?64*n+i:i,r++%4)?s+=String.fromCharCode(255&n>>(-2*r&6)):0)i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(i);return s};var au=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(su(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return su(t)}};function cu(e){this.message=e}cu.prototype=new Error,cu.prototype.name="InvalidTokenError",ru.exports=function(e,t){if("string"!=typeof e)throw new cu("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(au(e.split(".")[n]))}catch(e){throw new cu("Invalid token specified: "+e.message)}},ru.exports.InvalidTokenError=cu;const lu=Xl,uu=Jl,{GOOGLE_USER_FETCHED:du,GOOGLE_ERROR:hu,INITIALIZED:pu}=lu,{INITIALIZATION:fu}=uu;function mu(e){var t=e.intersectionRect;return t.width>=0&&t.height>=0}function gu(e){try{return e.getBoundingClientRect()}catch(e){if("object"==typeof e&&null!==e&&16389==(65535&e.number))return{top:0,bottom:0,left:0,width:0,height:0,right:0,x:0,y:0};throw e}}function vu(e,t){return Math.round(e-t)}var yu,bu=(yu=function(e,t){return yu=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},yu(e,t)},function(e,t){function n(){this.constructor=e}yu(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Eu=function(){function e(){this.items=[]}return e.prototype.remove=function(e){for(var t=this.items.length,n=0;n<t;n++)this.removePredicate(e,this.items[n])&&(this.items.splice(n,1),n--,t--)},e.prototype.clear=function(){this.items=[]},e.prototype.push=function(e){this.items.push(e)},e.prototype.isEmpty=function(){return 0===this.items.length},e}(),_u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bu(t,e),t.prototype.removePredicate=function(e,t){return"string"==typeof e?t.id===e:t.callback===e},t}(Eu),wu=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bu(t,e),t.prototype.removePredicate=function(e,t){return t===e},t}(Eu),Su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return bu(t,e),t.prototype.removePredicate=function(e,t){return"string"==typeof e?t.id===e:"function"==typeof e?t.callback===e:t.el===e},t}(Eu),Tu=function(){return 0},Cu=!("undefined"==typeof window||!window||"undefined"==typeof document||!document),ku=Cu&&!!window.requestAnimationFrame,Lu={hasDOM:Cu,hasRAF:ku,getScrollTop:Tu,getScrollLeft:Tu,getHeight:Tu,getWidth:Tu,rAF:ku?window.requestAnimationFrame.bind(window):function(e){e()},meta:{width:0,height:0,scrollTop:0,scrollLeft:0,x:0,y:0,top:0,left:0},version:0,lastVersion:0,updateMeta:Tu,get isDirty(){return Lu.version!==Lu.lastVersion},document:window.document,IntersectionObserver:Cu&&window.IntersectionObserver,performance:Cu&&window.performance};function Iu(){++Lu.version}function Au(){var e=null!=document.scrollingElement;Lu.getScrollTop=e?function(){return document.scrollingElement.scrollTop}:function(){return window.scrollY},Lu.getScrollLeft=e?function(){return document.scrollingElement.scrollLeft}:function(){return window.scrollX}}Cu&&(Lu.getHeight=function(){return window.innerHeight},Lu.getWidth=function(){return window.innerWidth},Lu.updateMeta=function(){Lu.meta.height=Lu.getHeight(),Lu.meta.width=Lu.getWidth(),Lu.meta.scrollLeft=Lu.getScrollLeft(),Lu.meta.scrollTop=Lu.getScrollTop(),Lu.lastVersion=Lu.version},Lu.updateMeta(),"loading"!==document.readyState?Au():document.addEventListener("DOMContentLoaded",Au),window.addEventListener("resize",Iu,!1),window.addEventListener("scroll",Iu,!1));var xu=function(){function e(){this.reads=[],this.work=[],this.running=!1}return e.prototype.scheduleRead=function(e){this.reads.unshift(e),this.run()},e.prototype.scheduleWork=function(e){this.work.unshift(e),this.run()},e.prototype.run=function(){var e=this;this.running||(this.running=!0,Lu.rAF((function(){e.running=!1;for(var t=0,n=e.reads.length;t<n;t++)e.reads.pop()();t=0;for(var i=e.work.length;t<i;t++)e.work.pop()();(e.work.length>0||e.reads.length>0)&&e.run()})))},e}(),Ou=null;var Ru=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Pu="xxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),Nu=0,Mu=function(){function e(e,t,n,i,r,o,s,a,c,l){this.dateNow=e,this.highResTime=t,this.scrollTop=n,this.scrollLeft=i,this.width=r,this.height=o,this.x=s,this.y=a,this.top=c,this.left=l}return e.generate=function(t){void 0===t&&(t=window);var n=this.revalidateRootMeta(t);return new e(Date.now(),performance.now(),n.scrollTop,n.scrollLeft,n.width,n.height,n.x,n.y,n.top,n.left)},e.revalidateRootMeta=function(e){void 0===e&&(e=document);var t,n={width:0,height:0,scrollTop:0,scrollLeft:0,x:0,y:0,top:0,left:0};return Lu.isDirty&&Lu.updateMeta(),e===window||e===document?(n.height=Lu.meta.height,n.width=Lu.meta.width,n.scrollLeft=Lu.meta.scrollLeft,n.scrollTop=Lu.meta.scrollTop,n):(t=gu(e),n.scrollTop=e.scrollTop,n.scrollLeft=e.scrollLeft,n.width=t.width,n.height=t.height,n.x=t.x,n.y=t.y,n.top=t.top,n.left=t.left,n)},e}();function Du(){return Nu+++Pu}var Uu=function(){function e(e,t){this.isTicking=!1,this.toRemove=[],this.engine=e||(Ou||(Ou=new xu)),this.root=t||window}return e.prototype.tick=function(){if(this.queue.isEmpty())this.isTicking=!1;else{if(this.toRemove.length>0){for(var e=0;e<this.toRemove.length;e++)this.queue.remove(this.toRemove[e]);this.toRemove=[]}this.applyQueue(Mu.generate(this.root)),this.engine.scheduleRead(this.tick.bind(this))}},e.prototype.scheduleWork=function(e){this.engine.scheduleWork(e)},e.prototype.scheduleRead=function(e){this.engine.scheduleRead(e)},e.prototype.queryElement=function(e,t){var n,i,r=this;this.engine.scheduleRead((function(){n=gu(e),i=Mu.generate(r.root)})),this.engine.scheduleWork((function(){t(n,i)}))},e.prototype.unwatch=function(e){this.toRemove.push(e)},e.prototype.unwatchAll=function(){this.queue.clear()},e.prototype.startTicking=function(){this.isTicking||(this.isTicking=!0,this.engine.scheduleRead(this.tick.bind(this)))},e}(),qu=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.queue=new _u,t}return Ru(t,e),t.prototype.applyQueue=function(e){for(var t=0;t<this.queue.items.length;t++){var n=this.queue.items[t],i=n.id;(0,n.callback)(e,i)}},t.prototype.watch=function(e){this.startTicking();var t=Du();return this.queue.push({callback:e,id:t}),t},t}(Uu),Bu=function(e){function t(t){var n=e.call(this,void 0,window)||this;return n.predicate=t,n}return Ru(t,e),t.prototype.applyQueue=function(t){this.predicate(t)&&e.prototype.applyQueue.call(this,t)},t}(qu),Fu=function(e){function t(t,n,i){void 0===i&&(i=!1);var r=e.call(this,t,n)||this;return r.lastVersion=Lu.version,r.queue=new Su,r.ALLOW_CACHED_SCHEDULER=i,r}return Ru(t,e),Object.defineProperty(t.prototype,"isDirty",{get:function(){return Lu.version!==this.lastVersion},enumerable:!1,configurable:!0}),t.prototype.applyQueue=function(e){for(var t=0;t<this.queue.items.length;t++){var n=this.queue.items[t],i=n.callback,r=n.el,o=n.id,s=n.clientRect;!this.isDirty&&s&&this.ALLOW_CACHED_SCHEDULER||(s=this.queue.items[t].clientRect=gu(r)),i(e,o,s)}this.lastVersion=Lu.version},t.prototype.watch=function(e,t,n){this.startTicking(),n=n||Du();return this.queue.push({el:e,callback:t,id:n,clientRect:null}),n},t}(Uu),ju=null;var Hu=function(){function e(){this.queue=new wu}return e.prototype.listen=function(e){this.queue.push(e)},e.prototype.unlisten=function(e){this.queue.remove(e)},e.prototype.trigger=function(e){for(var t=0;t<this.queue.items.length;t++)this.queue.items[t](e)},e}(),Gu=function(){function e(e){this.scheduler=new Bu(e.bind(this))}return e.prototype.trigger=function(){},e.prototype.listen=function(e){this.state=Mu.generate(),this.scheduler.watch(e)},e.prototype.unlisten=function(e){this.scheduler.unwatch(e)},e}(),zu=null;function Wu(e,t){var n=(zu||(zu={scroll:new Gu((function(e){var t=this.state,n=t.scrollTop,i=t.scrollLeft;return this.state=e,n!==e.scrollTop||i!==e.scrollLeft})),resize:new Gu((function(e){var t=this.state,n=t.width,i=t.height;return this.state=e,i!==e.height||n!==e.width})),destroy:new Hu,beforeunload:new Hu,hide:new Hu,show:new Hu}))[e];n&&n.listen(t)}function Vu(e,t){if(zu){var n=zu[e];n&&n.unlisten(t)}}function Ku(e,t){if(zu){var n=zu[e];n&&n.trigger(t)}}function Yu(e){(ju||(ju=new qu)).scheduleWork(e)}function Qu(e){var t=e.left,n=e.right,i=e.top,r=e.bottom;return{left:t,x:t,top:i,y:i,bottom:r,right:n,width:n-t,height:r-i}}Lu.hasDOM&&(window.addEventListener("beforeunload",(function(){Ku("beforeunload"),Ku("destroy")})),document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?Ku("show"):Ku("hide")})));var Xu=function(){function e(e,t){void 0===t&&(t={}),this.records={},this.callback=e,t.threshold=t.threshold||0,this.rootMarginObj=function(e){var t=e.split(" ").map((function(e){return parseInt(e,10)}));switch(t.length){case 2:return{top:t[0],left:t[1],bottom:t[0],right:t[1]};case 3:return{top:t[0],left:t[1],bottom:t[2],right:t[1]};case 4:return{top:t[0],left:t[1],bottom:t[2],right:t[3]};default:return{top:0,left:0,bottom:0,right:0}}}(t.rootMargin||"0px"),this.root=t.root||null,Array.isArray(t.threshold)?this.thresholds=t.threshold:this.thresholds=[t.threshold],this.scheduler=new Fu(void 0,this.root,t.ALLOW_CACHED_SCHEDULER)}return e.prototype.observe=function(e){var t=this,n=e,i=n.__spanielId=n.__spanielId||Du();return this.scheduler.watch(e,(function(e,i,r){t.onTick(e,i,r,n)}),n.__spanielId),i},e.prototype.onTick=function(e,t,n,i){var r=this,o=this.generateEntryEvent(e,n,i),s=o.numSatisfiedThresholds,a=o.entry,c=this.records[t]||(this.records[t]={entry:a,numSatisfiedThresholds:0});s===c.numSatisfiedThresholds&&a.isIntersecting===c.entry.isIntersecting||(c.numSatisfiedThresholds=s,c.entry=a,this.scheduler.scheduleWork((function(){r.callback([a])})))},e.prototype.unobserve=function(e){this.scheduler.unwatch(e.__spanielId),delete this.records[e.__spanielId]},e.prototype.disconnect=function(){this.scheduler.unwatchAll(),this.records={}},e.prototype.takeRecords=function(){return[]},e.prototype.generateEntryEvent=function(e,t,n){for(var i=0,r=function(e,t,n,i){if("none"===n.style.display)return{time:e.dateNow,highResTime:e.highResTime,boundingClientRect:Ju(),intersectionRatio:0,intersectionRect:Ju(),isIntersecting:!1,rootBounds:Ju(),target:n};var r=t.bottom,o=t.right,s=e.left+i.left,a=e.top+i.top,c={left:s,top:a,bottom:i.bottom,right:i.right,width:e.width-(i.right+i.left),height:e.height-(i.bottom+i.top),y:a,x:s},l=Math.max(c.left,t.left),u=Math.max(c.top,t.top),d=Math.min(c.left+c.width,t.right)-l,h=Math.min(c.top+c.height,t.bottom)-u,p=d>=0?l:0,f=u>=0?u:0,m={left:p,top:f,x:p,y:f,width:d,height:h,right:o,bottom:r};return function(e){var t=e.unixTime,n=e.highResTime,i=e.rootBounds,r=e.boundingClientRect,o=e.intersectionRect,s=e.target,a=r.height*r.width,c=a>0?o.width*o.height/a:0;return{time:t,highResTime:n,rootBounds:i,boundingClientRect:r,intersectionRect:o,target:s,intersectionRatio:c,isIntersecting:mu({intersectionRect:o})}}({unixTime:e.dateNow,highResTime:e.highResTime,rootBounds:c,target:n,boundingClientRect:Qu(t),intersectionRect:m})}(e,t,n,this.rootMarginObj),o=0;o<this.thresholds.length;o++){var s=this.thresholds[o];r.intersectionRatio>=s&&i++}return{numSatisfiedThresholds:i,entry:r}},e}();function Ju(){return{bottom:0,height:0,left:0,right:0,top:0,width:0,x:0,y:0}}var Zu={x:0,y:0,width:0,height:0,bottom:0,left:0,top:0,right:0};var $u=function(){function e(e,t){var n=this;this.paused=!1,this.queuedEntries=[],this.recordStore={},this.callback=e;var i=t||{threshold:[]},r=i.root,o=i.rootMargin,s=i.threshold,a=i.ALLOW_CACHED_SCHEDULER,c=i.BACKGROUND_TAB_FIX,l=i.USE_NATIVE_IO,u="string"!=typeof(o=o||"0px")?function(e){return e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px"}(o):o;this.thresholds=s.sort((function(e){return e.ratio}));var d={root:r,rootMargin:u,threshold:this.thresholds.map((function(e){return e.ratio})),ALLOW_CACHED_SCHEDULER:a};this.usingNativeIo=!!l&&!!Lu.IntersectionObserver;var h=this.usingNativeIo?Lu.IntersectionObserver:Xu;this.observer=new h((function(e){return n.internalCallback(e)}),d),this.onTabHidden=this._onTabHidden.bind(this),this.onWindowClosed=this._onWindowClosed.bind(this),this.onTabShown=this._onTabShown.bind(this),Lu.hasDOM&&(Wu("beforeunload",this.onWindowClosed),Wu("hide",this.onTabHidden),Wu("show",this.onTabShown),c&&(this.paused="visible"!==Lu.document.visibilityState))}return e.prototype._onWindowClosed=function(){this.onTabHidden()},e.prototype.setAllHidden=function(){for(var e=Object.keys(this.recordStore),t=0;t<e.length;t++)this.handleRecordExiting(this.recordStore[e[t]]);this.flushQueuedEntries()},e.prototype._onTabHidden=function(){this.paused=!0,this.setAllHidden()},e.prototype.generateObserverTimestamp=function(){return this.usingNativeIo?Math.floor(performance.now()):Date.now()},e.prototype._onTabShown=function(){this.paused=!1;for(var e=Object.keys(this.recordStore),t=performance.now(),n=this.generateObserverTimestamp(),i=0;i<e.length;i++){var r=this.recordStore[e[i]].lastSeenEntry;if(r){var o=r.intersectionRatio,s=r.boundingClientRect,a=r.rootBounds,c=r.intersectionRect,l=r.isIntersecting,u=r.target;this.handleObserverEntry({intersectionRatio:o,boundingClientRect:s,time:n,highResTime:t,isIntersecting:l,rootBounds:a,intersectionRect:c,target:u})}}},e.prototype.internalCallback=function(e){e.forEach(this.handleObserverEntry.bind(this))},e.prototype.flushQueuedEntries=function(){this.queuedEntries.length>0&&(this.callback(this.queuedEntries),this.queuedEntries=[])},e.prototype.generateSpanielEntry=function(e,t){var n=e.intersectionRatio,i=e.rootBounds,r=e.boundingClientRect,o=e.intersectionRect,s=e.isIntersecting,a=e.time,c=e.target,l=this.recordStore[c.__spanielId],u=this.usingNativeIo?Math.floor((Lu.performance.timeOrigin||Lu.performance.timing.navigationStart)+a):a,d=this.usingNativeIo?a:e.highResTime;if(!d)throw new Error("Missing intersection entry timestamp");return{intersectionRatio:n,isIntersecting:s,unixTime:u,time:u,highResTime:d,rootBounds:i,boundingClientRect:r,intersectionRect:o,target:c,duration:0,visibleTime:s?u:-1,entering:!1,payload:l.payload,label:t.threshold.label,threshold:t.threshold}},e.prototype.handleRecordExiting=function(e){var t=this,n=Date.now(),i=performance.now();e.thresholdStates.forEach((function(r){var o=e.lastSeenEntry&&e.lastSeenEntry.boundingClientRect;t.handleThresholdExiting({intersectionRatio:-1,isIntersecting:!1,unixTime:n,time:n,highResTime:i,payload:e.payload,label:r.threshold.label,threshold:r.threshold,entering:!1,rootBounds:Zu,boundingClientRect:o||Zu,intersectionRect:Zu,visibleTime:r.lastVisible.unixTime,duration:vu(i,r.lastVisible.highResTime),target:e.target},r),r.lastSatisfied=!1,r.visible=!1,r.lastEntry=null}))},e.prototype.handleThresholdExiting=function(e,t){var n=e.highResTime,i=!!t.threshold.time;t.lastSatisfied&&(!i||i&&t.visible)&&(e.duration=vu(n,t.lastVisible.highResTime),e.visibleTime=t.lastVisible.unixTime,e.entering=!1,t.visible=!1,this.queuedEntries.push(e)),clearTimeout(t.timeoutId)},e.prototype.handleObserverEntry=function(e){var t=this,n=e.target,i=this.recordStore[n.__spanielId];i&&(i.lastSeenEntry=e,this.paused||(i.thresholdStates.forEach((function(n){var i=!!n.threshold.time,r=t.generateSpanielEntry(e,n),o=e.intersectionRatio>=n.threshold.ratio,s="boolean"==typeof r.isIntersecting?r.isIntersecting:mu(e),a=o&&s;if(a!=n.lastSatisfied){if(a)if(r.entering=!0,n.lastVisible={highResTime:r.highResTime,unixTime:r.unixTime},i){var c=Number(setTimeout((function(){n.visible=!0,r.duration=vu(performance.now(),n.lastVisible.highResTime),r.visibleTime=n.lastVisible.unixTime,t.callback([r])}),n.threshold.time));n.timeoutId=c}else n.visible=!0,r.duration=Date.now()-n.lastVisible.unixTime,t.queuedEntries.push(r);else t.handleThresholdExiting(r,n);n.lastEntry=e,n.lastSatisfied=a}})),this.flushQueuedEntries()))},e.prototype.disconnect=function(){this.setAllHidden(),this.observer.disconnect(),this.recordStore={}},e.prototype.destroy=function(){this.disconnect(),Lu.hasDOM&&(Vu("beforeunload",this.onWindowClosed),Vu("hide",this.onTabHidden),Vu("show",this.onTabShown))},e.prototype.unobserve=function(e){var t=this,n=this.recordStore[e.__spanielId];n&&(delete this.recordStore[e.__spanielId],this.observer.unobserve(e),Yu((function(){t.handleRecordExiting(n),t.flushQueuedEntries()})))},e.prototype.observe=function(e,t){var n=e,i=n.__spanielId=n.__spanielId||Du();return this.recordStore[i]={target:n,payload:t,lastSeenEntry:null,thresholdStates:this.thresholds.map((function(e){return{lastSatisfied:!1,lastEntry:null,threshold:e,visible:!1,lastVisible:{unixTime:0,highResTime:-1}}}))},this.observer.observe(n),i},e}();Lu.IntersectionObserver&&Lu.IntersectionObserver;class ed{constructor(e){let{thresholds:t,root:n=null,rootMargin:i="0px",componentList:r=[],observeOnce:o=!1,trailingTrackingEnabled:s=!1,deferInitialTracking:a=!1,getElementPayload:c,onImpression:l=(()=>{}),onObservation:u=(()=>{}),onUnobservation:d=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.root=n,this.thresholds=t||[{label:"impressed",time:1e3,ratio:.5}],this.rootMargin=i,this.trackingInstance=e,this.trailingTrackingEnabled=s,this._getElementPayload=c,this._onImpression=l,this._onObservation=u,this.observeOnce=o,this._onUnobservation=d;const h={root:this.root,rootMargin:this.rootMargin,threshold:this.thresholds};this.spanielObserverInstance=new $u(this._handleObservedNodes.bind(this),h),!a&&this.observeComponents(r)}observeComponents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.spanielObserverInstance&&e.forEach((e=>{const t=this._getElementPayload?this._getElementPayload(e):{};this.spanielObserverInstance.observe(e,t),this._onObservation(e)}))}unobserveComponents(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((e=>{this.spanielObserverInstance.unobserve(e),this._onUnobservation(e)}))}_handleOnImpression(e){this._onImpression({trackingInstance:this.trackingInstance,visibleElements:e}),this.observeOnce&&this.unobserveComponents(e.map((e=>{let{target:t}=e;return t})))}_handleObservedNodes(e){if(this.spanielObserverInstance){const t=e.filter((e=>this.trailingTrackingEnabled?!e.entering:e.entering&&e.boundingClientRect.width>0&&e.boundingClientRect.height>0));t.length>0&&this._handleOnImpression(t)}}reset(){this.spanielObserverInstance.disconnect()}destroy(){this.spanielObserverInstance.destroy()}static fireImpressionEvent(e,t,n,i){let r=e.payload||{};r.visibleTime=e.time-e.duration,r.duration=e.duration,r.size={width:e.boundingClientRect.width,height:e.boundingClientRect.height},r=i?i(r):r,t.fireTrackingEvent(n,r)}}const td="show-more-less",nd=".".concat(td,"__list"),id=".".concat(td,"__more-button"),rd=".".concat(td,"__less-button"),od="".concat(td,"__list--hide-after"),sd="".concat(td,"__button--hide");class ad{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e.querySelector(q);if(!e)throw Error("An element must be provided to ShowMoreLess");this.el=e,this.listEl=this.el.querySelector(nd),this._getFocusItemFromListItem=t,this.maxNumToShow=parseInt(this.listEl.getAttribute("data-max-num-to-show")),this.hideClass="".concat(od,"-").concat(this.maxNumToShow),this.showMoreButton=this.el.querySelector(id),this.showLessButton=this.el.querySelector(rd),this._attachEventListeners(),this.firstHiddenListItem=this.listEl.children[this.maxNumToShow],this.isExpanded=!this.listEl.classList.contains(this.hideClass),new P(e,this.listEl,{mainButton:this.showMoreButton,closeButton:this.showLessButton},{isOpen:this.isExpanded})}_attachEventListeners(){this.el.addEventListener("open",(()=>this._showElements())),this.el.addEventListener("close",(()=>this._hideElements())),this.listEl.addEventListener("focus",(e=>this._focusItem(e)))}_focusItem(e){let{target:t}=e;if(t){let e=this._getFocusItemFromListItem(t);e&&e.focus()}}_showElements(){this.listEl.classList.remove(this.hideClass),this._toggleButtons(!1),this._focusItem({target:this.firstHiddenListItem})}_hideElements(){this.listEl.classList.add(this.hideClass),this._toggleButtons(!0)}_toggleButtons(e){e?(this.showLessButton.classList.add(sd),this.showMoreButton.classList.remove(sd)):(this.showLessButton.classList.remove(sd),this.showMoreButton.classList.add(sd))}}const cd="accordion-item__trigger";".".concat(cd);const ld=350,ud="sticky-header--disabled",dd="body--sticky-header-disabled";class hd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.querySelector(".".concat("sticky-header")),{marginApplied:t=!0,disableUnderMinimumViewportHeight:n=!1,minimumViewportHeight:i=ld}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("A header element is required to instantiate a StickyHeader");if(!e.querySelector("nav"))throw Error("The header must contain a 'nav' element in order to instantiate a StickyHeader");let r=8;if(vo()){const t=e.querySelector(".search-bar");t&&(r=t.getBoundingClientRect().height)}return this.stickyHeader=e,this.stickyElementOptions={exposeStickyState:!0,isBottom:!1,marginApplied:t,scrollThreshold:r},n&&i>0?this.setupDisableUnderMinimumViewportHeight(i):this.instantiateStickyElement(),this.stickyElement}instantiateStickyElement(){this.stickyElement=new Oa(this.stickyHeader,this.stickyElementOptions)}setupDisableUnderMinimumViewportHeight(e){const t="(min-height: ".concat(e,"px)"),n=window.matchMedia(t);n.addEventListener("change",this.handleMediaQueryChange.bind(this)),this.handleMediaQueryChange(n)}handleMediaQueryChange(e){var t;e.matches?(this.stickyHeader.classList.remove(ud),document.body.classList.remove(dd),this.stickyElement?this.stickyElement.reactivate():this.instantiateStickyElement()):(this.stickyHeader.classList.add(ud),document.body.classList.add(dd),null===(t=this.stickyElement)||void 0===t||t.deactivate())}}const pd=["options","optionsV2"];function fd(e){return t=>t.type&&t.type.toLowerCase()===e.toLowerCase()}const md="BLOCK_PROFILE",gd=fd("action"),vd=fd("openpage"),yd=fd("openlink"),bd=e=>gd(e)&&e.action.actionType===md;function Ed(e){const t=function(e){const t=(e.type?e.type:e).toLowerCase().split("_"),n=[];n.push(t.splice(0,1));for(const e of t)n.push(e[0].toUpperCase()+e.slice(1));return n.join("")}(e),n=t.toLowerCase();return{[n]:xe({},e[t]),type:n}}class _d{constructor(e){this.optionStack=[],this.semaphoreJson=e.constructor==={}.constructor?e:JSON.parse(e)}getNextStep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.semaphoreJson,{options:n,optionsV2:i}=t,r=Re(t,pd);if(n&&!(this.optionStack.length>=r.numberOfSteps)){if(e===md){let e=n.find((e=>gd(e)&&e.action.type===md));if(!e)return;e=JSON.parse(JSON.stringify(e)),e.action.actionType=md;const t=[e];return this.optionStack.push(xe({options:t.map((e=>Ed(e))),heading:r.blockConfirmationScreen.heading},r)),this.optionStack[this.optionStack.length-1]}if(e){const t=this.optionStack.length;if(0===t)return;const n=this.optionStack[t-1].options.find((t=>t[t.type].title===e));if(!n)return;if(vd(n))return xe(xe({},n),r);const i=xe({options:n[n.type].options.map((e=>Ed(e)))},r);n[n.type].heading&&(i.heading=n[n.type].heading),this.optionStack.push(i)}else n=[...n,...i],this.optionStack.push(xe({options:n.map((e=>Ed(e)))},r));return this.optionStack[this.optionStack.length-1]}}getPreviousStep(){if(this.optionStack.length>1)return this.optionStack.pop(),this.optionStack[this.optionStack.length-1]}hasPreviousStep(){return this.optionStack.length>1}getCurrentStep(){return this.optionStack[this.optionStack.length-1]}findAction(e){const t=this.optionStack[this.optionStack.length-1].options;if(!t)return;const n=t.find((t=>gd(t)&&t[t.type].title===e));return n&&n.action}}const wd="hidden";class Sd extends ro{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),this.titleEl=this._el.querySelector(".semaphore-modal__title"),this.contentEl=this._el.querySelector(".semaphore-modal__content"),this.footer=this._el.querySelector(".modal__footer"),this.submitBtn=this.footer.querySelector('[data-semaphore-action="submit"]')}setTitle(e){this.titleEl.textContent=e}setContent(e){this.contentEl.appendChild(e)}hideFooter(){this.footer.classList.add(wd)}showFooter(){this.footer.classList.remove(wd)}enableSubmit(){this.submitBtn.disabled=!1}disableSubmit(){this.submitBtn.disabled=!0}hideSubmit(){this.disableSubmit(),this.submitBtn.classList.add(wd)}showSubmit(){this.enableSubmit(),this.submitBtn.classList.remove(wd)}querySelector(e){return this._el.querySelector(e)}clearContent(){for(this.disableSubmit();this.contentEl.firstChild;)this.contentEl.removeChild(this.contentEl.firstChild)}close(){this.clearContent(),super.close()}}class Td{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-item-type="semaphore"]',t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},i=arguments.length>3?arguments[3]:void 0;this.semaphoreSelector=e,this.parentContainer=t||document;const r=this.parentContainer.querySelector(e);if(r){this.semaphoreTrackingPrefix=r.dataset.semaphoreTrackingPrefix;const e=this.parentContainer.querySelector("#semaphore-modal");e&&(this.semaphoreModal=new Sd(e,{focusElement:i}),this.submitActionCallBack=n,this.parentContainer?(this.parentContainer.addEventListener("click",this.semaphoreClickHandler.bind(this)),e.addEventListener("click",this.clickHandler.bind(this))):(document.body.removeEventListener("click",this.clickHandler),document.body.addEventListener("click",this.clickHandler.bind(this))))}}clickHandler(t){const n=e(t.target,"[data-semaphore-input]");if(n){if(n.href)return t.preventDefault(),void window.open(n.href,"_blank");"semaphore-action"===n.name&&(this.semaphoreModal.showFooter(),this.semaphoreModal.showSubmit())}if("back"===t.target.dataset.semaphoreAction){const e=this.semaphoreConfigParser.getPreviousStep();return void(e?(this.renderSemaphoreOptions(e),this.refreshLazyLoader(),this.semaphoreModal.open()):this.semaphoreModal.close())}if("submit"===t.target.dataset.semaphoreAction){let e=this.semaphoreModal.querySelector("[data-semaphore-input]:checked");if(e){const n=this.semaphoreConfigParser.findAction(e.value);n&&this.sendAction(n).finally((()=>{this.renderThanks(this.semaphoreConfigParser.getCurrentStep().resultScreen),this.submitActionCallBack(t)}))}}let i=e(t.target,"[data-semaphore-item]");if(i&&"action"!==i.dataset.semaphoreItem){const e=i.querySelector('[data-attr="title"]');if(e){const n=this.semaphoreConfigParser.getNextStep(e.textContent);n&&(vd(n)?(this.renderThanks(n.resultScreen),this.submitActionCallBack(t)):this.renderSemaphoreOptions(n),this.refreshLazyLoader(),this.semaphoreModal.open())}}else{if(i&&i.dataset.semaphoreType===md){const e=this.semaphoreConfigParser.getNextStep(md);e&&this.renderSemaphoreOptions(e)}this.parentContainer||this.semaphoreClickHandler(t)}}semaphoreClickHandler(t){let n=e(t.target,this.semaphoreSelector);n&&n.dataset.semaphoreContentType&&n.dataset.semaphoreContentUrn&&"true"===n.dataset.isLoggedIn&&(t.preventDefault(),this.makeSemaphoreRequest(n.dataset.semaphoreContentUrn,n.dataset.semaphoreContentType,n.dataset.semaphoreAuthorProfileId,n.dataset.semaphoreAuthorUrn,n.dataset.semaphoreParentUrn,n.dataset.semaphoreReporterProfileUrn,"true"===n.dataset.semaphoreShouldSendXLiTrack,"true"===n.dataset.semaphoreShouldSendAuthorUrn).then((e=>{this.semaphoreConfigParser=new _d(e);const t=this.semaphoreConfigParser.getNextStep();if(t){this.renderSemaphoreOptions(t),this.refreshLazyLoader(),this.semaphoreModal.open();const e=document.querySelector(".top-level-modal-container .modal__dismiss");null==e||e.focus()}})))}renderSemaphoreOptions(e){this.semaphoreModal.clearContent();const t=this.parentContainer.querySelector("#semaphore-container-template").content.firstElementChild.cloneNode(!0);let n=!1,i=!1,r=!1;e.options.forEach((o=>{let s=o.type;yd(o)&&!i&&(i=!0),gd(o)&&(n||(n=!1===o[s].nonRadioOptionEnabled),s=bd(o)?"block":o[s].nonRadioOptionEnabled?s:"".concat(s,"-radio"));const a=this.parentContainer.querySelector("#semaphore-".concat(s,"-template")).content.firstElementChild.cloneNode(!0),c=o[o.type],l=a.querySelector('[data-attr="title"]');if(l&&(l.textContent=c.title),c.type&&(a.dataset.semaphoreType=c.type),gd(o)){if(bd(o)){r=!0;const t="".concat(e.blockConfirmationScreen.firstLine," \n ").concat(e.blockConfirmationScreen.secondLine);a.querySelector('[data-attr="block-content"]').textContent=t}a.querySelector("[data-semaphore-input]").value=c.title}const u=a.querySelector('[data-attr="body"]');u&&(c.body?u.textContent=c.body:u.remove()),c.url&&(a.querySelector("[data-semaphore-input]").href=c.url),a.querySelector("[data-semaphore-input]").dataset.trackingControlName=c.trackingId,t.appendChild(a)})),this.semaphoreModal.setContent(t),this.semaphoreModal.setTitle(e.heading||e.headings.whyReportingThis),this.semaphoreConfigParser.hasPreviousStep()?(this.semaphoreModal.showFooter(),r&&this.semaphoreModal.showSubmit()):this.semaphoreModal.hideFooter(),i&&this.semaphoreModal.hideSubmit()}renderThanks(e){this.semaphoreModal.hideFooter(),this.semaphoreModal.clearContent(),this.semaphoreModal.setTitle(e.title);const t=this.parentContainer.querySelector("#semaphore-result-template").content.firstElementChild.cloneNode(!0);t.querySelector('[data-attr="thanks-text-body"]').textContent=e.messageBody.body;let n=t.querySelector('[data-attr="thanks-help-center-link"]');n.textContent=e.messageBody.helpCenterText,n.href=this.addTrackingCode(e.messageBody.helpCenterLink);const i=document.createElement("div");i.appendChild(t),this.semaphoreModal.setContent(i)}addTrackingCode(e){return d(e,this.semaphoreTrackingPrefix)}sendAction(e){return ee(e.actionUrl,{method:e.actionUrlRequestType,postData:e.actionPostData})}getLiTrackHeaders(){var e;const t=(null===(e=document.getElementById("config"))||void 0===e?void 0:e.dataset)||{},{appVersion:n,multiproductName:i}=t;return{mpName:i,mpVersion:n,timezoneOffset:(new Date).getTimezoneOffset(),deviceFormFactor:"PHONE",displayHeight:screen.height,displayWidth:screen.width}}makeSemaphoreRequest(e,t,n,i,r,o,s,a){let c=h("/psettings/flagging-menu","entityUrn",e);c=h(c,"contentSource",t),r&&(c=h(c,"parentUrn",r)),o&&(c=h(c,"reporterProfileUrn",o)),n&&!a?c=h(c,"authorProfileId",n):i&&(c=h(c,"authorUrn",i));return ee(c,s?{headers:{"x-li-track":JSON.stringify(this.getLiTrackHeaders())}}:{}).then((e=>200===e.status?e.responseText:"{}")).catch((()=>"{}"))}refreshLazyLoader(){window.lazyloader&&window.lazyloader.then((e=>{e.refreshLoader()}))}}class Cd{constructor(e){if(!e)throw new Error("EllipsisMenu el required");this._el=e,this.currentMenuItem=this._el.querySelector(".ellipsis-menu__item-button");const t=this._el.querySelector(".collapsible-dropdown");if(!t)throw new Error("A collapsible dropdown is required to instantiate an EllipsisMenu");this.collapsibleDropdown=new $(t,{elementToFocus:this.currentMenuItem});this._el.querySelector(".ellipsis-menu__semaphore")&&(this._semaphore=new Td('[data-item-type="semaphore"]',t))}}const kd="See https://go/pem/degradation-tracking-user-guide for instrumentation instructions";var Ld;!function(e){e.ProductName="productName",e.AdditionalDegradedResponseCodes="additionalDegradedResponseCodes",e.NonDegradedResponseCodes="nonDegradedResponseCodes",e.DegradationKeyOverrides="degradationKeyOverrides",e.ClientSensorGroupName="clientSensorGroupName",e.EnablePerformanceMeasurement="enablePerformanceMeasurement",e.CustomTrackingId="customTrackingId",e.DisableAvailabilityCalculation="disableAvailabilityCalculation",e.EnableSessionRecording="enableSessionRecording"}(Ld||(Ld={}));const Id=new Set(Object.values(Ld));class Ad extends Error{constructor(e){super(e),Object.setPrototypeOf(this,Ad.prototype)}}function xd(e){return 0===e.length||!e.trim()}function Od(e){if("string"!=typeof e)throw new Ad("Keys must be strings. ".concat(kd,"."));if(xd(e))throw new Ad("Keys should not be blank. ".concat(kd,"."));if(/[^a-z0-9-]/.test(e))throw new Ad("'".concat(e,"' can only contain lowercase alphanumeric characters and dashes (-). ").concat(kd,"."));return e}class Rd{constructor(e,t,n){var i,r,o;if(this._shouldEnablePerformanceMeasurement=!1,this._shouldDisableAvailabilityCalculation=!1,this._shouldRecordSession=!1,this._featureKey=Od(e),this._defaultDegradationKey=Od(t),!n)return this._additionalDegradedResponseCodes=[],this._nonDegradedResponseCodes=[],void(this._degradationKeyOverrides=[]);if("object"!=typeof n)throw new Ad("DegradationTrackingMetadata options should be an object. ".concat(kd,"."));const s=n.productName;s&&(this._productName=function(e){if("string"!=typeof e)throw new Ad("The product name must be a string. ".concat(kd,"."));if(xd(e))throw new Ad("No product name was specified. Please configure a defaultProductName or specify it per instrumented API "+"call. ".concat(kd,"."));if(/[^a-zA-Z0-9-_ \\/]/.test(e))throw new Ad("Product name '".concat(e,"' can only contain alphanumeric, underscores (_), spaces ( ), dashes (-) and forward slashes (/). ").concat(kd,"."));return e}(s));const a=n.additionalDegradedResponseCodes,c=n.nonDegradedResponseCodes;!function(e,t){const n=(e,t)=>{if("number"!=typeof(n=e)||!isFinite(n)||Math.floor(n)!==n||e<=0||e>999)throw new Ad("Please only specify positive integer response codes between 1 and 999 for the ".concat(t," option. ")+"".concat(e," was specified. ").concat(kd,"."));var n;if(429===e||999===e)throw new Ad("PEM does not consider 429 and 999 API responses indications of the real member experience because it represents LinkedIn throttling abusive requests. We drop 429s and 999s by default, so please remove them "+"from your ".concat(t," options."));if(t===Ld.NonDegradedResponseCodes&&e>=400&&e<500)throw new Ad("For server responses that have a status code, PEM does not consider 4xx as degraded. ".concat(e," is not ")+"considered a degradation unless you explicitly add it to the ".concat(Ld.AdditionalDegradedResponseCodes," option")+". Please remove ".concat(e," from the ").concat(Ld.NonDegradedResponseCodes," option. ")+"".concat(kd,"."))};if(void 0!==e&&!Array.isArray(e))throw new Ad("Please specify an array of positive integer response codes between 1 and 999 for the response codes that "+"shouldn't be counted as degraded for the ".concat(Ld.NonDegradedResponseCodes," option. ")+"".concat(kd,"."));if(void 0!==t&&!Array.isArray(t))throw new Ad("Please specify an array of positive integer response codes between 1 and 999 for the response codes that should only be considered as the degraded state(s) for the "+"".concat(Ld.AdditionalDegradedResponseCodes," option. ").concat(kd,"."));null==e||e.forEach((e=>n(e,Ld.NonDegradedResponseCodes))),null==t||t.forEach((e=>n(e,Ld.AdditionalDegradedResponseCodes)));const i=new Set(t),r=new Set(e);if([...i].some((e=>r.has(e))))throw new Ad("Response codes can't be both degraded and non-degraded. Please ensure that your additionalDegradedResponseCodes and nonDegradedResponseCodes "+"don't have any overlapping response codes. ".concat(kd,"."))}(c,a),this._nonDegradedResponseCodes=c||[],this._additionalDegradedResponseCodes=a||[],this._degradationKeyOverrides=n.degradationKeyOverrides||[],this._clientSensorGroupName=n.clientSensorGroupName,this._shouldEnablePerformanceMeasurement=null!==(i=n.enablePerformanceMeasurement)&&void 0!==i&&i,this._customTrackingId=n.customTrackingId,this._shouldDisableAvailabilityCalculation=null!==(r=n.disableAvailabilityCalculation)&&void 0!==r&&r,this._shouldRecordSession=null!==(o=n.enableSessionRecording)&&void 0!==o&&o,function(e){Object.keys(e).forEach((e=>{if(!Id.has(e))throw new Ad("An unsupported degradation tracking option '".concat(e,"' was provided. Please fix or remove it. ")+"".concat(kd))}))}(n)}static isDegradationTrackingMetadata(e){return null!=e&&Object.getOwnPropertyNames(Rd.prototype).every((t=>Object.hasOwnProperty.call(Object.getPrototypeOf(e),t)))}get featureKey(){return this._featureKey}get defaultDegradationKey(){return this._defaultDegradationKey}get degradationKey(){return this._defaultDegradationKey}get productName(){return this._productName}get additionalDegradedResponseCodes(){return this._additionalDegradedResponseCodes}get nonDegradedResponseCodes(){return this._nonDegradedResponseCodes}get degradationKeyOverrides(){return this._degradationKeyOverrides}get clientSensorGroupName(){return this._clientSensorGroupName}get shouldEnablePerformanceMeasurement(){return this._shouldEnablePerformanceMeasurement}get customTrackingId(){return this._customTrackingId}get shouldDisableAvailabilityCalculation(){return this._shouldDisableAvailabilityCalculation}get shouldRecordSession(){return this._shouldRecordSession}}const Pd="linkedin://";function Nd(e){var t;null===(t=window.appDetection)||void 0===t||t.then((t=>{t.some((e=>"windows"===(null==e?void 0:e.platform)&&"7EE7776C.LinkedInforWindows_w1wdnht996qgy!App"===(null==e?void 0:e.id)))&&e()}))}const Md=10,Dd="sign-in-modal-cool-off-hidden";class Ud{constructor(e){let{minutesCoolOff:t=Md,triggerByOutletEl:n=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed into to sign in modal");this.el=e,this.coolOffEnabled=this.el.hasAttribute("data-cool-off-enabled"),this.coolOffPeriod=60*t*1e3,this.modalEl=this.el.querySelector(".".concat(eo));const i=this.el.querySelector('[data-id="sign-in-form"]');i&&(this.signInForm=new zl(i,{fireTrackingOnInit:!1})),this.modal=new ro(this.modalEl,{enablePageViewTracking:!0,shouldHideModal:this._shouldHideModal.bind(this),triggerByOutletEl:n}),this.modalEl.addEventListener("close",(()=>{this._setCoolOff()}))}_shouldHideModal(){if(!this.coolOffEnabled)return!1;try{const e=localStorage.getItem(Dd);if(e){return Date.now()-e<this.coolOffPeriod||(localStorage.removeItem(Dd),!1)}}catch(e){return!1}}_setCoolOff(){if(this.coolOffEnabled&&!this._shouldHideModal())try{localStorage.setItem(Dd,Date.now())}catch(e){return""}}}var qd={exports:{}};(function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=u()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var r=new(Function.bind.apply(e,i));return n&&l(r,n.prototype),r},d.apply(null,arguments)}function h(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function p(e){var t="function"==typeof Map?new Map:void 0;return p=function(e){if(null===e||!h(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return d(e,arguments,c(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)},p(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?f(e):t}function g(e){return function(){var t,n=c(e);if(u()){var i=c(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return m(this,t)}}function v(e){"complete"===document.readyState?e():window.addEventListener("load",(function(){e()}))}function y(e,t){var n=document.createElement("script");n.src=e,t&&(n.onload=t),document.head.appendChild(n)}function b(){var e,t,n=new Promise((function(n,i){e=n,t=i}));return n.resolve=e,n.reject=t,n}(function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:null};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window.CustomEvent=e})(),function(){if("function"==typeof window.EventTarget)try{return!new e}catch(e){}var e=function(){this.listeners={}};e.prototype.listeners=null,e.prototype.addEventListener=function(e,t){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push(t)},e.prototype.removeEventListener=function(e,t){if(e in this.listeners)for(var n=this.listeners[e],i=0,r=n.length;i<r;i++)if(n[i]===t)return void n.splice(i,1)},e.prototype.dispatchEvent=function(e){if(!(e.type in this.listeners))return!0;for(var t=this.listeners[e.type].slice(),n=0,i=t.length;n<i;n++)t[n].call(this,e);return!e.defaultPrevented},window.EventTarget=e}();var E="990339570472-k6nqn1tpmitg8pui82bfaun3jrpmiuhs.apps.googleusercontent.com",_={GOOGLE_ERROR:"googleError",GOOGLE_USER_FETCHED:"googleUserFetched",INITIALIZED:"initialized",PROMPT_MOMENT:"promptMomentNotification",TOKEN_FETCHED:"tokenFetched"},w="https://accounts.google.com",S={INITIALIZATION:"initialization",AUTHENTICATION:"authentication"},T={INIT_FAILED:"idpiframe_initialization_failed",POPUP_CLOSED_BY_USER:"popup_closed_by_user",ACCESS_DENIED:"access_denied",IMMEDIATE_FAILED:"immediate_failed"},C={SIGN_IN:"signin",SIGN_UP:"signup",USE:"use"},k={DISPLAY:"display",SKIPPED:"skipped",DISMISSED:"dismissed"},L={NOT_DISPLAYED:{BROWSER_NOT_SUPPORTED:"browser_not_supported",INVALID_CLIENT:"invalid_client",MISSING_CLIENT_ID:"missing_client_id",OPT_OUT_OR_NO_SESSION:"opt_out_or_no_session",SECURE_HTTP_REQUIRED:"secure_http_required",SUPPRESSED_BY_USER:"suppressed_by_user",UNREGISTERED_ORIGIN:"unregistered_origin",UNKNOWN_REASON:"unknown_reason"},SKIPPED:{AUTO_CANCEL:"auto_cancel",USER_CANCEL:"user_cancel",TAP_OUTSIDE:"tap_outside",ISSUING_FAILED:"issuing_failed"},DISMISSED:{CREDENTIAL_RETURNED:"credential_returned",CANCEL_CALLED:"cancel_called",FLOW_RESTARTED:"flow_restarted"}},I="com.linkedin.LinkedIn.service",A="https://www.linkedin.com/redirect",x="https://www.linkedin-ei.com/redirect",O={DISMISSED:"DISMISSED",INITIALIZED:"INITIALIZED",SNAPPLE_USER_FETCHED:"SNAPPLE_USER_FETCHED"},R={signin:{GOT:"signin",GSI_BUTTON:"signin_with"},signup:{GOT:"signup",GSI_BUTTON:"signup_with"},use:{GOT:"use",GSI_BUTTON:"continue_with"}},P=_.GOOGLE_ERROR,N=_.GOOGLE_USER_FETCHED,M=_.INITIALIZED,D=S.INITIALIZATION,U=S.AUTHENTICATION,q=function(e){a(r,e);var n=g(r);function r(e){var i,o=e.libSrcPath,s=e.el,a=e.clientId,c=void 0===a?E:a;if(t(this,r),i=n.call(this),!s)throw TypeError("DOM element for Sign In button is required");if(i.libSrcPath=o,i.el=s,i.clientId=c,window.gapi)i._initializeGoogleAuth();else{if(!o)throw TypeError("Google Sign In lib not already loaded on the page. libSrcPath is required to load the lib.");v((function(){y(o,i._initializeGoogleAuth.bind(f(i)))}))}return i}return i(r,[{key:"_initializeGoogleAuth",value:function(){var e=this;return gapi.auth2.init({client_id:this.clientId}).then((function(t){e.auth2=t,e._attachSignIn();var n=new CustomEvent(M);e.dispatchEvent(n)})).catch((function(t){var n={type:D,message:t.error},i=new CustomEvent(P,{detail:n});e.dispatchEvent(i)}))}},{key:"_attachSignIn",value:function(){var e=this;this.auth2.attachClickHandler(this.el,{},(function(t){var n=new CustomEvent(N,{detail:e._getGoogleUserInformation(t)});e.dispatchEvent(n)}),(function(t){var n={type:U,message:t.error},i=new CustomEvent(P,{detail:n});e.dispatchEvent(i)}))}},{key:"_getGoogleUserInformation",value:function(e){var t=e.getBasicProfile(),n=e.getAuthResponse().id_token;return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:n,imageUrl:t.getImageUrl()}}}]),r}(p(EventTarget)),B=_.GOOGLE_USER_FETCHED,F=_.PROMPT_MOMENT,j=function(e){a(r,e);var n=g(r);function r(e){var i,o=e.autoSelect,s=void 0!==o&&o,a=e.libSrcPath,c=e.containerId,l=e.context,u=e.clientId,d=void 0===u?E:u,h=e.cancelOnTapOutside,p=void 0===h||h;if(t(this,r),i=n.call(this),!l)throw TypeError("context param is required to determine the message to show in Google One Tap");if(i.autoSelect=s,i.libSrcPath=a,i.containerId=c,i.cancelOnTapOutside=p,i.clientId=d,i.context=l,window.google&&window.google.accounts&&window.google.accounts.id)i._onGoogleApiLoad();else{if(!a)throw TypeError("Google One Tap lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(a,i._onGoogleApiLoad.bind(f(i)))}))}return i}return i(r,[{key:"_onGoogleApiLoad",value:function(){var e=this;return google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.containerId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:this.context}),Promise.resolve().then((function(){return e.promptOneTap()}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=this.context===C.SIGN_UP?this._getBasicProfile(t):{idToken:t};if(n){n.selectedBy=e.select_by;var i=new CustomEvent(B,{detail:n});this.dispatchEvent(i)}}},{key:"_getBasicProfile",value:function(e){try{var t=new gapi.auth2.BasicProfile({id_token:e});return{email:t.getEmail(),familyName:t.getFamilyName(),givenName:t.getGivenName(),id:t.getId(),idToken:e,imageUrl:t.getImageUrl()}}catch(e){return this._dispatchSkippedEvent(e.message),null}}},{key:"_dispatchSkippedEvent",value:function(e){var t={message:e,reason:L.SKIPPED.ISSUING_FAILED,type:k.SKIPPED},n=new CustomEvent(F,{detail:t});this.dispatchEvent(n)}},{key:"promptOneTap",value:function(){var e=this;google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},i=new CustomEvent(F,{detail:n});e.dispatchEvent(i),e.checkIfDesktopAndApplyClass()}))}},{key:"hideOneTap",value:function(){google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),r}(p(EventTarget)),H={exports:{}},G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function z(e){this.message=e}function W(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new z("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,i,r=0,o=0,s="";i=t.charAt(o++);~i&&(n=r%4?64*n+i:i,r++%4)?s+=String.fromCharCode(255&n>>(-2*r&6)):0)i=G.indexOf(i);return s}z.prototype=new Error,z.prototype.name="InvalidCharacterError";var V="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||W;function K(e){return decodeURIComponent(V(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}var Y=function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return K(t)}catch(e){return V(t)}};function Q(e){this.message=e}Q.prototype=new Error,Q.prototype.name="InvalidTokenError",H.exports=function(e,t){if("string"!=typeof e)throw new Q("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Y(e.split(".")[n]))}catch(e){throw new Q("Invalid token specified: "+e.message)}},H.exports.InvalidTokenError=Q;var X=H.exports,J=_.GOOGLE_USER_FETCHED,Z=_.PROMPT_MOMENT,$=function(e){a(r,e);var n=g(r);function r(e){var i,o=e.autoSelect,s=void 0!==o&&o,a=e.buttonParentEl,c=e.cancelOnTapOutside,l=void 0===c||c,u=e.clientId,d=void 0===u?E:u,h=e.context,p=void 0===h?"signin":h,m=e.gsiButtonConfig,g=void 0===m?{}:m,_=e.libSrcPath,w=e.hasContentAbove,S=void 0!==w&&w,T=e.promptParentId,C=e.showOneTap,k=void 0===C||C;if(t(this,r),(i=n.call(this)).autoSelect=s,i.buttonParentEl=a,i.cancelOnTapOutside=l,i.clientId=d,i.context=p,i.gsiButtonConfig=g,i.isLibraryLoaded=b(),i.libSrcPath=_,i.hasContentAbove=S,i.promptParentId=T,i.showOneTap=k,window.google&&window.google.accounts&&window.google.accounts.id)i._onGoogleApiLoad();else{if(!_)throw TypeError("GSI lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(_,i._onGoogleApiLoad.bind(f(i)))}))}return i}return i(r,[{key:"_onGoogleApiLoad",value:function(){var e=this;return this.isLibraryLoaded.resolve(),window.google.accounts.id.initialize({auto_select:this.autoSelect,client_id:this.clientId,prompt_parent_id:this.promptParentId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:R[this.context].GOT}),Promise.resolve().then((function(){return e.showGsiUI()}))}},{key:"showGsiUI",value:function(){this.buttonParentEl&&this.renderGSIButton(this.buttonParentEl,this.gsiButtonConfig),this.showOneTap&&this.promptOneTap()}},{key:"renderGSIButton",value:function(e,t){var n=this,i=t.locale,r=void 0===i?"en_US":i,o=t.logo_alignment,s=void 0===o?"center":o,a=t.shape,c=void 0===a?"pill":a,l=t.size,u=void 0===l?"large":l,d=t.text,h=t.theme,p=t.type,f=t.width,m=void 0===f?"400px":f;return this.isLibraryLoaded.then((function(){var t=d||R[n.context].GSI_BUTTON;window.google.accounts.id.renderButton(e,{locale:r,logo_alignment:s,shape:c,size:u,text:t,theme:h,type:p,width:m})}))}},{key:"promptOneTap",value:function(){var e=this;return this.isLibraryLoaded.then((function(){window.google.accounts.id.prompt((function(t){var n={type:t.getMomentType(),reason:t.getNotDisplayedReason()||t.getSkippedReason()||t.getDismissedReason()},i=new CustomEvent(Z,{detail:n});e.dispatchEvent(i),e.hasContentAbove||e.checkIfDesktopAndApplyClass()}))}))}},{key:"_handleCredentialResponse",value:function(e){var t=e.credential,n=e.select_by,i=X(t),r=s({},this._getBasicProfile(i),{idToken:t,selectedBy:n});if(r){var o=new CustomEvent(J,{detail:r});this.dispatchEvent(o)}}},{key:"_getBasicProfile",value:function(e){return{email:e.email,familyName:e.family_name,givenName:e.given_name,id:e.sub,imageUrl:e.picture}}},{key:"hideOneTap",value:function(){window.google.accounts.id.cancel()}},{key:"checkIfDesktopAndApplyClass",value:function(){if(!/.*(iPad|iPod|iPhone|Android|BlackBerry).*/.test(navigator.userAgent)){var e=document.getElementById("credential_picker_container");e&&e.classList.add("credential_picker_container--desktop")}}}]),r}(p(EventTarget)),ee={PROD:"3fa91358-6f74-4525-b5df-da149652be36",LOCAL:"e5078fe9-f96f-4177-a256-a13b9bda6b1c"},te={MICROSOFT_ERROR:"microsoftError",USER_FETCHED:"microsoftUserFetched",PROMPT_MOMENT:"promptMomentNotification"},ne={signin:{MS_OT:"signin",MS_BUTTON:"signin_with"},signup:{MS_OT:"signup",MS_BUTTON:"signup_with"},use:{MS_OT:"use",MS_BUTTON:"continue_with"}},ie={DISPLAY:"display",SKIPPED:"skipped",DISMISSED:"dismissed"},re={DISPLAY:{ANOTHER_PROMPT_RUNNING:"another_prompt_running",BROWSER_NOT_SUPPORTED:"browser_not_supported",IN_COOLDOWN_PERIOD:"in_cooldown_period",NON_MSA_PROFILE:"non_msa_profile",UNKNOWN:"unknown"},SKIPPED:{TAP_OUTSIDE:"tap_outside",UNKNOWN:"unknown",USER_CANCELLED:"user_canceled"},DISMISSED:{CANCEL_CALLED:"cancel_called",CREDENTIAL_RETURNED:"credential_returned",CREDENTIAL_OBTAINED_FAILED:"credential_obtained_failed",FLOW_RESTARTED:"flow_restarted"}},oe=te.MICROSOFT_ERROR,se=te.PROMPT_MOMENT,ae=te.USER_FETCHED,ce=function(e){a(r,e);var n=g(r);function r(e){var i,o,s,a=e.buttonParentEl,c=e.cancelOnTapOutside,l=void 0===c||c,u=e.clientId,d=void 0===u?ee.PROD:u,h=e.context,p=void 0===h?"use":h,m=e.libSrcPath,g=e.locale,E=e.malButtonConfig,_=void 0===E?{}:E,w=e.oneTapPosition,S=void 0===w?"right":w,T=e.showOneTap,C=void 0!==T&&T;if(t(this,r),(s=n.call(this)).buttonParentEl=a,s.cancelOnTapOutside=l,s.clientId=d,s.context=p,s.libSrcPath=m,s.locale=(g||"en-US").replace("_","-"),s.malButtonConfig=_,s.oneTapPosition=S,s.showOneTap=C,s.isLibraryLoaded=b(),null===(i=window.ms)||void 0===i||null===(o=i.auth)||void 0===o?void 0:o.initialize)s._onMicrosoftAuthLibLoad();else{if(!m)throw TypeError("MAL lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(m,s._onMicrosoftAuthLibLoad.bind(f(s)))}))}return s}return i(r,[{key:"_onMicrosoftAuthLibLoad",value:function(){var e=this;this.isLibraryLoaded.resolve();var t=window.ms.auth.initialize({auto_prompt:this.showOneTap,client_id:this.clientId,callback:this._handleCredentialResponse.bind(this),cancel_on_tap_outside:this.cancelOnTapOutside,context:this.context,locale:this.locale});if("success"===t.result)return Promise.resolve().then((function(){return e.showMALUI()}));console.error("MAL failed to init",t.result)}},{key:"showMALUI",value:function(){this.buttonParentEl&&this.renderMALButton(this.buttonParentEl,this.malButtonConfig),this.showOneTap&&this.promptMSOneTap()}},{key:"renderMALButton",value:function(e,t){var n=this,i=t.logo_alignment,r=void 0===i?"center":i,o=t.height,s=void 0===o?42:o,a=t.shape,c=void 0===a?"pill":a,l=t.size,u=void 0===l?"large":l,d=t.text,h=t.theme,p=void 0===h?"light":h,f=t.type,m=t.width,g=void 0===m?600:m;return this.isLibraryLoaded.then((function(){var t=d||ne[n.context].MS_BUTTON;window.ms.auth.renderSignInButton(e,{logo_alignment:r,height:s,shape:c,size:u,text:t,theme:p,type:f,width:g})}))}},{key:"promptMSOneTap",value:function(){var e=this;return this.isLibraryLoaded.then((function(){window.ms.auth.prompt(e.oneTapPosition,(function(t){var n={type:t.type,reason:t.reason},i=new CustomEvent(se,{detail:n});e.dispatchEvent(i)}))}))}},{key:"_handleCredentialResponse",value:function(e,t){if(e){var n=e.email,i=e.givenName,r=e.surname,o=e.id,s=e.idToken,a=e.photoUrl,c=new CustomEvent(ae,{detail:{email:n,familyName:r,givenName:i,id:o,idToken:s,imageUrl:a}});this.dispatchEvent(c)}else if(t){var l=new CustomEvent(oe,{detail:t});this.dispatchEvent(l)}}},{key:"hideOneTap",value:function(){window.ms.auth.cancel()}}]),r}(p(EventTarget)),le=O.DISMISSED,ue=O.INITIALIZED,de=O.SNAPPLE_USER_FETCHED,he=function(e){a(r,e);var n=g(r);function r(e){var i,o=e.libSrcPath,s=e.snappleCTA,a=e.clientId,c=void 0===a?I:a,l=e.redirectURI;if(t(this,r),i=n.call(this),!s)throw TypeError("snappleCTA is required. Please pass the correct CTA element to this Snapple Constructor");if(i.libSrcPath=o,i.clientId=c,i.redirectURI=i._getRedirectURL(l),i.snappleCTA=s,window.AppleID&&window.AppleID.auth&&window.AppleID.auth.init)i._onSnappleLibLoad();else{if(!o)throw TypeError("Snapple lib is not already loaded on the page. libSrcPath is required to load the library");v((function(){y(o,i._onSnappleLibLoad.bind(f(i)))}))}return i}return i(r,[{key:"_onSnappleLibLoad",value:function(){window.AppleID.auth.init({clientId:this.clientId,scope:"name email",redirectURI:this.redirectURI,usePopup:!0});var e=new CustomEvent(ue);return this.dispatchEvent(e),Promise.resolve(this._attachEvents())}},{key:"_attachEvents",value:function(){var e=this;this.snappleCTA.addEventListener("click",(function(){return window.AppleID.auth.signIn().then((function(t){var n=new CustomEvent(de,{detail:t});e.dispatchEvent(n)})).catch((function(t){var n=new CustomEvent(le,{detail:{type:le,message:t}});e.dispatchEvent(n)}))}))}},{key:"_getRedirectURL",value:function(e){var t=window.location.host.indexOf("linkedin.com")>-1;return this.redirectURI?e:t?A:x}}]),r}(p(EventTarget)),pe={CLIENT_ID:E,EVENTS:_,GOOGLE_ACCOUNT_URL:w,GSI_ERROR_TYPES:S,GSI_ERROR_MESSAGES:T,GOT_CONTEXTS:C,GOT_PROMPT_MOMENT_REASONS:L,GOT_PROMPT_MOMENT_TYPES:k},fe={CLIENT_IDS:ee,CONTEXTS:ne,EVENTS:te,PROMPT_MOMENT_TYPES:ie,PROMPT_MOMENT_REASONS:re};e.GoogleGsi=$,e.GoogleOneTap=j,e.GoogleSignIn=q,e.GoogleSignInConstants=pe,e.MicrosoftAuth=ce,e.MicrosoftSignInConstants=fe,e.SnappleAuth=he,e.SnappleEvents=O,Object.defineProperty(e,"__esModule",{value:!0})})(qd.exports);const{EVENTS:Bd,GOT_CONTEXTS:Fd,GOT_PROMPT_MOMENT_REASONS:jd,GOT_PROMPT_MOMENT_TYPES:Hd}=qd.exports.GoogleSignInConstants,{GOOGLE_USER_FETCHED:Gd,PROMPT_MOMENT:zd}=Bd,{SIGN_IN:Wd}=Fd,Vd=[jd.NOT_DISPLAYED.BROWSER_NOT_SUPPORTED,jd.NOT_DISPLAYED.OPT_OUT_OR_NO_SESSION,jd.NOT_DISPLAYED.SUPPRESSED_BY_USER],Kd=[jd.SKIPPED.AUTO_CANCEL,jd.SKIPPED.TAP_OUTSIDE,jd.SKIPPED.USER_CANCEL],Yd=Object.freeze({ONE_TAP:"one_tap",ONE_TAP_AUTO_LOGIN:"one-tap-auto-login",BUTTON:"button"});class Qd{constructor(e){let{clientId:t,globalWindow:n=window,onNotDisplayed:i,onSkipped:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.buttons=Array.from(document.querySelectorAll(".google-auth-button__placeholder")),this.clientId=t,this.isLinkedInAppWebView=!0===Sa("isLinkedInAppWebView"),this.el=e,this.showOneTap=!this.isLinkedInAppWebView,(this.buttons.length||this.showOneTap&&this.el)&&(this.useAutoSelect=this._shouldAutologin(),this.isTermsAndConditionsSkipEnabledOneTap=Sa("isTermsAndConditionsSkipEnabledOneTap"),this.isTermsAndConditionsSkipEnabledAuthButton=Sa("isTermsAndConditionsSkipEnabledAuthButton"),this.window=n,this.onNotDisplayed=i,this.onSkipped=r,this.loader=new za(this.el.querySelector(".loader"),this.el),this._initGoogleAuth(),this._isMobile=K())}_initGoogleAuth(){return this.window.lazyloader.then((e=>e.getLazyLoadedJavascriptModule("google-gsi-lib"))).then((()=>{const e=Sa("googleAuthLibraryPath");if(e)return this.googleGsiInstance=new qd.exports.GoogleGsi({autoSelect:this.useAutoSelect,cancelOnTapOutside:!1,clientId:this.clientId,context:Wd,hasContentAbove:this.isTermsAndConditionsSkipEnabledOneTap,libSrcPath:ma.sanitizeUrl(e),promptParentId:this.isTermsAndConditionsSkipEnabledOneTap?"google-one-tap__container":void 0,showOneTap:this.showOneTap}),this._initButtons(),this.googleGsiInstance.addEventListener(Gd,(e=>{let{detail:t}=e;const{email:n,familyName:i,givenName:r,idToken:o,imageUrl:s,selectedBy:a}=t;this.loader.show();const c=this._getRequestType(a);this._addGoogleFieldToForm("googleGivenName",r),this._addGoogleFieldToForm("googleIdToken",o),this._addGoogleFieldToForm("googleFamilyName",i),this._addGoogleFieldToForm("googleImageUrl",s),this._addGoogleFieldToForm("googleEmail",n),this._addGoogleFieldToForm("soogleLoginRequestType",c),this._addGoogleFieldToForm(Bl,ql());const l=c===Yd.BUTTON?"google-sign-in--account-selected":"google-one-tap--account-selected";this._fireControlInteractionEvent(l),this._conditionalIncludeTermsAndConditionsSkip(l),this.el.submit()})),this.googleGsiInstance.addEventListener(zd,(e=>{let{detail:t}=e;const{reason:n,type:i}=t;let r="google-one-tap-moment--".concat(i);r=n?"".concat(r,"-").concat(n):r,this._fireControlInteractionEvent(r);const o=this.el.querySelector(".google-one-tap__module");if(n){if(this._fireCounterIngraphMetric(i,n),i===Hd.SKIPPED){if(n===jd.SKIPPED.USER_CANCEL&&(null==o||o.classList.add("hidden"),this._fireControlInteractionEvent("google-one-tap--user-dismissed")),this.onSkipped)this.onSkipped(t);else if(-1===Kd.indexOf(n))throw Error("GoogleOneTapError ".concat(i,": ").concat(n))}else if(i===Hd.DISPLAY)if(this.onNotDisplayed)this.onNotDisplayed(t);else if(-1===Vd.indexOf(n))throw Error("GoogleOneTapError ".concat(i,": ").concat(n))}else if(i===Hd.DISPLAY){if(this._isMobile){const e=document.querySelector("#credential_picker_iframe");if(e){new ResizeObserver((e=>{for(let t of e)o&&(0===t.contentRect.height?o.classList.add("hidden"):(o.classList.remove("hidden"),o.style.bottom="".concat(t.contentRect.height,"px")))})).observe(e)}}else null==o||o.classList.remove("hidden");this._fireViewModuleImpressionEvent("google-one-tap")}})),this.googleGsiInstance}))}_fireCounterIngraphMetric(e,t){let n="";e===Hd.DISPLAY&&t===jd.NOT_DISPLAYED.OPT_OUT_OR_NO_SESSION?n="GoogleAuthDisabledOrNoSessionError":(Kd.indexOf(t)>=0||Vd.indexOf(t)>=0)&&(n="GoogleAuthMiscError"),n&&this.window.ingraphTracking.then((e=>{e.fireCounterIngraphMetric({metricsType:n})}))}_fireViewModuleImpressionEvent(e){this.window.tracking&&this.window.tracking.then((t=>{Kr(t,[e])}))}_fireControlInteractionEvent(e){this.window.tracking&&this.window.tracking.then((t=>{t.fireControlInteractionEvent(e)}))}_initButtons(){var e,t;null!==(e=this.buttons)&&void 0!==e&&e.length&&(this._fireViewModuleImpressionEvent("google-button-view"),null===(t=this.buttons)||void 0===t||t.forEach((e=>{this.googleGsiInstance.renderGSIButton(e,this._getButtonConfig(e))})))}_getButtonConfig(e){if(e){const t=e.parentElement.offsetWidth-2;return{text:e.dataset.text||"continue_with",width:t}}return{}}_getRequestType(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";switch(!0){case"auto"===e:return Yd.ONE_TAP_AUTO_LOGIN;case e.indexOf("user")>-1:return Yd.ONE_TAP;default:return Yd.BUTTON}}_addGoogleFieldToForm(e,t){const n=document.createElement("input");n.type="hidden",n.name=e,n.id=e,n.value=t,this.el.appendChild(n)}_shouldAutologin(){return!(null!==f("li_g_recent_logout"))}_conditionalIncludeTermsAndConditionsSkip(e){"google-one-tap--account-selected"===e?Sa("termsAndConditionsRendered")&&this._addGoogleFieldToForm("termsAndConditionsSkip",!0):"google-sign-in--account-selected"===e&&this.isTermsAndConditionsSkipEnabledAuthButton&&this._addGoogleFieldToForm("termsAndConditionsSkip",!0)}}const{EVENTS:Xd,PROMPT_MOMENT_REASONS:Jd,PROMPT_MOMENT_TYPES:Zd}=qd.exports.MicrosoftSignInConstants,{USER_FETCHED:$d,PROMPT_MOMENT:eh}=Xd;Jd.DISPLAY.ANOTHER_PROMPT_RUNNING,Jd.DISPLAY.BROWSER_NOT_SUPPORTED,Jd.DISPLAY.IN_COOLDOWN_PERIOD,Jd.DISPLAY.NON_MSA_PROFILE,Jd.SKIPPED.TAP_OUTSIDE,Jd.SKIPPED.USER_CANCELLED;class th{constructor(e){if(!e)throw Error("An element must be provided to TopNavMenu");this.el=e,Nd(this.updateDeeplink.bind(this))}updateDeeplink(){const e=this.el.querySelector(".top-nav-link[data-tracking-control-name$=_windows]");e&&e.setAttribute("href",Pd)}}class nh{constructor(e){let{searchBarOptions:t,signInCardOptions:n,signInModalOptions:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw Error("An element must be provided to Nav");this.el=e;const r=this.el.querySelector(".search-bar");r&&new Ec(r,t);const o=this.el.querySelector(".sign-in-card");o&&new Ql(o,n);const s=this.el.querySelector(".sign-in-modal");s&&new Ud(s,i);const a=this.el.querySelector(".top-nav-menu");a&&new th(a)}}class ih{constructor(){let{typeaheadApiBaseUrl:e,stickyHeaderOptions:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=document.querySelector(".search-bar");n&&(this.searchBar=new Ec(n,{typeaheadApiBaseUrl:e}));const i=document.querySelector(".language-selector");i&&(this.languageSelector=new ne(i));document.querySelector(".sticky-header")&&new hd(void 0,t),document.querySelector(".member-nav-menu")&&new ao;const r=document.querySelector(".nav");r&&new nh(r)}}const rh="filter-values-container__filter-value";".".concat(rh," input"),".".concat(rh," input[type=radio]:checked");class oh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},{enablePageViewTracking:i=!1,shouldHideModal:r=(()=>!1),triggerByOutletEl:o=!0,focusElement:s,pageKey:a}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!e)throw new Error("No element passed into to dialog modal");this.el=e,this.modalEl=this.el.querySelector(".".concat(eo)),this.modal=new wc(this.modalEl,{enablePageViewTracking:i,shouldHideModal:r,triggerByOutletEl:o,focusElement:s,pageKey:a}),this._onPrimaryActionClick=t,this.primaryActionBtn=this.el.querySelector(".primary-action"),this.secondaryActionBtn=this.el.querySelector(".secondary-action"),n&&(this._onSecondaryActionClick=n),this.el.querySelector(".dialog-actions").addEventListener("click",this._actionHandler.bind(this))}_actionHandler(e){const t=e.target;if(this.primaryActionBtn&&this.primaryActionBtn.contains(t)){if(this.primaryActionBtn.disabled)return;this._onPrimaryActionClick&&this._onPrimaryActionClick(e)}else this.secondaryActionBtn&&this.secondaryActionBtn.contains(t)&&this._onSecondaryActionClick&&this._onSecondaryActionClick(e);this.modal.close()}}const sh="bottom-sheet-open",ah="aria-hidden";function ch(e,t){Bs(e,t,{ADD_TAGS:["link"]})}class lh{constructor(){let{bottomSheetEl:e,pushState:t=!0,enablePageViewTracking:n,pageKey:i,shouldHideModal:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.bottomSheetEl=e||document.querySelector("#bottom-sheet"),!this.bottomSheetEl)throw new Error("Cannot instantiate bottom sheet without container");this._headerEl=this.bottomSheetEl.querySelector(".header-section"),this._titleEl=this.bottomSheetEl.querySelector(".title"),this._contentEl=this.bottomSheetEl.querySelector(".content"),this._footerEl=this.bottomSheetEl.querySelector(".footer"),this.modalInstance=new wc(this.bottomSheetEl,{enablePageViewTracking:n,pageKey:i,shouldHideModal:r,pushState:t,triggerByOutletEl:!1}),this._hideBottomSheet=this._hideBottomSheet.bind(this),this._attachEventListeners()}_hideBottomSheet(){wo(this.bottomSheetEl),this.bottomSheetEl.removeEventListener("transitionend",this._hideBottomSheet)}_attachEventListeners(){this.bottomSheetEl.addEventListener("click",(e=>{const t=e.target.closest("[data-action]");"close-bottom-sheet"===(t&&t.dataset.action)&&this.close()})),this.bottomSheetEl.addEventListener("close",(()=>{this.isOpen()&&setTimeout((()=>{this.bottomSheetEl.setAttribute(ah,!0),this.bottomSheetEl.addEventListener("transitionend",this._hideBottomSheet),this.bottomSheetEl.classList.remove(sh)}),0)})),this.bottomSheetEl.addEventListener("open",(()=>{this.bottomSheetEl.setAttribute(ah,!1),So(this.bottomSheetEl),window.requestAnimationFrame((()=>this.bottomSheetEl.classList.add(sh)))})),r.getInstance().addUnloadCallback((()=>{this.close()}))}setHeader(e){this._headerEl&&ch(this._headerEl,e)}setTitle(e){this._titleEl&&(this._titleEl.textContent=e)}setContent(e){ch(this._contentEl,e)}setFooter(e){this._footerEl&&ch(this._footerEl,e)}isOpen(){return this.bottomSheetEl.classList.contains(sh)}open(){!this.isOpen()&&this.modalInstance.open()}close(){this.isOpen()&&this.modalInstance.close()}}function uh(e){let{featureName:t,featureMappingToDegradationConfig:n,productName:i}=e;return n[t].map((e=>function(e,t,n){const{degradationKey:i,trackedResponseCodes:r,untrackedResponseCodes:o}=n,s=e;let a={productName:t};return r?a=xe(xe({},a),{},{trackedResponseCodes:r}):o&&(a=xe(xe({},a),{},{untrackedResponseCodes:o})),new Rd(s,i,a)}(t,i,e)))}class dh extends Da{constructor(){super(...arguments)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:dh.query,variables:{digitalMediaRegisterUploadResponseDataFetcherInput:{imageUrl:e.imageUrl,owner:e.owner,uploadMechanisms:["SYNCHRONOUS_UPLOAD","SINGLE_REQUEST_UPLOAD"],uploadRecipes:[e.recipe]}},successCallback:t,failureCallback:n})}}Oe(dh,"query","20f8e9934e7df62932fd167d87c19b27");var hh=function(){this.__data__=[],this.size=0};var ph=function(e,t){return e===t||e!=e&&t!=t},fh=ph;var mh=function(e,t){for(var n=e.length;n--;)if(fh(e[n][0],t))return n;return-1},gh=mh,vh=Array.prototype.splice;var yh=function(e){var t=this.__data__,n=gh(t,e);return!(n<0)&&(n==t.length-1?t.pop():vh.call(t,n,1),--this.size,!0)},bh=mh;var Eh=function(e){var t=this.__data__,n=bh(t,e);return n<0?void 0:t[n][1]},_h=mh;var wh=function(e){return _h(this.__data__,e)>-1},Sh=mh;var Th=function(e,t){var n=this.__data__,i=Sh(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Ch=hh,kh=yh,Lh=Eh,Ih=wh,Ah=Th;function xh(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}xh.prototype.clear=Ch,xh.prototype.delete=kh,xh.prototype.get=Lh,xh.prototype.has=Ih,xh.prototype.set=Ah;var Oh=xh,Rh=Oh;var Ph=function(){this.__data__=new Rh,this.size=0};var Nh=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var Mh=function(e){return this.__data__.get(e)};var Dh=function(e){return this.__data__.has(e)},Uh="object"==typeof ie&&ie&&ie.Object===Object&&ie,qh=Uh,Bh="object"==typeof self&&self&&self.Object===Object&&self,Fh=qh||Bh||Function("return this")(),jh=Fh.Symbol,Hh=jh,Gh=Object.prototype,zh=Gh.hasOwnProperty,Wh=Gh.toString,Vh=Hh?Hh.toStringTag:void 0;var Kh=function(e){var t=zh.call(e,Vh),n=e[Vh];try{e[Vh]=void 0;var i=!0}catch(e){}var r=Wh.call(e);return i&&(t?e[Vh]=n:delete e[Vh]),r},Yh=Object.prototype.toString;var Qh=function(e){return Yh.call(e)},Xh=Kh,Jh=Qh,Zh=jh?jh.toStringTag:void 0;var $h=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Zh&&Zh in Object(e)?Xh(e):Jh(e)};var ep=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},tp=$h,np=ep;var ip,rp=function(e){if(!np(e))return!1;var t=tp(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},op=Fh["__core-js_shared__"],sp=(ip=/[^.]+$/.exec(op&&op.keys&&op.keys.IE_PROTO||""))?"Symbol(src)_1."+ip:"";var ap=function(e){return!!sp&&sp in e},cp=Function.prototype.toString;var lp=function(e){if(null!=e){try{return cp.call(e)}catch(e){}try{return e+""}catch(e){}}return""},up=rp,dp=ap,hp=ep,pp=lp,fp=/^\[object .+?Constructor\]$/,mp=Function.prototype,gp=Object.prototype,vp=mp.toString,yp=gp.hasOwnProperty,bp=RegExp("^"+vp.call(yp).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ep=function(e){return!(!hp(e)||dp(e))&&(up(e)?bp:fp).test(pp(e))};var _p=function(e,t){return null==e?void 0:e[t]},wp=Ep,Sp=_p;var Tp=function(e,t){var n=Sp(e,t);return wp(n)?n:void 0},Cp=Tp(Fh,"Map"),kp=Tp(Object,"create"),Lp=kp;var Ip=function(){this.__data__=Lp?Lp(null):{},this.size=0};var Ap=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xp=kp,Op=Object.prototype.hasOwnProperty;var Rp=function(e){var t=this.__data__;if(xp){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Op.call(t,e)?t[e]:void 0},Pp=kp,Np=Object.prototype.hasOwnProperty;var Mp=function(e){var t=this.__data__;return Pp?void 0!==t[e]:Np.call(t,e)},Dp=kp;var Up=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Dp&&void 0===t?"__lodash_hash_undefined__":t,this},qp=Ip,Bp=Ap,Fp=Rp,jp=Mp,Hp=Up;function Gp(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}Gp.prototype.clear=qp,Gp.prototype.delete=Bp,Gp.prototype.get=Fp,Gp.prototype.has=jp,Gp.prototype.set=Hp;var zp=Gp,Wp=Oh,Vp=Cp;var Kp=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Yp=Kp;var Qp=function(e,t){var n=e.__data__;return Yp(t)?n["string"==typeof t?"string":"hash"]:n.map},Xp=Qp;var Jp=function(e){var t=Xp(this,e).delete(e);return this.size-=t?1:0,t},Zp=Qp;var $p=function(e){return Zp(this,e).get(e)},ef=Qp;var tf=function(e){return ef(this,e).has(e)},nf=Qp;var rf=function(e,t){var n=nf(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},of=function(){this.size=0,this.__data__={hash:new zp,map:new(Vp||Wp),string:new zp}},sf=Jp,af=$p,cf=tf,lf=rf;function uf(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}uf.prototype.clear=of,uf.prototype.delete=sf,uf.prototype.get=af,uf.prototype.has=cf,uf.prototype.set=lf;var df=Oh,hf=Cp,pf=uf;var ff=function(e,t){var n=this.__data__;if(n instanceof df){var i=n.__data__;if(!hf||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new pf(i)}return n.set(e,t),this.size=n.size,this},mf=Oh,gf=Ph,vf=Nh,yf=Mh,bf=Dh,Ef=ff;function _f(e){var t=this.__data__=new mf(e);this.size=t.size}_f.prototype.clear=gf,_f.prototype.delete=vf,_f.prototype.get=yf,_f.prototype.has=bf,_f.prototype.set=Ef;var wf=_f,Sf=Tp,Tf=function(){try{var e=Sf(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Cf=Tf,kf=Cf;var Lf=function(e,t,n){"__proto__"==t&&kf?kf(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},If=Lf,Af=ph;var xf=function(e,t,n){(void 0!==n&&!Af(e[t],n)||void 0===n&&!(t in e))&&If(e,t,n)};var Of=function(e){return function(t,n,i){for(var r=-1,o=Object(t),s=i(t),a=s.length;a--;){var c=s[e?a:++r];if(!1===n(o[c],c,o))break}return t}},Rf=Of(),Pf={exports:{}};!function(e,t){var n=Fh,i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,o=r&&r.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,i=s?s(n):new e.constructor(n);return e.copy(i),i}}(Pf,Pf.exports);var Nf=Fh.Uint8Array;var Mf=function(e){var t=new e.constructor(e.byteLength);return new Nf(t).set(new Nf(e)),t},Df=Mf;var Uf=function(e,t){var n=t?Df(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var qf=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t},Bf=ep,Ff=Object.create,jf=function(){function e(){}return function(t){if(!Bf(t))return{};if(Ff)return Ff(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),Hf=jf;var Gf=function(e,t){return function(n){return e(t(n))}},zf=Gf(Object.getPrototypeOf,Object),Wf=Object.prototype;var Vf=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Wf)},Kf=Hf,Yf=zf,Qf=Vf;var Xf=function(e){return"function"!=typeof e.constructor||Qf(e)?{}:Kf(Yf(e))};var Jf=function(e){return null!=e&&"object"==typeof e},Zf=$h,$f=Jf;var em=function(e){return $f(e)&&"[object Arguments]"==Zf(e)},tm=em,nm=Jf,im=Object.prototype,rm=im.hasOwnProperty,om=im.propertyIsEnumerable,sm=tm(function(){return arguments}())?tm:function(e){return nm(e)&&rm.call(e,"callee")&&!om.call(e,"callee")},am=sm,cm=Array.isArray;var lm=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},um=rp,dm=lm;var hm=function(e){return null!=e&&dm(e.length)&&!um(e)},pm=hm,fm=Jf;var mm=function(e){return fm(e)&&pm(e)},gm={exports:{}};var vm=function(){return!1};!function(e,t){var n=Fh,i=vm,r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r?n.Buffer:void 0,a=(s?s.isBuffer:void 0)||i;e.exports=a}(gm,gm.exports);var ym=$h,bm=zf,Em=Jf,_m=Function.prototype,wm=Object.prototype,Sm=_m.toString,Tm=wm.hasOwnProperty,Cm=Sm.call(Object);var km=function(e){if(!Em(e)||"[object Object]"!=ym(e))return!1;var t=bm(e);if(null===t)return!0;var n=Tm.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Sm.call(n)==Cm},Lm=$h,Im=lm,Am=Jf,xm={};xm["[object Float32Array]"]=xm["[object Float64Array]"]=xm["[object Int8Array]"]=xm["[object Int16Array]"]=xm["[object Int32Array]"]=xm["[object Uint8Array]"]=xm["[object Uint8ClampedArray]"]=xm["[object Uint16Array]"]=xm["[object Uint32Array]"]=!0,xm["[object Arguments]"]=xm["[object Array]"]=xm["[object ArrayBuffer]"]=xm["[object Boolean]"]=xm["[object DataView]"]=xm["[object Date]"]=xm["[object Error]"]=xm["[object Function]"]=xm["[object Map]"]=xm["[object Number]"]=xm["[object Object]"]=xm["[object RegExp]"]=xm["[object Set]"]=xm["[object String]"]=xm["[object WeakMap]"]=!1;var Om=function(e){return Am(e)&&Im(e.length)&&!!xm[Lm(e)]};var Rm=function(e){return function(t){return e(t)}},Pm={exports:{}};!function(e,t){var n=Uh,i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,o=r&&r.exports===i&&n.process,s=function(){try{var e=r&&r.require&&r.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}(Pm,Pm.exports);var Nm=Om,Mm=Rm,Dm=Pm.exports,Um=Dm&&Dm.isTypedArray,qm=Um?Mm(Um):Nm;var Bm=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},Fm=Lf,jm=ph,Hm=Object.prototype.hasOwnProperty;var Gm=function(e,t,n){var i=e[t];Hm.call(e,t)&&jm(i,n)&&(void 0!==n||t in e)||Fm(e,t,n)},zm=Gm,Wm=Lf;var Vm=function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=i?i(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),r?Wm(n,a,c):zm(n,a,c)}return n};var Km=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i},Ym=/^(?:0|[1-9]\d*)$/;var Qm=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Ym.test(e))&&e>-1&&e%1==0&&e<t},Xm=Km,Jm=am,Zm=cm,$m=gm.exports,eg=Qm,tg=qm,ng=Object.prototype.hasOwnProperty;var ig=function(e,t){var n=Zm(e),i=!n&&Jm(e),r=!n&&!i&&$m(e),o=!n&&!i&&!r&&tg(e),s=n||i||r||o,a=s?Xm(e.length,String):[],c=a.length;for(var l in e)!t&&!ng.call(e,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||eg(l,c))||a.push(l);return a};var rg=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},og=ep,sg=Vf,ag=rg,cg=Object.prototype.hasOwnProperty;var lg=function(e){if(!og(e))return ag(e);var t=sg(e),n=[];for(var i in e)("constructor"!=i||!t&&cg.call(e,i))&&n.push(i);return n},ug=ig,dg=lg,hg=hm;var pg=function(e){return hg(e)?ug(e,!0):dg(e)},fg=Vm,mg=pg;var gg=function(e){return fg(e,mg(e))},vg=xf,yg=Pf.exports,bg=Uf,Eg=qf,_g=Xf,wg=am,Sg=cm,Tg=mm,Cg=gm.exports,kg=rp,Lg=ep,Ig=km,Ag=qm,xg=Bm,Og=gg;var Rg=function(e,t,n,i,r,o,s){var a=xg(e,n),c=xg(t,n),l=s.get(c);if(l)vg(e,n,l);else{var u=o?o(a,c,n+"",e,t,s):void 0,d=void 0===u;if(d){var h=Sg(c),p=!h&&Cg(c),f=!h&&!p&&Ag(c);u=c,h||p||f?Sg(a)?u=a:Tg(a)?u=Eg(a):p?(d=!1,u=yg(c,!0)):f?(d=!1,u=bg(c,!0)):u=[]:Ig(c)||wg(c)?(u=a,wg(a)?u=Og(a):Lg(a)&&!kg(a)||(u=_g(c))):d=!1}d&&(s.set(c,u),r(u,c,i,o,s),s.delete(c)),vg(e,n,u)}},Pg=wf,Ng=xf,Mg=Rf,Dg=Rg,Ug=ep,qg=pg,Bg=Bm;var Fg=function e(t,n,i,r,o){t!==n&&Mg(n,(function(s,a){if(o||(o=new Pg),Ug(s))Dg(t,n,a,i,e,r,o);else{var c=r?r(Bg(t,a),s,a+"",t,n,o):void 0;void 0===c&&(c=s),Ng(t,a,c)}}),qg)};var jg=function(e){return e};var Hg=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Gg=Hg,zg=Math.max;var Wg=function(e,t,n){return t=zg(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=zg(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),Gg(e,this,a)}};var Vg=function(e){return function(){return e}},Kg=Vg,Yg=Cf,Qg=Yg?function(e,t){return Yg(e,"toString",{configurable:!0,enumerable:!1,value:Kg(t),writable:!0})}:jg,Xg=Qg,Jg=Date.now;var Zg=function(e){var t=0,n=0;return function(){var i=Jg(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},$g=Zg(Xg),ev=jg,tv=Wg,nv=$g;var iv=function(e,t){return nv(tv(e,t,ev),e+"")},rv=ph,ov=hm,sv=Qm,av=ep;var cv=function(e,t,n){if(!av(n))return!1;var i=typeof t;return!!("number"==i?ov(n)&&sv(t,n.length):"string"==i&&t in n)&&rv(n[t],e)},lv=iv,uv=cv;var dv=function(e){return lv((function(t,n){var i=-1,r=n.length,o=r>1?n[r-1]:void 0,s=r>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&uv(n[0],n[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++i<r;){var a=n[i];a&&e(t,a,i,o)}return t}))},hv=Fg;dv((function(e,t,n){hv(e,t,n)}));function pv(e){const t=e.getBoundingClientRect();let{top:n,left:i}=t;const{right:r,bottom:o,width:s,height:a,x:c,y:l}=t;return n+=document.documentElement.scrollTop||document.body.scrollTop,i+=document.documentElement.scrollLeft||document.body.scrollLeft,{top:n,right:r,bottom:o,left:i,width:s,height:a,x:c,y:l}}function fv(e,t,n){const i=pv(e),r=pv(t),o=pv(n),s=i.top-o.top-n.clientTop-r.height+i.height,a=i.left-o.left-n.clientLeft-r.width+i.width;return{boundingCoordinates:i,elementCoordinates:r,elemOffsetParentCoordinates:o,topMinLimit:s,leftMinLimit:a,elemTop:r.top-o.top,elemLeft:r.left-o.left,topMaxLimit:s-i.height+r.height,leftMaxLimit:a-i.width+r.width}}document.querySelector(".upload-progress"),document.querySelector("#progressVal");const mv="data-draggable-initialized",gv="touchstart",vv="touchmove",yv="touchend";class bv{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.onTouchStart.bind(this);if(this.options=e,!e.element||1!==e.element.nodeType)throw new Error("pass valid draggable element");if(this.draggableElementEl=e.element,e.boundingParent&&1===e.boundingParent.nodeType){if(!e.boundingParent.contains(e.element))throw new Error("pass a proper ancestor element");this.boundingParentEl=e.boundingParent}else this.boundingParentEl=document.body;bv.isDraggable(this.draggableElementEl)||this.draggableElementEl.addEventListener(gv,t),this.draggableElementEl.setAttribute(mv,!0)}dragElement(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r={top:n>0?Math.min(e.topMaxLimit,e.elemTop+n):Math.max(e.topMinLimit,e.elemTop+n),left:t>0?Math.min(e.leftMaxLimit,e.elemLeft+t):Math.max(e.leftMinLimit,e.elemLeft+t)};this.draggableElementEl.style.left="".concat(r.left,"px"),this.draggableElementEl.style.top="".concat(r.top,"px"),this.options.onDrag instanceof Function&&this.options.onDrag(e.boundingCoordinates.left-r.left-e.elemOffsetParentCoordinates.left,e.boundingCoordinates.top-r.top-e.elemOffsetParentCoordinates.top,i)}onTouchMove(e){const t=!!e.touches;if(e.preventDefault(),this.isMoving||(this.isMoving=!0),t&&1===e.touches.length){const t=e.touches[0].clientX-this._startClientX,n=e.touches[0].clientY-this._startClientY;this.dragElement.call(this,this.limits,t,n)}}onTouchStart(e){this.limits=fv(this.boundingParentEl,this.draggableElementEl,this.draggableElementEl.offsetParent),this.isMoving=!1;const t=this.onTouchMove.bind(this),n=!!e.touches;this._startClientX=n?e.touches[0].clientX:e.clientX,this._startClientY=n?e.touches[0].clientY:e.clientY,e.preventDefault(),document.addEventListener(vv,t),document.addEventListener(yv,(function e(){document.removeEventListener(vv,t),document.removeEventListener(yv,e)}))}moveTo(e,t){const n=fv(this.boundingParentEl,this.draggableElementEl,this.draggableElementEl.offsetParent),i=e+n.boundingCoordinates.left-n.elementCoordinates.left,r=t+n.boundingCoordinates.top-n.elementCoordinates.top;this.dragElement.call(this,n,i,r,!1)}}bv.isDraggable=function(e){return!!e.getAttribute(mv)};const Ev="data-zoomable-initialized",_v="touchstart",wv="touchmove",Sv="touchend";class Tv{constructor(e){const t=this.onTouchStart.bind(this);if(this.options=e,!e.element||1!==e.element.nodeType)throw new Error("pass valid zoomable element");if(!(e.scaleElement&&e.scaleElement instanceof Function))throw new Error("pass valid function to scale element");if(!(e.getMinDimensions&&e.getMinDimensions instanceof Function))throw new Error("pass valid function to get minimum dimensions");if(this.zoomableElement=e.element,e.boundingParent&&1===e.boundingParent.nodeType){if(!e.boundingParent.contains(e.element))throw new Error("pass a proper ancestor element");this.boundingParent=e.boundingParent}else this.boundingParent=document.body;Tv.isZoomable(this.zoomableElement)||(this.zoomableElement.addEventListener(_v,t),this.zoomableElement.setAttribute(Ev,!0))}scaleElement(e,t){if(1===e)return;this.limits=fv(this.boundingParent,this.zoomableElement,this.zoomableElement.offsetParent);let n=this.limits.elementCoordinates.width*e,i=this.limits.elementCoordinates.height*e;if(n<this.limits.boundingCoordinates.width||i<this.limits.boundingCoordinates.height){const t=this.options.getMinDimensions();i=t.height,n=t.width,e=i/this.limits.elementCoordinates.height}let r=this.limits.elemLeft-(t.clientX-this.limits.elementCoordinates.left)*(e-1),o=this.limits.elemTop-(t.clientY-this.limits.elementCoordinates.top)*(e-1);const s=this.limits.leftMinLimit-this.zoomableElement.offsetWidth*(e-1),a=this.limits.leftMaxLimit,c=this.limits.topMinLimit-this.zoomableElement.offsetHeight*(e-1),l=this.limits.topMaxLimit;r<s?r=s:r>a&&(r=a),o<c?o=c:o>l&&(o=l),this.options.scaleElement(n,i,this.limits.boundingCoordinates.left-r-this.limits.elemOffsetParentCoordinates.left,this.limits.boundingCoordinates.top-o-this.limits.elemOffsetParentCoordinates.top),this.zoomableElement.style.left="".concat(r,"px"),this.zoomableElement.style.top="".concat(o,"px")}onTouchMove(e){if(e.preventDefault(),2===e.touches.length){const t=Math.sqrt((e.touches[0].clientX-e.touches[1].clientX)*(e.touches[0].clientX-e.touches[1].clientX)+(e.touches[0].clientY-e.touches[1].clientY)*(e.touches[0].clientY-e.touches[1].clientY));if(this._startDistance>0){const n=t/this._startDistance,i=e.touches[0];this.scaleElement.call(this,n,i)}this._startDistance=t}}onTouchStart(e){e.preventDefault();const t=this.onTouchMove.bind(this);2===e.touches.length?this._startDistance=Math.sqrt((e.touches[0].x-e.touches[1].x)*(e.touches[0].x-e.touches[1].x)+(e.touches[0].y-e.touches[1].y)*(e.touches[0].y-e.touches[1].y)):this._startDistance=0,document.addEventListener(wv,t),document.addEventListener(Sv,(function e(){document.removeEventListener(wv,t),document.removeEventListener(Sv,e)}))}}let Cv;Tv.isZoomable=function(e){return!!e.getAttribute(Ev)};r.getInstance().addUnloadCallback((()=>{Cv&&Cv.close(),wo(document.querySelector("#discard-post-modal")),wo(document.querySelector("#visibility-settings-modal")),wo(document.querySelector("#max-images-prompt-modal")),wo(document.querySelector("#retry-upload-modal"))}));const kv="_lastUpdatedAt";class Lv{constructor(e){this.storage=void 0===e?localStorage:e}read(e){try{const t=this.storage.getItem(e);if(t)return JSON.parse(t)}catch(e){}return null}write(e,t){try{this.storage.setItem(e,JSON.stringify(t))}catch(e){console.error(e)}}remove(e){try{this.storage.removeItem(e)}catch(e){console.error(e)}}readWithExpiry(e,t){const n=this.read(e+kv);return n&&(new Date).getTime()-n<t?this.read(e):(this.removeWithExpiry(e),null)}writeWithExpiry(e,t){this.write(e,t),this.write(e+kv,(new Date).getTime())}removeWithExpiry(e){this.remove(e),this.remove(e+kv)}}(function(){try{Lv.instance||(Lv.instance=new Lv(localStorage)),Lv.instance}catch(e){}})(),function(){try{Lv.sessionInstance||(Lv.sessionInstance=new Lv(sessionStorage)),Lv.sessionInstance}catch(e){}}();let Iv;const Av="_self";function xv(){return Iv||(Iv=new _a),Iv}function Ov(e,t){return e&&t?"urn:li:control:".concat(t,"-").concat(e):null}class Rv extends Da{constructor(){super(...arguments)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:Rv.query,variables:{successRedirectUrl:e},successCallback:t,failureCallback:n})}}Oe(Rv,"query","5f93d1d6b933cfbfdf7b0a80dedfb3f4");class Pv extends Da{constructor(){super(...arguments)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{};return this.executeAction({queryId:Pv.query,successCallback:e,failureCallback:t})}}Oe(Pv,"query","da4a9ce2de842c1abe01ca37ea9271ee");const Nv="selected";function Mv(e){const t=e.target.value;e.target.classList.toggle(Nv,t),e.target.focus()}function Dv(e){if(e){const{id:t,labelText:n}=e.dataset;if(!t||!n)throw new Error("mandatory fields missing.");const i=e.querySelector("select");i&&(i.addEventListener("change",Mv),i.value&&i.classList.add(Nv))}else{document.querySelectorAll(".dropdown-container").forEach(Dv)}}const Uv="input",qv="change",Bv="focus",Fv="input:cleared",jv="selected";function Hv(e){const t=e.currentTarget.parentElement.querySelector(Uv);t.value="",t.classList.remove(jv),t.focus(),m(t,Fv),m(t,qv)}function Gv(e){const t=e.currentTarget.parentElement,n=t.dataset.placeholder,i=t.querySelector(Uv);n&&i.setAttribute("placeholder",n),i.removeEventListener(Bv,Gv)}function zv(e){const t=e.target.value;e.target.classList.toggle(jv,t)}function Wv(e){if(e){const{id:t,labelText:n}=e.dataset;if(!t||!n)throw new Error("mandatory fields missing.");const i=e.querySelector(Uv),r=e.querySelector(".right");i.addEventListener(qv,zv),i.addEventListener(Bv,Gv),r&&r.addEventListener("click",Hv)}else{document.querySelectorAll(".input-container").forEach(Wv)}}const Vv="MinLength",Kv="MaxLength",Yv="Regex",Qv="Required",Xv="RegexAllow",Jv="RegexAllowEmail",Zv={SPECIAL_CHARS:{pattern:/([!@#$%^&*+=|<>?:;\\])/,errorCode:"SpecialChars"},URL_KEYWORDS:{pattern:/(https?(:\/\/)?|www\.)/i,errorCode:"UrlKeywords"},EMAIL:{pattern:new RegExp('^(([^<>()\\[\\]\\\\.,;:\\s@"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@"]+)*)|(".+"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$'),errorCode:"Email"},PHONE_NUMBER:{pattern:/(?:^((\+(?=[0-9]{1,4}))?))[0-9]{5,14}$/,errorCode:"PhoneNumber"}},$v="EMAIL_ADDRESS",ey="PHONE_NUMBER",ty="OTHER",ny="consentUnchecked",iy={INPUT:"INPUT",SELECT:"SELECT"},ry="text",oy="checkbox";function sy(e){return Object.keys(iy).includes(e.tagName)}function ay(e){const t=function(e){const t=[],{minLength:n,maxLength:i,inputType:r}=e.dataset;let o;switch(r){case ty:n&&t.push({type:Vv,MinLength:n}),i&&t.push({type:Kv,MaxLength:i});break;case $v:t.push({type:Xv,RegexAllow:[Zv.EMAIL]});break;case ey:o=e.value.replace(/ /g,""),t.push({type:Xv,RegexAllow:[Zv.PHONE_NUMBER]})}return{value:o||e.value,ruleSet:t}}(e),n=t.value;return t.ruleSet.map((e=>((e,t)=>{const n=t.trim();if(e)switch(e.type){case Qv:if(0===n.length)return Qv;break;case Vv:if(n.length<e[Vv])return Vv;break;case Kv:if(n.length>e[Kv])return Kv;break;case Yv:for(let t=0;t<e[Yv].length;t++)if(e[Yv][t].pattern.test(n))return Yv+e[Yv][t].errorCode;break;case Xv:for(let t=0;t<e[Xv].length;t++)if(!e[Xv][t].pattern.test(n))return Xv+e[Xv][t].errorCode}})(e,n))).filter((e=>!!e))}function cy(e,t){return t&&!e?ny:null}const ly=(e,t)=>parseInt(t.split(e)[1]),uy=(e,t)=>t.split(e)[1];function dy(e,t){return document.querySelector("#".concat(e.id,"-strings")).dataset["str".concat(t)]}const hy=(e,t)=>({questionId:e,textQuestionAnswer:{answer:t}}),py=(e,t)=>({questionId:e,multipleChoiceAnswer:{options:[{index:t}]}}),fy=(e,t)=>({question:e,answerDetails:{options:[t]}});function my(e){const t=e.id+"_",n=t+"q",i=t+"c",r=Sa("hasDecoratedLeadGenFormData");return new Promise(((t,o)=>{const s=[];let a,c;const{urn:l,legalInfoUrn:u,leadType:d,associatedEntityUrn:h}=e.dataset;c=e.dataset.leadTrackingParams,c||(a=e.closest("[data-lead-tracking-params]"),c=a.dataset.leadTrackingParams);const p={formResponse:{adFormUrn:l,submittedAt:Date.now(),answers:[],consentResponses:[]},trackingUrl:c,trackingAction:"LEAD_FORM_CLICK"},f={associatedEntity:h,form:l,legalInfoUrn:u,leadType:d,formResponse:{answers:[],consentResponses:[]},leadTrackingParams:c,submittedAt:Date.now(),submitter:Sa("memberUrn")};return Array.from(e).filter(sy).forEach((e=>{let t;if(e.tagName===iy.SELECT)t=((e,t,n)=>{const i=n?uy(e,t.id):ly(e,t.id),r=t.selectedIndex;return{response:n?fy(i,r):py(i,r)}})(n,e,r),r?f.formResponse.answers.push(t.response):p.formResponse.answers.push(t.response);else if(e.type===ry)if(t=((e,t,n)=>{const i=n?uy(e,t.id):ly(e,t.id),r=ay(t);return 0!==r.length?{errors:r}:{response:n?(o=i,s=t.value,{question:o,answerDetails:{answer:s}}):hy(i,t.value)};var o,s})(n,e,r),t.response)r?f.formResponse.answers.push(t.response):p.formResponse.answers.push(t.response);else{const n=t.errors[0];s.push({element:e,errorType:n})}else e.type===oy&&(t=((e,t,n,i,r)=>{const o=ly(e,t),s=cy(n,i);return s?{errors:s}:{response:{[r?"consent":"consentId"]:o,accepted:n}}})(i,e.id,e.checked,e.required,r),t.response?r?f.formResponse.consentResponses.push(t.response):p.formResponse.consentResponses.push(t.response):s.push({element:e,errorType:t.errors}))})),0===s.length?t(r?f:p):o(s)}))}const gy=".lead-gen-input-container",vy='input[data-input-type="EMAIL_ADDRESS"]',yy=".error-text",by="input-error",Ey="checkbox-input",_y="inputbox-input",wy="hidden",Sy="aria-invalid",Ty="role",Cy="click";function ky(e){const t=this.formEl.querySelector(vy);let n=(null==t?void 0:t.value)||"";return function(i){this._isError(i.currentTarget)||n===i.currentTarget.value||(n=i.currentTarget.value,ee("".concat(e,"?email=").concat(n)).then((e=>{let n;try{var i;n=null===(i=JSON.parse(e.responseText))||void 0===i?void 0:i.isEmailValid}catch(e){}n?this._hideError(t):this._setAndShowError(t,Jv)})))}.bind(this)}class Ly{constructor(e){let{isLivePreview:t=!1,triggerByOutletEl:n=!0,customEmailValidationFn:i,customEmailValidationPath:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("containerEl is not present");Wv(),Dv(),xo("form-modal-description__content-truncated",".form-modal-description__btn-truncation",e),this.containerEl=e,this.formEl=e.querySelector("form");const o=e.querySelector(".lead-gen-modal");if(this.formContentEl=e.querySelector(".lead-gen-form-modal-content"),this.postSubmissionInfoEl=e.querySelector(".lead-gen-form-modal-post-subimssion"),this.submitBtn=this.formEl.querySelector(".submit-btn"),this.modal=new wc(o,{triggerByOutletEl:n,shouldMoveToTopContainer:!1}),!i&&!r)throw new Error("customEmailValidationFn or customEmailValidationPath is not present");this.customEmailValidationFn=i||ky.bind(this)(r),t?this.showForm():this._bindEvents()}showForm(){this.modal.open()}hideForm(){this.modal.close()}showPostSubmissionInfo(){this.formContentEl.classList.add(wy),this.postSubmissionInfoEl.classList.remove(wy)}enableSubmit(){this.submitBtn.removeAttribute("disabled")}_clearFormErrors(){Array.from(this.formEl).filter(sy).map((e=>this._hideError(e)))}_submitForm(){this._clearFormErrors(),my(this.formEl).then((e=>{m(this.containerEl,this.constructor.LEAD_GEN_SUBMIT_EVENT,e),this.submitBtn.disabled=!0,this.persisFormOnSubmit||this.hideForm()})).catch((e=>{e.forEach((e=>this._setAndShowError(e.element,e.errorType)));const t=e[0];if(t){t.element.focus();H(dy(t.element,t.errorType),j.ASSERTIVE)}}))}_hideError(e){if(e){const t=e.closest(gy),n=t.querySelector(yy);wo(n),t.classList.remove(by),e.removeAttribute(Sy),n.removeAttribute(Ty)}}_isError(e){var t;return null==e||null===(t=e.closest(gy))||void 0===t?void 0:t.classList.contains(by)}_setAndShowError(e,t){if(e){const n=dy(e,t),i=e.closest(gy),r=i.querySelector(yy);r.innerText=n,So(r),i.classList.add(by),r.setAttribute(Ty,"alert"),e.setAttribute(Sy,"true")}}_handleInputError(e){let t;if(this._hideError(e),e.type===oy)t=cy(e.checked,e.required);else if(e.type===ry){const n=ay(e);n&&n.length&&(t=n[0])}t&&this._setAndShowError(e,t)}_bindEvents(){const e=this.formEl.querySelector(".submit-btn"),t=this.formEl.querySelector(vy);this.formEl.addEventListener(Cy,(e=>{e.target.classList.contains(Ey)&&this._handleInputError(e.target)})),this.formEl.addEventListener(Fv,(e=>{this._handleInputError(e.target)})),this.formEl.addEventListener("keyup",(e=>{e.target.classList.contains(_y)&&this._handleInputError(e.target)})),this.customEmailValidationFn&&null!=t&&t.dataset.freemiumValidationRequired&&t.addEventListener("focusout",this.customEmailValidationFn),e.addEventListener(Cy,(e=>{e.preventDefault(),e.stopPropagation(),this._submitForm()}))}}Oe(Ly,"LEAD_GEN_SUBMIT_EVENT","FormModal:LeadGen:submit");const Iy="[data-feed-control]",Ay='[data-id="main-feed-card"]';function xy(e,t,n){var i,r;const o=null==e||null===(i=e.target)||void 0===i?void 0:i.closest(Iy),s=null==e||null===(r=e.target)||void 0===r?void 0:r.closest(Ay),a=t||(null==s?void 0:s.dataset);if(!o&&!n||!a)return;const c=xe(xe({},null==o?void 0:o.dataset),n),{feedControl:l,feedActionCategory:u,feedActionType:d}=c,{activityUrn:h,feedItemTrackingId:p}=a;window.tracking&&window.tracking.then((e=>{let t;const n=Sa("trackingModuleKey"),i=E(document),r=Vr(i);t=xe({actionCategory:(null==u?void 0:u.toUpperCase())||"",actionType:d,controlUrn:Ov(l,i),updateUrn:h,trackingId:p||e.generateBase64UUID(),moduleKey:n||"lite-feed:phone",requestId:""},r);try{var o,s;(null===(o=t)||void 0===o?void 0:o.actionCategory)&&(null===(s=t)||void 0===s?void 0:s.actionType)&&e.fireTrackingEvent("FeedActionEvent",t)}catch(e){}}))}var Oy=Object.freeze({__proto__:null,fireFeedActionEvent:xy});class Ry{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,{onSelect:t=(()=>{}),onClipboardCopy:n=(()=>{})}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.onSelect=t,this.onClipboardCopy=n;const i=Sa("share-via-text"),r=Sa("share-via-url");if(this.shareData={url:r},i&&(this.shareData.text=i),this.shareViaActionEl=e.querySelector("[data-share-via-action]"),!this.shareViaActionEl)throw new Error('Element with "data-share-via-action" attribute cannot be found');this.shareViaModalEl=e.querySelector(".share-via-modal"),this.shareViaModalEl&&(this.shareViaModal=new ro(this.shareViaModalEl)),this.bindEvents()}modalClickHandler(t){const n=e(t.target,"[data-action-copy-to-clipboard]");n?(this.onSelect(t,n),this.copyToClipboard.call(this,t)):this.onSelect(t,e(t.target,".share-via-action")),this.shareViaModal.close()}share(){navigator.canShare&&navigator.canShare(this.shareData)?navigator.share(this.shareData):this.shareViaModal&&this.shareViaModal.open()}copyToClipboard(){navigator.clipboard.writeText(this.shareData.url).then((()=>{this.onClipboardCopy(!0)})).catch((e=>{this.onClipboardCopy(!1,e)}))}bindEvents(){this.shareViaActionEl.addEventListener("click",this.share.bind(this)),this.shareViaModalEl&&this.shareViaModalEl.addEventListener("click",this.modalClickHandler.bind(this))}}const Py="FOLLOW_ACTIVE",Ny="UNFOLLOW";class My{constructor(e,t){if(!e)throw Error("Missing FollowMutation endpoint");t&&(this.pemDegradationTrackingMetadata=t,this.isPemEnabled=!0),this.endpoint=e}execute(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{};return Ma({endpoint:this.endpoint,queryId:My.query,variables:{followState:e,to:t},pemDegradationTrackingMetadata:this.pemDegradationTrackingMetadata,isPemEnabled:this.isPemEnabled}).then((e=>{const{responseText:t}=e;n(JSON.parse(t).graphQL)})).catch(i)}}Oe(My,"query","cbed571fffd8cea15209aed8d44e6759");const Dy=Object.freeze({APPRECIATION:"APPRECIATION",ASSENT:"ASSENT",CELEBRATION:"CELEBRATION",EMPATHY:"EMPATHY",ENTERTAINMENT:"ENTERTAINMENT",INSPIRATION:"INSPIRATION",INTEREST:"INTEREST",LIKE:"LIKE",MAYBE:"MAYBE",PRAISE:"PRAISE",UNKNOWN:"UNKNOWN",USEFULNESS:"USEFULNESS"});Object.values(Dy);const Uy="CREATE",qy="DELETE",By="UPDATE";class Fy{constructor(e,t){if(!e)throw Error("Missing ReactionMutation endpoint");t&&(this.pemDegradationTrackingMetadata=t,this.isPemEnabled=!0),this.endpoint=e}execute(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:()=>{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>{};const o={endpoint:this.endpoint,queryId:Fy.query,variables:{entityUrn:t,action:n},pemDegradationTrackingMetadata:this.pemDegradationTrackingMetadata,isPemEnabled:this.isPemEnabled};return n!==Uy&&n!==By||(o.variables.reactionType=e),Ma(o).then((e=>{const{responseText:t}=e;i(JSON.parse(t).graphQL)})).catch(r)}}Oe(Fy,"query","070ee23fd6fb77f92ac08f964ae1df29");const jy="REACT",Hy="UNREACT",Gy=".reactions-menu",zy='[data-id="reactions-menu"]',Wy="[data-reaction-type]",Vy=".selected-reaction",Ky=".like-button-default",Yy="aria-pressed",Qy="aria-expanded",Xy="hidden",Jy="w-0",Zy="overflow-hidden",$y="click",eb="touchstart",tb="touchmove",nb="touchend";class ib{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"".concat(Gy,"__trigger"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body,{endpoint:n,beforeReaction:i,onReaction:r,pemDegradationTrackingMetadata:o,onReactionSuccess:s=(()=>{}),onReactionError:a=(()=>{}),shouldStopPropagation:c=!0,reactionsMenuPageViewEvent:l,fireLoggedInReactionTracking:u=!1,isContribution:d=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.triggerSelector=e,this.a11yTriggerSelector="".concat(e,"--a11y"),this.parentContainerElement=t,this._mutationInstance=new Fy(n,o),this.selectedReactionTemplate=t.querySelector("#selected-reaction"),!t.querySelector(zy))throw new Error("Cannot find ReactionsMenu template");this.beforeReaction=i,this.activeReactionMenuEl=null,this.onReaction=r,this.onReactionSuccess=s,this.onReactionError=a,this.shouldStopPropagation=c,this.reactionsMenuPageViewEvent=l,this.triggers=t.querySelectorAll(this.triggerSelector),this.reactionsMenuClickHandler=this.handleReactionsClick.bind(this),this.isTouchActive=!1,this.isA11yTriggerActive=!1,this.fireLoggedInReactionTracking=u,this.isContribution=d,this.bindEvents()}bindEvents(){this.triggers.forEach((e=>{K()?(e.addEventListener(eb,(e=>{this.longPressTimer=setTimeout((()=>{e.preventDefault(),this.showReactions(e),this.isA11yTriggerActive=!1}),334)})),e.addEventListener(nb,(()=>{clearTimeout(this.longPressTimer)}))):(e.addEventListener("mouseenter",p(this.showReactions.bind(this),300)),e.addEventListener("mouseleave",p((()=>{!e.parentElement.matches(":hover")&&this.hideReactions.call(this)}),500)))})),this.parentContainerElement.addEventListener($y,(e=>{if(e.target.closest(this.triggerSelector)){var t,n;const i=this.getContainerElement(e.target);null===(t=this.beforeReaction)||void 0===t||t.call(this,e),this.fireLoggedInReactionTracking&&this.fireReactionTracking(e),this.toggleReaction(i);const r=this.getCurrentReactionType(i);null===(n=this.onReaction)||void 0===n||n.call(this,e,r,this.getParentUrn(i)),this._mutationInstance.execute(r,this.getParentUrn(i),r?Uy:qy,(t=>{this.onReactionSuccess(t,e)}),(e=>{this.onReactionError(e)}))}else e.target.closest(this.a11yTriggerSelector)&&(e.stopPropagation(),this.isA11yTriggerActive=!0,this.isReactionMenuVisible()?this.hideReactions(!1):this.showReactions(e))})),this.parentContainerElement.querySelectorAll(this.a11yTriggerSelector).forEach((e=>{e.addEventListener("focus",(e=>{e.target.classList.remove(Jy)})),e.addEventListener("blur",(e=>{!this.getContainerElement(e.target).querySelector(zy)&&e.target.classList.add(Jy)}))}))}handleFocusForReactionEl(e){e?(e.focus(),e.classList.add("outline-none")):document.activeElement.blur()}getTouchEventTarget(t){const n=t.changedTouches[0];return e(document.elementFromPoint(n.clientX,n.clientY),Wy)}showReactions(e){if(!this.isReactionMenuVisible()){var t,n;let i=e.target;if(!e.target.classList.contains("reaction-menu")&&(i=this.getContainerElement(e.target),!i))return;this.renderReactionsMenu(i),this.reactionsMenuPageViewEvent&&(null===(t=window.tracking)||void 0===t||t.then((e=>{Wr(e,"half",this.reactionsMenuPageViewEvent)}))),K()&&(this.isTouchActive=!0,this.isA11yTriggerActive||(document.body.classList.add(Zy),this.handleFocusForReactionEl(this.getTouchEventTarget(e)),this.documentTouchStartHandlerFn=this.documentTouchStartHandlerFn||this.documentTouchStartHandler.bind(this),this.documentTouchEndHandlerFn=this.documentTouchEndHandlerFn||this.documentTouchEndHandler.bind(this),this.parentContainerElementTouchMoveHandlerFn=this.parentContainerElementTouchMoveHandlerFn||this.parentContainerElementTouchMoveHandler.bind(this),this.parentContainerElementTouchEndHandlerFn=this.parentContainerElementTouchEndHandlerFn||this.parentContainerElementTouchEndHandler.bind(this),document.addEventListener(eb,this.documentTouchStartHandlerFn),document.addEventListener(nb,this.documentTouchEndHandlerFn),this.parentContainerElement.addEventListener(tb,this.parentContainerElementTouchMoveHandlerFn),this.parentContainerElement.addEventListener(nb,this.parentContainerElementTouchEndHandlerFn))),this.documentClickHandlerFn=this.documentClickHandlerFn||this.hideReactions.bind(this),this.parentContainerEl!==document.body&&document.addEventListener($y,this.documentClickHandlerFn),null===(n=this.a11yTriggerElement())||void 0===n||n.setAttribute(Qy,"true")}}hideReactions(){var e;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.isReactionMenuVisible()){var n,i;if(this.activeReactionMenuEl.removeEventListener($y,this.reactionsMenuClickHandler),t)null===(n=this.getContainerElement(this.activeReactionMenuEl))||void 0===n||null===(i=n.querySelector(this.a11yTriggerSelector))||void 0===i||i.classList.add(Jy);this.activeReactionMenuEl.classList.add(Xy),this.activeReactionMenuEl=null}K()&&!this.isA11yTriggerActive&&(document.body.classList.remove(Zy),document.removeEventListener(eb,this.documentTouchStartHandlerFn),document.removeEventListener(nb,this.documentTouchEndHandlerFn),this.parentContainerElement.removeEventListener(tb,this.parentContainerElementTouchMoveHandlerFn),this.parentContainerElement.removeEventListener(nb,this.parentContainerElementTouchEndHandlerFn)),this.isA11yTriggerActive=!1,this.parentContainerEl!==document.body&&document.removeEventListener($y,this.documentClickHandlerFn),null===(e=this.a11yTriggerElement())||void 0===e||e.setAttribute(Qy,"false")}isReactionMenuVisible(){return Boolean(this.activeReactionMenuEl&&!this.activeReactionMenuEl.classList.contains(Xy))}getActionType(e,t){return e&&t?t!==e?By:null:t?Uy:qy}fireReactionTracking(e){let t=e.target;if("touchend"===e.type){const n={},i=e.changedTouches[0],r=document.elementFromPoint(i.clientX,i.clientY);t=null==r?void 0:r.closest("[data-reaction-type]"),n.target=t,xy(n)}else xy(e);e.stopPropagation()}handleReactionsClick(e){var t,n;let i;var r;e.type===nb?i=this.getTouchEventTarget(e):i=null===(r=e.target)||void 0===r?void 0:r.closest(Wy);if(null===(t=i)||void 0===t||null===(n=t.dataset)||void 0===n||!n.reactionType)return;const o=this.getContainerElement(e.target),s=this.getCurrentReactionType(o),a=this.getParentUrn(o);let c,l;if(i){var u,d,h,p;if(null===(u=this.beforeReaction)||void 0===u||u.call(this,e),this.fireLoggedInReactionTracking&&this.fireReactionTracking(e),this.setReaction(i.dataset.reactionType,o),null===(d=this.getContainerElement(o))||void 0===d||null===(h=d.querySelector(this.triggerSelector))||void 0===h||h.focus(),c=this.getCurrentReactionType(o),l=this.getActionType(s,c),l)null===(p=this.onReaction)||void 0===p||p.call(this,e,c,a),this._mutationInstance.execute(c,this.getParentUrn(o),l,(t=>{this.onReactionSuccess(t,e)}),(e=>{this.onReactionError(e)}));this.shouldStopPropagation&&e.stopPropagation()}}documentTouchStartHandler(e){e.preventDefault(),e.target.closest(zy)&&e.target.closest(this.triggerSelector)?this.isTouchActive=!0:this.isTouchActive=!1}documentTouchMoveHandler(e){e.preventDefault()}documentTouchEndHandler(e){e.preventDefault(),!this.isTouchActive&&this.isReactionMenuVisible()&&!this.isA11yTriggerActive&&this.hideReactions()}parentContainerElementTouchEndHandler(e){e.stopPropagation(),e.preventDefault(),this.reactionsMenuClickHandler(e),!this.isTouchActive&&this.isReactionMenuVisible()&&!this.isA11yTriggerActive&&this.hideReactions()}parentContainerElementTouchMoveHandler(e){e.stopPropagation(),e.preventDefault(),this.isTouchActive=!0,this.handleFocusForReactionEl(this.getTouchEventTarget(e))}renderReactionsMenu(e){if(!e)return;const t=e.querySelector(zy);t.classList.remove(Xy),t.addEventListener($y,this.reactionsMenuClickHandler),this.activeReactionMenuEl=t}maybeHideReactions(t){e(t.target,Wy)||this.hideReactions()}setReaction(e,t){var n;const i="".concat(Vy,"--").concat(e),r=this.selectedReactionTemplate.content.querySelector(i).cloneNode(!0),o=t.querySelector(Vy),s=t.querySelector(Ky);o?o.remove():s.classList.add(Xy),t.querySelector(this.triggerSelector).setAttribute(Yy,"true"),r.classList.add("selected-reaction"),s.parentElement.insertBefore(r,s),null===(n=window.lazyloader)||void 0===n||n.then((e=>e.refreshLoader())),this.postReactionChangeCallback(e,t)}toggleReaction(e){const t=e.querySelector(Vy),n=e.querySelector(Ky);if(t)return t.remove(),e.querySelector(this.triggerSelector).setAttribute(Yy,"false"),n.classList.remove(Xy),void this.postReactionChangeCallback("",e);this.setReaction(Dy.LIKE,e)}postReactionChangeCallback(e,t){const n=(e?"un".concat(e):"".concat(Dy.LIKE)).toLowerCase()+(this.isContribution?"Contribution":"Update");this.hideReactions(),t.querySelector(this.triggerSelector).setAttribute("data-social-reaction",e),t.querySelector(this.triggerSelector).setAttribute("data-feed-action-type",n),t.querySelector(this.triggerSelector).setAttribute("data-feed-action-category",e?Hy:jy)}getCurrentReactionType(e){return e.querySelector(this.triggerSelector).dataset.socialReaction}getParentUrn(e){return e.querySelector(this.triggerSelector).dataset.parentUrn}getContainerElement(e){return e.closest(Gy)}getContainerElementFromParentUrn(e){const t=this.parentContainerElement.querySelector("".concat(this.triggerSelector,'[data-parent-urn="').concat(e,'"]'));return null==t?void 0:t.closest(Gy)}a11yTriggerElement(){return this.parentContainerElement.querySelector(this.a11yTriggerSelector)}}class rb{constructor(e){let{endpoint:t,errorCallback:n=(()=>{}),globalWindow:i=window,onFollowSuccess:r=(()=>{}),onUnfollowSuccess:o=(()=>{}),pemDegradationTrackingMetadata:s,unfollowPemDegradationTrackingMetadata:a,pageKey:c,unfollowPageKey:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("No element passed in");this._el=e,this._errorCallback=n,this._successCallbackForFollow=r,this._successCallbackForUnfollow=o,this._window=i,this._followButtonEl=e.querySelector(".follow-button__follow"),this._followingButtonEl=e.querySelector(".follow-button__following"),this._mutationInstance=new My(t,s,c),this._unfollowMutationInstance=new My(t,a,l),this._entityUrn=e.getAttribute("data-entity-urn"),this._initEventListeners()}_initEventListeners(){this._followButtonEl.addEventListener("click",(e=>{e.preventDefault(),this._showFollowingButton(),this._mutationInstance.execute(Py,this._entityUrn,(e=>{this._successCallbackForFollow(e)}),(e=>{this._hideFollowingButton(),this._errorCallback(e)}))})),this._followingButtonEl.addEventListener("click",(e=>{e.preventDefault(),this._hideFollowingButton(),this._unfollowMutationInstance.execute(Ny,this._entityUrn,(e=>{this._successCallbackForUnfollow(e)}),(e=>{this._showFollowingButton(),this._errorCallback(e)}))}))}_showFollowingButton(){var e,t,n,i;null===(e=this._followButtonEl)||void 0===e||null===(t=e.classList)||void 0===t||t.add("hidden"),null===(n=this._followingButtonEl)||void 0===n||null===(i=n.classList)||void 0===i||i.remove("hidden"),this._followingButtonEl.focus()}_hideFollowingButton(){var e,t,n,i;null===(e=this._followingButtonEl)||void 0===e||null===(t=e.classList)||void 0===t||t.add("hidden"),null===(n=this._followButtonEl)||void 0===n||null===(i=n.classList)||void 0===i||i.remove("hidden"),this._followButtonEl.focus()}}const ob=Object.freeze({NEW_COMMENT_CREATE_EVENT:"Comment:newComment:create",NEW_COMMENT_SUCCESS_EVENT:"Comment:newComment:success",NEW_COMMENT_FAIL_EVENT:"Comment:newComment:fail"});class sb{constructor(){let{commentContainerClass:e="comments__container",commentBoxClass:t="comments__comment-text",postCommentBtnClass:n="comments__post-btn",templateSelector:i="#comment-template",templateSelectors:r={message:".comment__message",commentText:".comments__comment-text",postButton:".comments__post-btn"}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.commentContainerClass=e,this.commentContainers=document.querySelectorAll(".".concat(e)),this.commentBoxClass=t,this.commentTextBoxen=document.querySelectorAll(".".concat(e," .").concat(t)),this.postCommentBtnClass=n,this.templateSelector=i,this.templateSelectors=r,this.containerMap={},this.bindEvents()}bindEvents(){this.commentContainers.forEach((e=>{e.addEventListener("click",this.postComment.bind(this))})),this.commentTextBoxen&&this.commentTextBoxen.forEach((e=>{e.addEventListener("input",this.enableDisablePostButton.bind(this))})),document.body.addEventListener(ob.NEW_COMMENT_SUCCESS_EVENT,this.renderNewComment.bind(this))}postComment(e){if(e.target.classList.contains(this.postCommentBtnClass)){const t=e.target.closest(".".concat(this.commentContainerClass));if(t){const n=t.querySelector(".".concat(this.commentBoxClass));if(n){const t=n.dataset.threadUrn;t in this.containerMap||(this.containerMap[t]=e.currentTarget),m(document.body,ob.NEW_COMMENT_CREATE_EVENT,{comment:n.value,threadUrn:t})}}}}enableDisablePostButton(e){const t=e.target,n=t.value.trim().length>0;for(let e=t.nextElementSibling;e;e=e.nextElementSibling)e.classList.contains(this.postCommentBtnClass)&&e.classList.toggle("hidden",!n)}renderNewComment(e){const{entityUrn:t,graphqlResponse:n}=e.detail;if(this.containerMap[t]){const e=this.containerMap[t],i=document.querySelector(this.templateSelector).content.firstElementChild.cloneNode(!0);Bs(i.querySelector(this.templateSelectors.message),n.comment.message[0].text),e.parentElement.insertBefore(i,e.nextSibling),e.querySelector(this.templateSelectors.commentText).value="",e.querySelector(this.templateSelectors.postButton).classList.add("hidden"),this.refreshLazyLoader()}}refreshLazyLoader(){window.lazyloader&&window.lazyloader.then((e=>{e.refreshLoader()}))}}const ab="Comment:newComment:success",cb="Comment:deleteComment:success",lb="Reaction:newReaction:success",ub="Reaction:deleteReaction:success";class db{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:'[data-id="social-actions__reactions"]',t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:'[data-id="social-actions__comments"]';this.reactionsSelector=e,this.commentsSelector=t,this.bindEvents()}bindEvents(){this.commentCountEventHandler(ab),this.commentCountEventHandler(cb),this.reactionCountEventHandler(lb),this.reactionCountEventHandler(ub)}commentCountEventHandler(e){document.body.addEventListener(e,(t=>{const{entityUrn:n}=t.detail;if(n){const t=document.querySelectorAll("".concat(this.commentsSelector,'[data-entity-urn="').concat(n,'"]'));null!=t&&t.length&&t.forEach((t=>{this.maybeInitPluralRules(t);let n=parseInt(t.dataset.numComments,10);e===ab?n+=1:e===cb&&n&&(n-=1);const i=this.plRules.select(n),r=this.plMap[i];t.dataset.numComments=n,t.textContent=n?r.replace("%numComments%",(new Intl.NumberFormat).format(n)):"",n>0&&!t.classList.contains("my-1")?t.classList.add("my-1"):!n&&t.classList.contains("my-1")&&t.classList.remove("my-1")}))}}))}reactionCountEventHandler(e){document.body.addEventListener(e,(t=>{const{entityUrn:n}=t.detail,{reactionType:i}=t.detail;if(n){const t=document.querySelectorAll("".concat(this.reactionsSelector,'[data-entity-urn="').concat(n,'"]'));null!=t&&t.length&&t.forEach((t=>{this.maybeInitPluralRules(t);let r=parseInt(t.dataset.numReactions,10);e!==lb||t.dataset.isSelfReaction?e===ub&&r&&(r-=1,delete t.dataset.isSelfReaction):(r+=1,t.dataset.isSelfReaction="true");const o=this.plRules.select(r),s=this.plMap[o];t.dataset.numReactions=r,t.querySelector("span").textContent=r?s.replace("%numReactions%",(new Intl.NumberFormat).format(r)):"";const a=t.querySelectorAll("img");if(e===lb&&a.length<3&&!t.querySelector('img[data-reaction-type="'.concat(i,'"]'))){const e=t.querySelector("span"),o=document.createElement("img");if(o.dataset.delayedUrl=Sa("social-actions__reaction-image-".concat(i)),o.dataset.reactionType=i,o.dataset.singleSelfReaction="true",o.setAttribute("height","16px"),o.setAttribute("width","16px"),e.parentElement.insertBefore(o,e),1===r){const e=t.parentElement.querySelector("".concat(this.commentsSelector,'[data-entity-urn="').concat(n,'"]'));"true"!==(null==e?void 0:e.dataset.separateCtas)&&(null==e||e.classList.add("before:middot"))}window.lazyloader.then((e=>e.refreshLoader()))}else if(e===ub){const e=t.querySelector("[data-single-self-reaction]");if(null==e||e.remove(),0===r){const e=t.parentElement.querySelector("".concat(this.commentsSelector,'[data-entity-urn="').concat(n,'"]'));"true"!==(null==e?void 0:e.dataset.separateCtas)&&(null==e||e.classList.remove("before:middot"))}}r>0&&!t.classList.contains("my-1")?t.classList.add("my-1"):!r&&t.classList.contains("my-1")&&t.classList.remove("my-1")}))}}))}maybeInitPluralRules(e){this.plRules=new Intl.PluralRules,this.plMap={one:e.dataset.singular,other:e.dataset.plural}}}class hb{constructor(e){if(!e)throw new Error("No element passed into to full lockout component");this.el=e,this.moreArticlesEl=e.querySelector(".more-articles__slide-list"),this.moreArticlesEl&&new Do(this.moreArticlesEl)}}class pb extends HTMLElement{connectedCallback(){this.update(),this.syncA11yCaption(),this.setAttribute("aria-hidden","true"),handleLargeIcon(this)}disconnectedCallback(){this.removeA11yCaption()}static get observedAttributes(){return["a11y-text","type","class"]}attributeChangedCallback(e){ATTRS_TRIGGERING_UPDATE.indexOf(e)>-1&&this.update(),"a11y-text"===e&&this.syncA11yCaption(),"type"!==e&&"class"!==e||handleLargeIcon(this)}update(){const e=this.getAttribute("type"),t=this.getAttribute("category")||"ui",n="true"===this.dataset.inlineSvg;(e||t)&&(n||setIcon(this,t,e))}installA11yCaption(){const{parentNode:e,a11yCaption:t}=this;e&&t&&!t.parentNode&&e.insertBefore(t,this)}removeA11yCaption(){const{a11yCaption:e}=this;e&&e.parentNode&&e.parentNode.removeChild(e),this.a11yCaption=null}syncA11yCaption(){const{a11yCaption:e}=this,t=this.getAttribute("a11y-text");t?e?e.textContent=t:(this.a11yCaption=(e=>{const t=document.createElement("span");return t.setAttribute("class","a11y-text"),t.textContent=e,t})(t),this.installA11yCaption()):this.removeA11yCaption()}}const fb="light";fb.toUpperCase();const mb={PRIMARY_ACTION:"PRIMARY_ACTION",SECONDARY_ACTION:"SECONDARY_ACTION",SKIP:"SKIP",DISMISS:"DISMISS"},gb={PAGE_IMPRESSION:"PAGE_IMPRESSION",WIDGET_IMPRESSION:"WIDGET_IMPRESSION",WIDGET_ACTION:"WIDGET_ACTION"},vb={LEGO_PAGE_IMPRESSION_EVENT:"/mwlite/lego/sendPageImpressionEvent/",LEGO_WIDGET_IMPRESSION_EVENT:"/mwlite/lego/sendWidgetImpressionEvent/",LEGO_WIDGET_ACTION_EVENT:"/mwlite/lego/sendWidgetActionEvent/"};function yb(e,t){ee(e,{method:"POST",postData:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).catch((()=>{}))}var bb=Object.freeze({__proto__:null,ACTION_CATEGORY:mb,EVENT_TYPE:gb,LEGO_TRACKING_URLS:vb,fireLegoEvent:yb});class Eb extends Da{constructor(){super(...arguments)}execute(e){let{eventType:t,trackingToken:n,widgetActionCategory:i}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:Eb.query,variables:{eventType:t,trackingToken:n,widgetActionCategory:i},successCallback:r,failureCallback:o})}}Oe(Eb,"query","48f4c814e38d5689b7c83a29c9676972");const _b="#share-modal .modal-content .reshare-section",wb="data-post-visibility",Sb='input[name="share-with"]:checked',Tb="share-modal",Cb="#share-modal",kb="close",Lb="click",Ib="data-control-action",Ab="keydown",xb=document.querySelector("#share-modal .textarea"),Ob=document.querySelector(".image-preview-wrapper"),Rb=document.querySelector(_b),Pb=document.querySelector(".post-button"),Nb=document.querySelector("#comments-enabled"),Mb=document.querySelector("#share-with-public"),Db=document.querySelector(".post-settings-wrapper"),Ub=document.querySelector(Sb),qb=document.querySelector("#share-modal .close-button"),Bb=document.querySelector("#visibility-settings-modal"),Fb=document.querySelector("#visibility-header-back .close-button"),jb=document.querySelector("#visibility-settings-modal .settings-list-wrapper"),Hb=document.querySelector("#discard-post-modal-wrapper"),Gb=document.querySelector(Cb),zb=document.querySelector(".modal-spinner"),Wb=document.querySelector("#share-modal .textarea"),Vb=document.querySelector("#share-with-groups");document.querySelector("#share-group-urn");const Kb=document.querySelector("#share-with-network");class Yb extends wc{updatePostButtonStatus(){var e;const t=null===(e=xb.innerText)||void 0===e?void 0:e.trim().length,n="loaded"===Ob.getAttribute("data-image-load-state"),i=Rb.children.length;t||n||i?Lo(Pb):ko(Pb)}clearModalContentBase(){Rb&&(Rb.textContent=""),xb&&(xb.textContent=""),Nb&&(Nb.checked=!0),Mb&&(Mb.checked=!0,Db.setAttribute(wb,Ub.value))}historyBackClickHandler(){window.history.state!==Tb&&"typeahead"!==window.history.state&&(window.history.pushState(Tb,"show-share-modal",Cb),qb.click())}bindVisibilityModalEvents(){function e(e){const t=e.target,n=t.closest("[".concat(Ib,"]"))||t.querySelector("[".concat(Ib,"]"));n&&window.tracking.then((e=>{e.fireControlInteractionEvent(n.getAttribute(Ib))}))}Bb.addEventListener(kb,(()=>{Db.setAttribute(wb,document.querySelector(Sb).value)})),Fb.addEventListener(Lb,(()=>window.history.back())),jb.addEventListener(Lb,(t=>e(t))),jb.addEventListener(Ab,(t=>{if(13===t.keyCode){const n=t.target.querySelector("input[type=radio]");n&&(n.checked=!0,e(t))}}))}discardPostConfirmationModalPrimaryActionCallback(e){let{enableHistoryBack:t}=e;this.close({enableHistoryBack:t}),Io()&&"discard-post-modal"===window.history.state&&setTimeout((()=>{window.history.back()}),100)}postSettingsClickHandler(){window.tracking.then((e=>{e.fireControlInteractionEvent("post-settings")})),this.visibilitySettingsModal.open()}}class Qb extends Yb{constructor(e,t){let{endpoint:n="",enablePageViewTracking:i=!1,shouldHideModal:r=(()=>!1),triggerByOutletEl:o=!1,pushState:s=!1,historyUpdateUrl:a}=t;super(e,{enablePageViewTracking:i,shouldHideModal:r,triggerByOutletEl:o,pushState:s}),this.el=e,this.postData={},this.endpoint=n,this.historyUpdateUrl=a,this.postUrn=Sa("ugcPostUrn"),this.openShareModalByLink=this._checkIfOpenShareModalByLink(),this.bindPublishingShareEvents(),this.visibilitySettingsModal=new wc(Bb,{triggerByOutletEl:!1}),this.handleOpenByUrl()}bindPublishingShareEvents(){this.shareTextEvents(),this.bindShareModalEvents(),this.bindVisibilityModalEvents()}_checkIfOpenShareModalByLink(){const e=new URL(location.href);return!0===Boolean(e.searchParams.get("openShareModal"))}handleOpenByUrl(){this.openShareModalByLink&&this.open()}shareTextEvents(){const e=p(this.updatePostButtonStatus,300);Wb.addEventListener("input",e)}bindShareModalEvents(){const e=new oh(Hb,this.discardPostConfirmationModalPrimaryActionCallback.bind(this,{enableHistoryBack:!this.openShareModalByLink}),(()=>{}),{enablePageViewTracking:!0,pageKey:"article_discard_confirmation",triggerByOutletEl:!1});Gb.addEventListener("open",(()=>{xb.focus()})),Gb.addEventListener(kb,(()=>{this.clearModalContentBase(),wo(zb)})),Pb.addEventListener(Lb,(()=>{this.processPostData()})),qb.addEventListener(Lb,(()=>{Pb.disabled?this.close():e.modal.open()})),Db.addEventListener(Lb,this.postSettingsClickHandler.bind(this)),Db.addEventListener(Ab,(e=>{13===e.keyCode&&this.postSettingsClickHandler.apply(this)}))}open(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{defaultText:n}=t;this.historyUpdateUrl&&window.history.replaceState({},document.title,this.historyUpdateUrl),super.open(),this._checkIfOpenShareModalByLink()&&this._removeShareParams(),this.renderShareArticleShareSection(),Ao()&&window.scrollTo(0,0),n&&(Wb.textContent=n),this.shareData={},this.historyUpdateUrl&&window.history.replaceState({},document.title,this.historyUpdateUrl),this.isNewPost=!1,this.postUrn&&(this.shareData.reshareUrn=this.postUrn,this.shareData.attributedShareUrn=this.postUrn),null===(e=window.lazyloader)||void 0===e||e.then((e=>{e.refreshLoader()})),this.updatePostButtonStatus()}renderShareArticleShareSection(){const e=this.el.querySelector(_b);e.children.length?this.shareArticleNodeChild=e.children[0].cloneNode(!0):e.appendChild(this.shareArticleNodeChild)}composePostData(){this.shareData.text=Wb.textContent,this.shareData.visibility="PUBLIC",Vb&&(this.shareData.visibility="CONTAINER",this.shareData.containerEntity=Vb.value),Kb.checked&&(this.shareData.visibility="CONNECTIONS")}processPostData(){So(zb),this.composePostData(),Ma({endpoint:this.endpoint,queryId:Qb.query,variables:this.shareData}).then((e=>{var t,n;200!==e.status&&Promise.reject();const i=(null===(t=JSON.parse(null==e?void 0:e.responseText).graphQL)||void 0===t||null===(n=t.createPost)||void 0===n?void 0:n.activityUrn)||Promise.reject();window.tracking.then((e=>{Wr(e,"ajax","post_success_page_key")})),xv().trigger("success",Sa("postSuccessMessage"),"post-success-toast-dismiss",{url:"/feed/update/"+i,trk:"share-post-success",text:Sa("postSuccessViewPost"),target:Av}),this.close()})).catch((()=>{window.tracking.then((e=>{Wr(e,"ajax","post_failure_page_key")})),xv().trigger("error",Sa("postFailureMessage"),"post-error-toast-dismiss"),this.close()}))}close(){super.close({enableHistoryBack:!this.openShareModalByLink})}_removeShareParams(){var e;const t=new URL(window.location.href);null===(e=t.searchParams)||void 0===e||e.delete("openShareModal"),window.history.pushState({},document.title,t.toString())}}Oe(Qb,"query","971e319c05beaf333e94125db8c4f942");const Xb="send-connection-invite",Jb="follow",Zb="unfollow",$b="Lite-feed",eE={[Xb]:[{degradationKey:"failed-to-invite"}],[Jb]:[{degradationKey:"failed-to-follow"}],[Zb]:[{degradationKey:"failed-to-unfollow"}]};uh({featureName:Xb,productName:$b,featureMappingToDegradationConfig:eE}),uh({featureName:Jb,productName:$b,featureMappingToDegradationConfig:eE}),uh({featureName:Zb,productName:$b,featureMappingToDegradationConfig:eE});class tE extends Da{constructor(){super(...arguments)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:tE.query,variables:{inviteeVanityName:e},successCallback:t,failureCallback:n})}}Oe(tE,"query","71a5ef30bcb1e84ab5a2b77850d4bb1e");class nE extends Da{constructor(){super(...arguments)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:nE.query,variables:{skills:e},successCallback:t,failureCallback:n})}}Oe(nE,"query","a628cd3be2c138c07fc69c2413b23fb6");class iE extends Da{constructor(){super(...arguments)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:iE.query,variables:{skills:e},successCallback:t,failureCallback:n})}}Oe(iE,"query","a0ff03a6b1cbe44862cb2054f0612078");class rE extends Da{constructor(){super(...arguments)}execute(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:rE.query,variables:{alertChannel:e.alertChannel||"EMAIL",alertFrequency:e.alertFrequency||"DAILY",creationChannel:e.creationChannel||"ONBOARD",searchParams:e.searchParams},successCallback:t,failureCallback:n})}}Oe(rE,"query","ad184ece0303620a9753eca249efd99f");class oE extends Da{constructor(){super(...arguments)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:oE.query,variables:{updateProfilePictureInput:e},successCallback:t,failureCallback:n})}}Oe(oE,"query","7edd5b8a4513caf8180a64ecde871630");class sE extends Da{constructor(){super(...arguments)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:sE.query,variables:{updateSettingsResponseDataFetcherInput:{type:"SHOW_PICTURE_SETTING",valueString:e}},successCallback:t,failureCallback:n})}}Oe(sE,"query","97ceca0bcbbf3fd6d744083b4de0a202");document.querySelector.bind(document);class aE extends Da{constructor(){super(...arguments)}execute(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:()=>{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};return this.executeAction({queryId:aE.query,variables:{digitalmediaAssetUrn:e},successCallback:t,failureCallback:n})}}Oe(aE,"query","85c85c121bf7eaabd2388b9143f94546");const cE={legoTrackingUtils:bb,getPageInstance:Yr,getEventBody:Vr,firePageViewEvent:Wr,fireViewModuleImpressionEvent:Kr,getTrackingInstance:function(){let{appId:e="seo",appVersion:t="0.0.0",locale:n,multiproduct:i="undefined-frontend-mpName",service:r="undefined-frontend-serviceName",callTreeId:o=null,endpoint:s="li/track",maxSize:a=10,debounceTime:c=50,disableCompression:l=!1,customDelegate:u={},retryConfig:d=null,isLoggedIn:h=!1,customTransporterHosts:p}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={appId:e,appVersion:t,locale:n,multiproduct:i,service:r,endpoint:s,disableCompression:l,retryConfig:d,api:{AbortController,location:window.location,document,performance,PerformanceObserver,Promise,assign:Object.assign,fetch,sendBeacon:navigator.sendBeacon.bind(navigator)},batching:{maxSize:a,debounceTime:c}};o&&(f.treeID=o);const m=new pi(f),g=new _i(m,xe({customTransporterHosts:p,preTransporter:e=>xe(xe({},e),{},{meta:Xr(e.meta)}),shouldAnonymizeMemberId:()=>!!d&&!h},u));return g}};var lE="open-share-to-linkedin";class uE extends Aa{setLinkedInServiceUrl(e){this.linkedinServiceUrl=e}_getServiceUrl(e){return"linkedin"===e&&this.linkedinServiceUrl?this.linkedinServiceUrl:super._getServiceUrl(e)}}function dE(e,t,n,i){var r="";if(n){var o=new Date;o.setTime(o.getTime()+n),r="expires=".concat(o.toUTCString())}b.getCookie(e)&&function(e){e&&(document.cookie="".concat(e,"=; expires=Thu, 01-Jan-1970 00:00:01 GMT;"))}(e);var s="".concat(e,"=").concat(t,";").concat(r,";path=/;").concat(i?"domain=.".concat(i):""),a="".concat(s,";").concat("secure;samesite=none");document.cookie=a,b.getCookie(e)||(document.cookie=s)}var hE,pE="dark",fE="light",mE="system",gE="li_theme",vE=[fE,pE,mE],yE=fE.toUpperCase();function bE(e){document.documentElement.classList.toggle("dark",e),yE=(e?pE:fE).toUpperCase()}function EE(){if(window.matchMedia){bE(window.matchMedia("(prefers-color-scheme:dark)").matches);try{window.matchMedia("(prefers-color-scheme:dark)").addEventListener("change",(e=>bE(e.matches)))}catch(e){window.matchMedia("(prefers-color-scheme:dark)").addListener((e=>bE(e.matches)))}}}function _E(e){localStorage.setItem("mobileWebTheme",e)}function wE(){return yE}function SE(){var e=Sa("darkModeLixValue");if(e&&"control"!==e){var t=b.getQueryParam(window.location.href,gE);if(t)return bE(pE===t),void _E(pE===t?pE:fE);var n="on"===e?mE:fE,i=(yE=b.getCookie(gE))&&vE.includes(yE)?yE:n;i===mE?EE():bE(i===pE),_E(i),function(e,t){var n="li_theme_set",i="user",r=["app",i],o="app",s=b.getCookie(n);s&&r.includes(s)?o=s:("on"===e&&t!==mE||"enabled-light"===e&&t!==fE)&&(o=i),dE(n,o,15552e6)}(e,i)}}const TE=(CE=document.getElementById("toasts"),!hE&&CE&&(hE=new _a),hE);var CE;function kE(){var e=new URLSearchParams(window.location.search);return{trackingCode:e.get("trk"),trackingId:e.get("trackingId"),updateUrn:e.get("updateUrn")}}function LE(e,t){return e&&t?"urn:li:control:".concat(t,"-").concat(e):null}function IE(e){var t=e.feedEventTrigger,n=e.threadUrn,i=e.contributionUrn,r=e.contributionTrackingId;if(t&&n&&i){var o=t.feedControl,s=t.feedActionCategory,a=t.feedActionType,c=kE(),l=c.trackingId,u=c.updateUrn,d=Sa("trackingModuleKey"),h=k.getPageKey(document);window.tracking.then((e=>{var t=l||r||e.generateBase64UUID();e.fireTrackingEvent("FeedCommentActionEvent",{actionCategory:(null==s?void 0:s.toUpperCase())||"",actionType:a,controlUrn:LE(o,h),threadUrn:n,trackableUpdateObject:{trackingId:t,objectUrn:u||i},trackableCommentObject:{trackingId:r,objectUrn:i},moduleKey:d})}))}}function AE(e){var t,n,i=e.target.closest("[data-feed-control]"),r=e.target.closest(".article-segment"),o=e.target.closest(".contribution"),s=null!==(t=null==o?void 0:o.dataset)&&void 0!==t?t:{},a=s.contributionUrn,c=s.contributionTrackingId,l=(null!==(n=null==r?void 0:r.dataset)&&void 0!==n?n:{}).threadUrn;IE({feedEventTrigger:i.dataset,threadUrn:l,contributionUrn:a,contributionTrackingId:c})}var xE="Comment:newComment:success",OE="Comment:deleteComment:success",RE="Reaction:newReaction:success",PE="Reaction:deleteReaction:success";function NE(){var e,t=Sa("articleViewEventData");t&&(e=JSON.parse(t),window.tracking.then((t=>{var n,i;if(e&&e.linkedInArticleUrn&&e.articleUrn){var r=(null==t||null===(n=t.getCurrentContext())||void 0===n?void 0:n.pageInstance)||(null==t||null===(i=t.config)||void 0===i?void 0:i.initialPageInstance);if(r){var o=kE().trackingId,s={articleId:e.articleId,authorId:e.authorId,linkedInArticleUrn:e.linkedInArticleUrn,articleUrn:e.articleUrn,trackablePulseObject:{trackingId:o||r.trackingId,objectUrn:e.articleUrn},header:{pageInstance:r,time:Date.now()}};t.fireTrackingEvent("ArticleViewEvent",s)}else console.warn("Missing pageInstance - not firing ArticleViewEvent for ".concat(e.articleUrn))}else console.warn("Missing article view data, not firing ArticleViewEvent")})).catch((()=>{})))}function ME(){Sa("isMemberDesktop")&&function(){var e=b.getCookie(gE);e===mE?EE():bE(e===pE)}()}function DE(){var e;window.addEventListener("beforeunload",(e=Date.now(),function(){var t,n;t=Date.now()-e,n=Sa("articleUrn"),window.tracking.then((e=>{var i=e.getCurrentContext().pageInstance.trackingId,r=kE().trackingId;e.fireTrackingEvent("ArticleReadEvent",{dwellTime:t,articleUrn:n,articleTrackingId:r||i,trackablePulseObject:{trackingId:r||i,objectUrn:n}})}))}))}function UE(){var e,t,n;DE(),function(){var e=document.querySelector(".social-share");if(e){var t=new uE(e);document.addEventListener(lE,(e=>{var n=Sa("disableLinkedinShareRedirectLink");Ta("disableLinkedinShareRedirectLink",!1),Ta("signin",!1),t.setLinkedInServiceUrl(e.detail),t.share("linkedin"),t.setLinkedInServiceUrl(null),Ta("disableLinkedinShareRedirectLink",n)}))}}(),new Td,new db,document.querySelectorAll(".ellipsis-menu").forEach((e=>{new Cd(e)})),function(){var e=document.querySelector(".google-auth");if(e)new Qd(e)}(),NE(),document.body.querySelectorAll("img[data-li-src], iframe[data-li-src]").forEach((e=>{var t=e.getAttribute("data-li-src").replace(/^http:\/\//i,"//");e.classList.add("lazy-load"),e.setAttribute("data-delayed-url",t),e.removeAttribute("data-li-src")})),null===(e=window.lazyloader)||void 0===e||e.then((e=>e.refreshLoader())),ME(),t=document.querySelector(".more-articles"),n=document.querySelector(".slide-list"),t?new hb(t):n&&new Do(n),function(){if(Sa("disableLinkedinShareRedirectLink")){var e=document.querySelector("#share-modal"),t=document.querySelector('button[data-share-service="linkedin"]');if(e&&t){var n=new Qb(e,{endpoint:Sa("apiRoute")});t.addEventListener("click",(()=>{n.open()}))}}}()}var qE,BE,FE,jE="/advice/api/getContributionRepliesPagination",HE="/advice/api/getContributionsPagination";function GE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Ma({endpoint:e,queryId:t,variables:n}).then((e=>{var t=e.status,n=e.responseText;return 200===t?JSON.parse(n).graphQL:Promise.reject(t)}))}function zE(){new ih;var e=document.querySelector("[data-ellipsis-menu-trigger]");e&&new $(e,{elementToFocus:document.querySelector(".ellipsis-menu__item-button")})}class WE{constructor(){this.bindEvents(),new sb}bindEvents(){document.body.addEventListener(ob.NEW_COMMENT_CREATE_EVENT,(e=>{var t=Date.now();GE("/pulse/api/runQuery",WE.query,{threadUrn:e.detail.threadUrn,text:e.detail.comment,createdAt:t}).then((e=>{var t,n;b.dispatchCustomEvent(document.body,ob.NEW_COMMENT_SUCCESS_EVENT,{entityUrn:null==e||null===(t=e.postComment)||void 0===t||null===(n=t.comment)||void 0===n?void 0:n.threadUrn,graphqlResponse:null==e?void 0:e.postComment})})).catch((e=>{b.dispatchCustomEvent(document.body,ob.NEW_COMMENT_FAIL_EVENT,e),TE.trigger("error",Sa("commentPostError"))}))}))}}function VE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function KE(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function YE(e,t,n){return t&&KE(e.prototype,t),n&&KE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function QE(e){return QE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},QE(e)}function XE(e,t){return XE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},XE(e,t)}function JE(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ZE(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=QE(e);if(t){var r=QE(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return JE(this,n)}}function $E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);s=!0);}catch(e){a=!0,r=e}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(e,t)||t_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e_(e){return function(e){if(Array.isArray(e))return n_(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||t_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t_(e,t){if(e){if("string"==typeof e)return n_(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?n_(e,t):void 0}}function n_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}FE="88c1c5972e6aa9081d6c0885a442138b",(BE="query")in(qE=WE)?Object.defineProperty(qE,BE,{value:FE,enumerable:!0,configurable:!0,writable:!0}):qE[BE]=FE;var i_="aria-[a-z0-9_\\-]+|class|data-[a-z0-9_\\-]+|dir|id|role|tabindex",r_=function(){if("undefined"==typeof document)return!0;return"textContent"in document.createElement("div")}()?"textContent":"innerText",o_=["b","del","em","i","s","strong","sub","sup"],s_=o_.concat(["a","abbr","address","area","article","aside","audio","bdi","bdo","big","blockquote","br","button","center","cite","code","datalist","dd","details","dfn","div","dl","dt","fieldset","figcaption","figure","font","footer","h1","h2","h3","h4","h5","h6","header","hgroup","hr","img","ins","kbd","label","legend","li","map","mark","marquee","nav","nobr","ol","p","pre","q","rp","rt","ruby","samp","section","small","source","span","strike","table","tbody","td","tfoot","th","thead","time","tr","u","ul","var","video","wbr"]),a_=[i_,"alt|checked|selected|colgroup|cols|colspan|disabled|height|hidden|maxlength|method|multiple|name|placeholder|readonly|rel|required|rows|rowspan|spellcheck|target|title|width","border|caption|color|controls|coords|hreflang|label|lang|loop|marginheight|marginwidth|preload|reversed|type|usemap|clear|headers|ismap|start|datetime|accept|max|min|size|step|style|cellspacing|cellpadding"].join("|"),c_=YE((function e(){VE(this,e)}));function l_(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var u_=function(){var e=/[&<>"'\u0000\\=]/g,t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","\0":"�","\\":"&#92;","=":"&#61;"};return function(n){return null==n?null:n.toString().replace(e,(function(e){return function(e){return e in t}(e)?t[e]:e}))}}(),d_=function(){var e,t="undefined"!=typeof document?document.createElement("div"):null,n=/&(?:([a-z0-9]+)|#x([\da-f]{1,6})|#(\d{1,8}));/gi,i={nbsp:" ",lt:"<",gt:">",amp:"&",quot:'"'};function r(e){if(function(e){return l_(i,e)}(e))return i[e];if(!t)return e;t.innerHTML="&".concat(e,";");var n=t[r_];return i[e]=n,n}return e="function"==typeof String.fromCodePoint?function(e){return String.fromCodePoint(e)}:function(e){return e<=65535?String.fromCharCode(e):"�"},function(t){return null==t?null:(t+"").replace(n,(function(t,n,i,o){return n?r(n):i||o?e(parseInt(i||o,i?16:10)||65533):"�"}))}}();function h_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log",n="undefined"!=typeof window;if(n&&window&&window.jet&&"error"===t.toLowerCase())try{throw new Error(e)}catch(e){try{window.jet.error(e)}catch(e){}}"undefined"!=typeof console&&"function"==typeof console[t]&&console[t](e)}function p_(e){return/[<&]/.test(e)}var f_="[ \t\r\n]*";function m_(e){e=Array.isArray(e)?e:[e];var t,n,i,r=0,o="<(?!/?";return o+="(?:",e.forEach((function(e,s){t=e.tags||s_,n=e.attrs||a_,i=e.checkUrlAttrs||!1,0!==s&&(o+="|"),o+="(?:"+t.join("|")+")",o+="(?:",o+=f_,o+="|[ \t\r\n]+",o+="(?:(?:",o+="(?:".concat(n,")(?:=([\"'])[^'\"<>]*\\").concat(++r,")?"),i&&(o+="|(?:".concat("href|src",")=([\"'])(?:(?:").concat("https?|ftp|mailto|invalid",")(?::|&#(?:58|x3a);)|(?:").concat("data:image/(?:gif|jpg|jpeg|png);base64,",")|[/.#?]|&#(?:35|4[67]|63|x(?:2[3ef]|3f));)[^'\"<>]*\\").concat(++r)),o+=")[ \t\r\n]*)+",o+=")"})),o+=")",o+="/?>)",new RegExp(o,"i")}function g_(e){return m_({tags:e=e||s_,checkUrlAttrs:!0})}function v_(e,t){var n=(t=t||{}).allowTags,i=!1!==t.hasCustomElementMarkup;return n&&n.length>0?!g_(n).test(e):i?!v_.R_UNSAFE_CUSTOM_ELEMENT.test(e):!v_.R_UNSAFE_HTML.test(e)}function y_(e){return e.replace(/<[^>]*>|[<>'"&\\]/g,"")}v_.R_UNSAFE_HTML=g_(),v_.R_UNSAFE_CUSTOM_ELEMENT=function(){var e={tag:"li-icon",attrs:"active|a11y-text|animate|color|size|type"};return m_([{tags:s_,checkUrlAttrs:!0},{tags:[e.tag],attrs:[i_,e.attrs].join("|"),checkUrlAttrs:!1}])}();var b_={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},E_=/<([\w:]+)/;function __(e){return e in b_}function w_(e,t){var n,i,r,o,s,a=t.createDocumentFragment(),c=[];for(r=0,s=e.length;r<s;r++)if(i=e[r])if("string"==typeof i){n=n||a.appendChild(t.createElement("div"));var l=$E(E_.exec(i)||["",""],2)[1];if(void 0!==l){var u=l.toLowerCase(),d=__(u)&&b_[u]||b_._default;for(k_(n,d[1]+i+d[2]),o=d[0];o--;)n&&n.lastChild&&n.lastChild.nodeType===Node.ELEMENT_NODE&&(n=n.lastChild);c.push.apply(c,e_(Array.from(n.childNodes))),(n=a.firstChild)&&(n.textContent="")}}else i instanceof Node&&c.push(i);for(a.textContent="",i=c[r=0];i;)a.appendChild(i),i=c[++r];return a}function S_(e,t,n){e=e.toString();var i=t?function(e,t){var n={};return e.replace(/\{([^}]+)\}/g,(function(e,i){if(l_(n,i))return n[i];if(l_(t,i)){var r=t[i],o="string"==typeof r;if(!o&&!(r instanceof c_)&&!("number"==typeof r))throw new Error("Only strings, numbers, and jSecure types are allowed as placeholder replacements.");return r?(r=o?"".concat(u_(r)):r.toString(),n[i]=r,r):e}return e}))}(e,t):e,r=e;return p_(i)&&!v_(i,n)&&(i=y_(i),h_("Content contains tags or attributes that are not allowed:\nContent: "+r,"error")),i}var T_=S_,C_=S_;function k_(e,t,n){var i=S_(t,n);return i&&p_(i)?e.innerHTML=i:i&&(e[r_]=i),i}var L_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XE(e,t)}(n,e);var t=ZE(n);function n(e){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return VE(this,n),(i=t.call(this)).options=r,i.tags=i.options.allowTags?i.options.allowTags.flat():[],i.str=e,i}return YE(n,[{key:"toString",value:function(){var e=this.str,t=this.strValue,n=e;return void 0!==t?t:(v_(e,{allowTags:this.tags,hasCustomElementMarkup:this.options.hasCustomElementMarkup})||(n=e,e=y_(e),h_("UnsafeString contains tags or attributes that are not allowed.\nString: "+n,"error")),this.strValue=e,e)}}]),n}(c_);var I_=/ /g,A_=/[\s\u0000<>"]|%00/,x_=/\\/,O_=/([.]|%2e){2}/i,R_=new RegExp("^(?:HTTPS?|https?|ftp|mailto|tel|sms|blob|voyager|android-app|linkedin|chrome-extension|invalid|data:(?:(?:image/(?:gif|jpe?g|png|webp|bmp|tiff))|(?:application/x-font-woff)|(?:font/(?:opentype|ttf)))[;,]|[/.#?])");function P_(e){var t,n="invalid://";if("string"!=typeof e)return h_("jSecure Warning: url must be a string","error"),n;if((t=e.trim()).indexOf(" ")>-1&&(h_("jSecure Warning: url should not contain spaces: "+e,"warn"),t=t.replace(I_,"+")),!R_.test(t))return h_("jSecure Error: URL should be absolute with allowed schemas, relative, a hash fragment or query string. "+e,"error"),n;if(A_.test(t))return h_("jSecure Error: not valid url character found in url: "+e,"error"),n;var i,r=t.split("?")[0],o=!1;if(r){try{if(i=decodeURI(r),O_.test(i))return h_("jSecure Error: malicious data found in url path: "+r,"error"),n}catch(e){o=!0}if(o)return h_("jSecure Error: malformed url path detected: "+r),n;if(x_.test(r)||O_.test(r))return h_("jSecure Error: malicious data found in url path: "+r,"error"),n}return e}var N_={redirect:function(e){window&&(window.location.href=e)}};var M_={ALLOWED_TAGS:s_,FORMATTING_TAGS:o_,htmlEncode:u_,htmlUnencode:d_,log:h_,mk:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r,o="",s=n.length;return e&&e.forEach((function(e,t){o+=e,t<s&&(r=n[t],o+=r instanceof L_?r:u_(r))})),"".concat(C_(o))},parseHTML:function(e,t){var n;if(t=t||document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument(""):document,"string"==typeof e)n=w_([e],t);else{if(!Array.isArray(e))return e;n=w_(e,t)}return Array.from(n.childNodes)},parseSelector:function(e){return"string"==typeof e&&/^(?:\s*(<[\w\W]+>)[^>]*)$/.test(e)?[]:e},processTemplate:T_,reEncode:function(e){return u_(d_(e))},_redirector:N_,redirect:function(e){var t=P_(e);t===e&&N_.redirect(t)},sanitizeHTML:C_,sanitizeUrl:P_,setElementContent:k_,unsafe:function(e){return e},UnsafeString:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this instanceof e||console.warn("Calling 'UnsafeString' without the 'new' keword is deprecated"),new L_(t,n)}};function D_(){var e=document.querySelector('[data-id="sticky-header__nav-backbtn"]');e&&e.addEventListener("click",(()=>{var e=sessionStorage.getItem("previousPage");e===location.href&&M_.redirect(location.origin);var t,n,i=function(e){try{return new URL(e).hostname}catch(e){return""}}(e);t=i,n=location.hostname,t&&t.indexOf(n.substring(n.indexOf(".")))>=0?history.back():M_.redirect(location.origin)}))}function U_(){U_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,s=Object.create(o.prototype),a=new C(r||[]);return i(s,"_invoke",{value:_(e,n,a)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,s,a){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function _(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new E(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function q_(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}function B_(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){q_(o,i,r,s,a,"next",e)}function a(e){q_(o,i,r,s,a,"throw",e)}s(void 0)}))}}var F_,j_,H_,G_="click",z_="/mwlite/pulse/api/runQuery";function W_(){var e,t;null===(e=F_)||void 0===e||e.addEventListener(G_,Y_),null===(t=j_)||void 0===t||t.addEventListener(G_,V_),H_&&new rb(H_,{endpoint:z_})}function V_(e){return K_.apply(this,arguments)}function K_(){return K_=B_(U_().mark((function e(t){var n,i,r,o,s,a;return U_().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.dataset,i=n.id,r=n.title,o=n.successMessage,s=n.errorMessage,a={text:r,url:Q_(i)},e.prev=2,e.next=5,navigator.share(a);case 5:TE.trigger("success",o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),TE.trigger("error",s);case 11:case"end":return e.stop()}}),e,null,[[2,8]])}))),K_.apply(this,arguments)}function Y_(e){var t=e.target.dataset.id;M_.redirect(Q_(t))}function Q_(e){return e.indexOf("contentSeries")&&(e=e.split(":")[3]),new URL("".concat("/mwlite/newsletters/").concat(e),window.location.origin).href}function X_(){!function(){var e=document.querySelector.bind(document);F_=e("#newsletter-see-all-editions"),j_=e("#share-newsletter"),H_=e(".newsletter-details__action")}(),W_()}function J_(e){TE.clearAllToasts(),e&&TE.trigger("notify",Sa("offlineText"))}var Z_="created",$_="deleted";function ew(e,t){var n,i,r=e.target.closest("[data-feed-control]"),o=null==r||null===(n=r.dataset)||void 0===n?void 0:n.feedActionCategory,s=null==r||null===(i=r.dataset)||void 0===i?void 0:i.feedActionType;if(this.reactionEvent===$_){if(!this.previousReaction)return;r.dataset.feedActionCategory="UNREACT",r.dataset.feedActionType="un".concat(this.previousReaction.toLowerCase(),"Contribution")}else r.dataset.feedActionCategory="REACT",r.dataset.feedActionType="".concat(t.toLowerCase(),"Contribution");AE(e),r.dataset.feedActionCategory=o,r.dataset.feedActionType=s}function tw(e,t,n){this.entityUrn=n;var i=e.target.closest(".contribution-social-activity");""===t&&(this.reactionEvent=$_),this.previousReaction||""===t||(this.reactionEvent=Z_),i&&ew.call(this,e,t),this.previousReaction=t}function nw(){var e="";this.reactionEvent===Z_&&(e=RE),this.reactionEvent===$_&&(e=PE),b.dispatchCustomEvent(document.body,e,{entityUrn:this.entityUrn,reactionType:this.previousReaction})}function iw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".contribution-social-activity .reactions-menu__trigger");t&&new ib(".contribution-social-activity .reactions-menu__trigger",e,{endpoint:Sa("apiRoute"),onReactionSuccess:nw,onReaction:tw,shouldStopPropagation:!1,isContribution:!0})}var rw=n(407),ow=n.n(rw),sw="line-clamp-5",aw="contribution__see-more-button",cw=".".concat(aw);function lw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;e.querySelectorAll("p[class*='contribution__text']").forEach((e=>{uw(e)}))}function uw(e){var t=e.parentElement.querySelector(cw);0!==e.offsetHeight?e.offsetHeight<e.scrollHeight||e.offsetWidth<e.scrollWidth?null==t||t.classList.remove("hidden"):dw(e):null!=e&&e.classList.contains(sw)&&(null==t||t.classList.remove("hidden"))}function dw(e){var t=e.parentElement.querySelector(cw);null==e||e.classList.remove(sw),null==t||t.remove()}function hw(e){return null!==e.closest(".contribution__reply")}function pw(e,t){var n=e.closest(".contribution"),i=null==n?void 0:n.querySelector(".contribution__reply_num");i&&(i.textContent=t?Number(i.textContent)-1:Number(i.textContent)+1)}function fw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sa("apiRoute"),n=e.querySelectorAll(".follow-button");n.forEach((e=>{new rb(e,{endpoint:t})}))}function mw(e){if(e){var t="(".concat([/https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s)">]{2,}/,/www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s)">]{2,}/,/https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s)">]{2,}/,/www\.[a-zA-Z0-9]+\.[^\s)">]{2,}/].map((e=>e.source)).join("|"),")"),n=new RegExp(t,"g"),i=e.textContent.split(n);e.innerHTML="",i.filter((e=>!!e)).forEach((t=>{if(t.match(n)){var i=function(e){var t=document.createElement("a");return t.setAttribute("href",e),t.setAttribute("target","_blank"),t.setAttribute("data-tracking-control-name","view_link"),t.setAttribute("data-tracking-will-navigate","true"),t.textContent=e,t}(t),r=document.createElement("span");r.appendChild(i),e.appendChild(r)}else{var o=document.createElement("span");o.textContent=t,e.appendChild(o)}}))}}function gw(e,t){if(e||Number.isSafeInteger(t)){var n=document.querySelector('.total-count[data-thread-urn="'.concat(e,'"]'));if(n){if(n.classList.contains("hidden"))return;t>=1&&(n.textContent="",n.appendChild(function(e){var t;return t=Sa(1===e?"contributionSingular":"contributionPlural"),document.createRange().createContextualFragment(t.trim())}(t)),n.querySelector(".total-count__count").textContent=t)}}}var vw,yw,bw=".contribution";function Ew(e){var t,n,i,r=e.dataset,o=r.contributionListPosition,s=r.contributorUrn,a=r.contributionUrn,c=r.contributionTrackingId,l=e.closest(".article-segment"),u=e.querySelector(".insightful-reaction"),d=e.querySelector(".contribution-social-activity__reactions-menu"),h=l.dataset.threadUrn,p=null!==(t=null==u||null===(n=u.dataset)||void 0===n?void 0:n.reactionsCount)&&void 0!==t?t:null==d||null===(i=d.dataset)||void 0===i?void 0:i.reactionsCount,f=kE();return{trackableUpdateObject:{trackingId:f.trackingId||c,objectUrn:f.updateUrn||a},trackableCommentObject:{trackingId:c,objectUrn:a},message:"",threadUrn:h,commenterUrn:s,totalReplies:0,totalLikes:parseInt(p,10),level:1,listPosition:{index:parseInt(o,10)}}}function _w(e){var t=[];return t.push(e),{comments:t}}function ww(e){var t=e.trackingInstance;e.visibleElements.forEach((e=>ed.fireImpressionEvent(e,t,"FeedCommentImpressionEvent",_w)))}var Sw=300,Tw=".contribution__text";class Cw{constructor(){var e=parseInt(Sa("contributionsDisplayCount"),10);this.FIRST_PAGE_COUNT=isNaN(e)?3:e+2,this.contributionStore={},this.paginationMetadataStore={},document.querySelectorAll(".article-segment").forEach((e=>{var t=e.dataset,n=t.totalCount,i=t.threadUrn,r=e.querySelectorAll(".contribution");this.contributionStore[i]={totalCount:parseInt(n)||0,contributions:[]},r.forEach(((e,t)=>{var n,r=e.querySelector(Tw);e.dataset.contributionListPosition=t+1,mw(r),null!==(n=this.contributionStore[i])&&void 0!==n&&n.contributions&&this.contributionStore[i].contributions.push(e)}))})),document.addEventListener("animationend",(e=>{e.target.classList.contains("animate-show")&&e.target.classList.remove("animate-show")}))}getContributionsByThreadUrn(e){return e&&e in this.contributionStore?this.contributionStore[e].contributions:[]}getNextPageMetadata(e){var t=e&&this.paginationMetadataStore[e];return t||(t={threadUrn:e,start:0,count:this.FIRST_PAGE_COUNT},this.paginationMetadataStore[e]=t),t}updateNextPageMetadata(e,t){var n=e&&this.paginationMetadataStore[e];return n?n.start+n.count<Sw&&(n.start=n.start+n.count,n.count=Sw-n.start<5?Sw-n.start:5):this.paginationMetadataStore[e]={threadUrn:e,start:0,count:this.FIRST_PAGE_COUNT},n.start+n.count>=Sw||n.start>=t}addNewContribution(e,t){var n=this.getContributionsByThreadUrn(e),i=this._createNewContributionEl(t);i&&(this._renderNewContributions({threadUrn:e,newContributionEls:[i],isBeginning:!0}),n.length?this.contributionStore[e].contributions.unshift(i):this.contributionStore[e]={totalCount:0,contributions:[i]},this.contributionStore[e].totalCount++,gw(e,this.contributionStore[e].totalCount),this._handleXArticleRedesignEnabled(e))}addNewReply(e){var t=document.querySelector("#add-contribution-reply").content.cloneNode(!0).querySelector(".contribution__reply");t&&this._renderNewContributions({threadUrn:e,newContributionEls:[t],isReply:!0}),pw(t)}loadMoreContributions(e){var t=this.getContributionsByThreadUrn(e),n=document.querySelector("#more-contributions").content.cloneNode(!0).querySelectorAll(".contribution"),i=this._dedupContributions(t,n);i.forEach((e=>{mw(e.querySelector(Tw))})),this._renderNewContributions({threadUrn:e,newContributionEls:i}),t.length?this.contributionStore[e].contributions=t.concat(i):this.contributionStore[e].contributions=i}loadMoreContributionReplies(e){var t=document.querySelector("#add-contribution-reply").content.cloneNode(!0).querySelectorAll(".contribution__reply");t.forEach((e=>{mw(e.querySelector(Tw))})),this._renderNewContributions({threadUrn:e,newContributionEls:t,isReply:!0})}editContribution(e,t,n){var i,r,o,s=(null==t||null===(i=t.updateComment)||void 0===i?void 0:i.comment)||{},a=null===(r=s.message)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.text;if(s.urn===(null==n?void 0:n.dataset.contributionUrn)){var c=null==n?void 0:n.querySelector(Tw);c&&a&&(c.textContent=a,mw(c)),this._handleXArticleRedesignEnabled(e)}}deleteContribution(e,t){var n,i,r=this.getContributionsByThreadUrn(e),o=r.findIndex((e=>{var n;return(null===(n=e.dataset)||void 0===n?void 0:n.contributionUrn)===t})),s=r[o];o>-1&&(null!==(n=s.nextElementSibling)&&void 0!==n&&n.hasAttribute("data-lego-segment-prompt")&&s.nextElementSibling.remove(),null!==(i=s.nextElementSibling)&&void 0!==i&&i.classList.contains("contribution-queue")&&s.nextElementSibling.remove(),s.remove(),this.contributionStore[e].contributions.splice(o,1),this.contributionStore[e].totalCount--,gw(e,this.contributionStore[e].totalCount),this._handleXArticleRedesignEnabled(e))}_dedupContributions(e,t){var n=[];return t.forEach((t=>{e.find((e=>e.dataset.contributionUrn===t.dataset.contributionUrn))?t.remove():n.push(t)})),n}_createNewContributionEl(e){var t,n,i,r=null==e||null===(t=e.postComment)||void 0===t?void 0:t.comment;if(r){var o=r.urn,s=r.threadUrn,a=null===(n=r.message)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.text,c=document.querySelector("#contribution-template").content.firstElementChild.cloneNode(!0),l=c.querySelector(Tw),u=c.querySelector(".contribution-control-menu"),d=u.querySelector(".contribution-control-menu-item--copy"),h=u.querySelector(".contribution-control-menu-item--edit"),p=u.querySelector(".contribution-control-menu-item--delete"),f=c.querySelector(".insightful-reaction"),m=c.querySelector(".contribution-social-activity"),g=c.querySelector(".reactions-menu__trigger"),v=c.querySelector('[data-test-id="social-actions__reactions"]');return o&&(c.dataset.contributionUrn=o,d.dataset.commentUrn=o,h.dataset.commentUrn=o,h.dataset.commentThreadUrn=s,p.dataset.commentUrn=o,p.dataset.commentThreadUrn=s,f&&(f.dataset.entityUrn=o),m&&(g.dataset.parentUrn=o,v&&(v.dataset.entityUrn=o))),s&&(d.dataset.commentThreadUrn=s),a&&(l.textContent=a),mw(l),c}}_renderNewContributions(e){var t=e.threadUrn,n=e.newContributionEls,i=e.isBeginning,r=void 0!==i&&i,o=e.isReply,s=void 0!==o&&o,a=s?".contribution__reply":".contribution",c=s?document.querySelector('.contribution[data-contribution-urn="'.concat(t,'"] .contribution__reply-thread')):document.querySelector('.article-segment[data-thread-urn="'.concat(t,'"] .contribution-list'));if(!c&&s){var l=document.querySelector('.contribution[data-contribution-urn="'.concat(t,'"]'));(c=document.createElement("UL")).classList.add("contribution__reply-thread"),l.appendChild(c)}var u=n[0].querySelector(".contribution-social-activity"),d=c.querySelectorAll(a).length+1,h=new DocumentFragment;n.forEach((e=>{e.querySelectorAll(".ellipsis-menu").forEach((e=>{e&&new Cd(e)})),fw(e),e.dataset.contributionListPosition=d++,h.append(e)})),r?c.insertBefore(h,c.querySelector(a)):c.appendChild(h),u&&n.forEach((e=>{var t=document.querySelector("".concat(a,'[data-contribution-urn="').concat(e.dataset.contributionUrn,'"]'));t&&iw(t)})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".contribution";vw&&(vw.reset(),vw.observeComponents(document.querySelectorAll(e)))}(".contribution, .contribution__reply")}_handleXArticleRedesignEnabled(e){if(e){var t=document.querySelector(".selected-article-segment-contributions");!function(e,t){if(e&&t){var n=e.cloneNode(!0);n.querySelectorAll(".ellipsis-menu").forEach((e=>{new Cd(e)})),n.classList.toggle("hidden"),t.replaceChildren(n)}}(document.querySelector('.article-segment__contributions.hidden[data-thread-urn="'.concat(e,'"]')),t)}}}function kw(){yw=yw||new Cw}function Lw(){return kw(),yw}function Iw(e){e&&e instanceof HTMLElement||console.warn("Invalid element passed to smoothScrollElementToView.")}function Aw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;Iw(e);var n=document.body.getBoundingClientRect().top,i=e.getBoundingClientRect().top,r=i-n,o=r-t;return o}function xw(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;Iw(e);var i=Aw(e,t);window.scrollTo({top:i,behavior:"smooth"}),"function"==typeof n&&Ow(i,n)}function Ow(e,t){Math.abs(window.scrollY-e)<2?t():window.requestAnimationFrame((()=>Ow(e,t)))}function Rw(){Rw=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,s=Object.create(o.prototype),a=new C(r||[]);return i(s,"_invoke",{value:_(e,n,a)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,s,a){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function _(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new E(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function Pw(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}var Nw="AddContributionError",Mw="DeleteContributionError",Dw="EditContributionError",Uw="InsightfulReactionError",qw="TranslateContributionError",Bw=function(){var e=function(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){Pw(o,i,r,s,a,"next",e)}function a(e){Pw(o,i,r,s,a,"throw",e)}s(void 0)}))}}(Rw().mark((function e(t){var n;return Rw().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.ingraphTracking;case 2:null==(n=e.sent)||n.fireCounterIngraphMetric({metricsType:t});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Fw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jw,Hw="CLOSED",Gw="NEW_CONTRIBUTION",zw="EDITING",Ww="aria-invalid",Vw="aria-disabled",Kw="disabled",Yw="hidden",Qw="showing",Xw="sticky-on-scroll",Jw="text-color-signal-negative",Zw="items-center",$w="items-start",eS=["article-segment-content-container","article-segment-contributions-header-container"],tS="new-contribution";class nS{constructor(){var e=Sa("isXArticleRedesign");jw=Lw(),document.querySelectorAll(".add-your-perspective-button").forEach((t=>{var n=t.closest(".add-your-perspective-section");if(n){var i=new iS(n);t.matches(".hidden")&&e&&i.enableEditing()}}))}}class iS{constructor(e,t,n){Fw(this,"hasError",!1),this.editingElement,this.section=e,this.articleSegment=this.section.closest(".".concat("article-segment")),this.addYourPerspectiveButton=e.querySelector(".add-your-perspective-button"),this.textareaSection=e.querySelector(".contribution-text-area-wrapper"),this.textarea=e.querySelector("textarea"),this.borderArea=e.querySelector(".contribution-text-area-border"),this.submitPerspectiveButton=e.querySelector(".submit-contribution-button"),this.cancelButton=e.querySelector(".contribution-cancel-button"),this.characterCount=e.querySelector(".contribution-character-count"),this.helperTextError=e.querySelector(".contribution-error-message"),this.loader=this.submitPerspectiveButton.querySelector(".loader"),this.submitPerspectiveButtonText=this.submitPerspectiveButton.querySelector(".submit-contribution-button-text"),this.editPerspectiveButtonText=this.submitPerspectiveButton.querySelector(".save-contribution-changes-button-text"),this.editorState=Gw,this.apiRoute=Sa("apiRoute"),this.onClose=n,this.isReply=hw(this.textarea),t&&(this.setContributionUrn(t),this.editorState=zw,this.editingElement=this.textarea.closest(".contribution, .contribution__reply")),Sa("isGuest")||(this.textarea.value="",this._initMainInteractionHandlers(),this._loadInteractionStates(),this._loadPropertiesIntoMemory())}_initMainInteractionHandlers(){var e;null===(e=this.addYourPerspectiveButton)||void 0===e||e.addEventListener("click",(()=>{this.editorState=Gw,this._showToast(!0),this.enableEditing(),this._handleStickyBtnClick()})),this.cancelButton.addEventListener("click",(()=>{var e;this._showToast(!1),this.disableEditing(),null===(e=this.onClose)||void 0===e||e.call(this),this._showSticky(!0)})),this.submitPerspectiveButton.addEventListener("click",(e=>{this.addContribution(),(e=>{AE(e)})(e),this._showSticky(!0)})),this.textarea.addEventListener("input",(()=>{this.onInput()}))}_loadInteractionStates(){this.borderArea.addEventListener("mouseenter",(()=>{this.borderArea.classList.add("bg-color-container-secondary-hover","shadow-border")})),this.borderArea.addEventListener("mouseleave",(()=>{this.borderArea.classList.remove("bg-color-container-secondary-hover","shadow-border")})),this.textarea.addEventListener("focus",(()=>{this.borderArea.classList.add("shadow-border"),this.borderArea.classList.remove("bg-color-container-secondary-hover")})),this.textarea.addEventListener("blur",(()=>{this.borderArea.classList.remove("shadow-border","bg-color-container-secondary-active")})),this.borderArea.addEventListener("mousedown",(()=>{this.borderArea.classList.add("bg-color-container-secondary-active")})),this.borderArea.addEventListener("mouseup",(()=>{this.borderArea.classList.remove("bg-color-container-secondary-active")}))}_loadPropertiesIntoMemory(){this.minTextAreaLength=this.isReply?parseInt(Sa("min_reply_char_limit")):parseInt(Sa("min_char_limit")),this.maxTextAreaLength=parseInt(Sa("max_char_limit")),this.charactersWord=Sa("i18n_characters"),this.charactersWordFraction=Sa("i18n_characters_fraction"),this.segmentUrn=this.textarea.getAttribute("data-segment-urn"),this.trackingPrefix=Sa("add_your_perspective_tracking_prefix")}_showToast(e){if(Sa("isXArticleRedesign")){var t=this.section.dataset.segmentUrn,n=document.querySelector('.dtoast[data-segment-urn="'.concat(t,'"]'));e?null==n||n.classList.remove("hidden"):null==n||n.classList.add("hidden")}}_isInStickyPostion(){var e;return(null===(e=this.articleSegment)||void 0===e?void 0:e.getBoundingClientRect().top)<0}_handleStickyBtnClick(){if(this._isInStickyPostion()){xw(this.articleSegment,48,(()=>this._showSticky(!1)))}else this._showSticky(!1)}_showSticky(e){eS.forEach((t=>{var n,i=null===(n=this.articleSegment)||void 0===n?void 0:n.querySelector(".".concat(t));e?null==i||i.classList.add(Xw):null==i||i.classList.remove(Xw)}))}enableEditing(){var e,t;this.section.classList.add("w-full"),this.updateHelperText(),this.showSubmitButtonText(),null===(e=this.addYourPerspectiveButton)||void 0===e||e.classList.add(Yw),this.preloadLoadingSpinner(),null!==(t=this.textareaSection)&&void 0!==t&&t.classList.contains(Yw)&&(this.textareaSection.addEventListener("animationend",(()=>{this.textareaSection.classList.remove(Qw),this.textarea.focus()}),{once:!0}),this.textareaSection.classList.remove(Yw),this.textareaSection.classList.add(Qw)),this.section.classList.remove(Zw),this.section.classList.add($w)}disableEditing(){var e,t,n;this.editorState=Hw,this.hasError=!1,this.section.classList.remove($w),this.section.classList.add(Zw),null===(e=this.textareaSection)||void 0===e||e.classList.add(Yw),null===(t=this.addYourPerspectiveButton)||void 0===t||t.classList.remove(Yw),this.hideSubmitButtonText(),this.setText(""),this.section.classList.remove("w-full"),null===(n=this.addYourPerspectiveButton)||void 0===n||n.focus()}onInput(){this.hasError=!this.isInputLengthValid&&this.textAreaLength>this.maxTextAreaLength,this.updateHelperText(),this.updateButtonState()}get isInputLengthValid(){return this.textAreaLength<=this.maxTextAreaLength&&this.textAreaLength>=this.minTextAreaLength&&""!==this.textarea.value.trim()}get textAreaLength(){return this.textarea.value.trimEnd().length}get characterCountMessage(){var e="";return this.hasError&&this.textAreaLength<this.minTextAreaLength?e=this.charactersWord.replace(/\d+/g,this.textAreaLength):this.textAreaLength>0&&(e=this.charactersWordFraction.replace(/(\d+)\/(\d+)/g,(()=>"".concat(this.textAreaLength,"/").concat(this.maxTextAreaLength)))),e}addContribution(){var e=this.textarea.value.trimEnd();if(this.isInputLengthValid){this.setSubmitButtonLoadingState(!0);var t={threadUrn:this.segmentUrn,text:e,createdAt:Date.now()},n=iS.query;this.editorState===zw&&(n=iS.updateQuery,t={threadUrn:this.segmentUrn,text:e,commentUrn:this.contributionUrn}),GE(this.apiRoute,n,t).then((e=>{var t,n,i,r;if(this.editorState===Gw)jw.addNewContribution(this.segmentUrn,e),null===(r=window.lazyloader)||void 0===r||r.then((e=>e.refreshLoader())),i=Sa("i18n_contribution_post_success"),b.dispatchCustomEvent(document.body,xE,{entityUrn:Sa("ugcPost")}),this._showToast(!1);else if(this.editorState===zw){var o;jw.editContribution(this.segmentUrn,e,this.editingElement),null===(o=this.onClose)||void 0===o||o.call(this),i=this.isReply?Sa("i18n_reply_edit_post_success"):Sa("i18n_contribution_edit_post_success")}this.disableEditing(),TE.trigger(_a.TOAST_TYPES.SUCCESS,i);var s=null==e||null===(t=e.postComment)||void 0===t||null===(n=t.comment)||void 0===n?void 0:n.urn;s&&this.emitNewPerspectiveEvent(s)})).catch((()=>{Bw(this.editorState===zw?Dw:Nw),this.showErrorToast()})).finally((()=>{this.setSubmitButtonLoadingState(!1)}))}else this.hasError=!0,this.updateHelperText(),this.updateButtonState()}emitNewPerspectiveEvent(e){document.dispatchEvent(new CustomEvent(tS,{detail:{contributionUrn:e}}))}showErrorToast(){var e,t=Sa("showFuseErrorMessage"),n="https://www.".concat(k.getDomain(document),"/pulse/topics/home");this.editorState===Gw?e=Sa(t?"i18n_contribution_post_rate_limit_error":"i18n_contribution_post_error"):this.editorState===zw&&(e=Sa("i18n_contribution_edit_post_error"));var i={text:Sa(t?"i18n_contribution_post_rate_limit_error_suggestion":"i18n_try_refreshing_the_page"),url:t?n:window.location.href,trk:this.trackingPrefix,target:"_self"};TE.trigger(_a.TOAST_TYPES.ERROR,e,void 0,i)}setText(e){this.textarea.value=e.trimEnd(),this.updateHelperText(),this.updateButtonState()}setContributionUrn(e){if(!e)throw Error("A contribution urn is required when editing a contribution");this.contributionUrn=e}updateHelperText(){this.characterCount.innerText=this.characterCountMessage,this.hasError?(this.characterCount.classList.add(Jw),this.textarea.setAttribute(Ww,!0),this.textAreaLength<this.minTextAreaLength?this.helperTextError.classList.remove(Yw):this.textAreaLength>this.maxTextAreaLength&&this.helperTextError.classList.add(Yw)):(this.characterCount.classList.remove(Jw),this.helperTextError.classList.add(Yw),this.textarea.removeAttribute(Ww))}hideSubmitButtonText(){this.editPerspectiveButtonText.classList.add(Yw),this.submitPerspectiveButtonText.classList.add(Yw)}showSubmitButtonText(){this.editorState===zw?(this.submitPerspectiveButtonText.classList.add(Yw),this.editPerspectiveButtonText.classList.remove(Yw)):(this.editPerspectiveButtonText.classList.add(Yw),this.submitPerspectiveButtonText.classList.remove(Yw))}showLoader(){!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?this.loader.classList.add("loader--show"):this.loader.classList.remove("loader--show")}preloadLoadingSpinner(){var e;null===(e=window.lazyloader)||void 0===e||e.then((e=>{this.showLoader(!0),e.refreshLoader(),this.showLoader(!1)}))}setSubmitButtonLoadingState(e){e?(this.submitPerspectiveButton.setAttribute(Kw,"true"),this.showLoader(!0),this.hideSubmitButtonText()):(this.submitPerspectiveButton.removeAttribute(Kw),this.showLoader(!1),this.showSubmitButtonText())}updateButtonState(){this.hasError||0===this.textAreaLength?(this.submitPerspectiveButton.setAttribute(Kw,"true"),this.submitPerspectiveButton.setAttribute(Vw,"true")):(this.submitPerspectiveButton.removeAttribute(Kw),this.submitPerspectiveButton.removeAttribute(Vw))}}Fw(iS,"query","084ca6969d581c14aaf82b7f489a4474"),Fw(iS,"updateQuery","f31910974afbcd13b88067c1a2d582ba");const rS=new class{constructor(){this.customEventData={}}setCustomData(e,t){this.customEventData[e]=t}getFeedControlName(e){var t,n;return null===(t=e.target)||void 0===t||null===(n=t.closest("[data-feed-control]"))||void 0===n?void 0:n.dataset.feedControl}init(){var e=Sa("contentUrn"),t=kE(),n=t.trackingId,i=t.updateUrn,r=t=>{var r,o,s=this.getFeedControlName(t),a=null===(r=(o=this.customEventData)[s])||void 0===r?void 0:r.call(o,t);Oy.fireFeedActionEvent(t,{activityUrn:i||e,feedItemTrackingId:n},a)};document.body.addEventListener("click",r,!0),document.body.addEventListener("focusin",(e=>{e.target.classList.contains("contribution-text-area")&&r(e)}))}};function oS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sS,aS="cancel",cS="delete";class lS{constructor(){if(oS(this,"_onCancel",(()=>{this.modalManager.close(),this._clearSelectedEntities(),this._removeEventListenerOnDeleteModalCTA()})),oS(this,"_handleClickDeleteModalCTAList",(e=>{var t,n=null===(t=e.target.closest(".delete-contribution-cta").dataset)||void 0===t?void 0:t.actionType;n==aS?this._onCancel():n==cS&&(this._onDelete(),this._isLoading=!0,this._handleLoadingState())})),sS)return sS;this.apiRoute=Sa("apiRoute"),this.contributionManager=Lw(),this.modalManager=new ro(document.getElementById("modal-delete-confirmation"),{triggerByOutletEl:!1}),this._selectedContributionEle,this._selectedCommentUrn,this._selectedThreadUrn,this._isLoading=!1,this._modalDeleteCTAListEle=document.getElementById("delete-modal-cta"),this._modalDismissBtnEle=document.querySelector(".delete-modal-dismiss-btn"),this._modalContentEle=document.querySelector(".delete-modal-content"),this._deleteCTABtn=document.querySelector(".delete-cta-btn"),this._loadingSpinner=this._deleteCTABtn.querySelector(".delete-cta-loader"),this._deleteCTAButtonText=this._deleteCTABtn.querySelector(".delete-cta-text"),this._authorContainerEle=document.querySelector(".delete-contribution-author"),rS.setCustomData("comment_submit_delete",(()=>{if(hw(this._selectedContributionEle))return{feedActionType:"deleteContributionComment",feedActionCategory:"delete",feedControl:"comment_submit_delete"}}))}bindEvents(e){var t=e.contributionUrn,n=e.segmentUrn,i=e.text,r=e.contributionContentEle;if(t&&n&&i&&r){if(this._selectedContributionEle=r,this._selectedCommentUrn=t,this._selectedThreadUrn=n,!Sa("isMobile")&&this._modalContentEle){var o;this._modalContentEle.textContent=i,this._authorContainerEle.textContent="";var s=null===(o=r.querySelector(".contribution__lockup"))||void 0===o?void 0:o.children;s&&this._appendContributionAuthorEle(s)}this._addEventListenerOnDeleteModalCTA(),this.modalManager.open({focusElement:this._selectedContributionEle.querySelector(".ellipsis-menu__trigger")})}}_onDelete(){this._isLoading||GE(this.apiRoute,lS.deleteQuery,{threadUrn:this._selectedThreadUrn,commentUrn:this._selectedCommentUrn}).then((()=>{hw(this._selectedContributionEle)?(pw(this._selectedContributionEle.closest(".contribution"),!0),this._selectedContributionEle.remove(),TE.trigger(_a.TOAST_TYPES.SUCCESS,Sa("contributionReplyDeleteSuccess"))):(this.contributionManager.deleteContribution(this._selectedThreadUrn,this._selectedCommentUrn),TE.trigger(_a.TOAST_TYPES.SUCCESS,Sa("contributionDeleteSuccess"))),b.dispatchCustomEvent(document.body,OE,{entityUrn:Sa("ugcPost")})})).catch((()=>{Bw(Mw);var e={text:Sa("contributionDeletePageRefresh"),url:window.location.href,target:"_self"};TE.trigger(_a.TOAST_TYPES.ERROR,Sa("contributionDeleteError"),void 0,e)})).finally((()=>{this.modalManager.close(),this._isLoading=!1,this._clearSelectedEntities(),this._removeEventListenerOnDeleteModalCTA(),this._handleLoadingState()}))}_handleLoadingState(){this._deleteCTAButtonText.classList.toggle("hidden",this._isLoading),this._loadingSpinner.classList.toggle("loader--show",this._isLoading),this._isLoading?(this._deleteCTABtn.setAttribute("disabled","true"),this._deleteCTABtn.setAttribute("aria-disabled","true")):(this._deleteCTABtn.removeAttribute("disabled"),this._deleteCTABtn.removeAttribute("aria-disabled"))}_addEventListenerOnDeleteModalCTA(){this._modalDeleteCTAListEle.addEventListener("click",this._handleClickDeleteModalCTAList),Sa("isMobile")||this._modalDismissBtnEle.addEventListener("click",this._onCancel)}_removeEventListenerOnDeleteModalCTA(){this._modalDeleteCTAListEle.removeEventListener("click",this._handleClickDeleteModalCTAList),Sa("isMobile")||this._modalDismissBtnEle.removeEventListener("click",this._onCancel)}_clearSelectedEntities(){delete this._selectedContributionEle,delete this._selectedCommentUrn,delete this._selectedThreadUrn}_appendContributionAuthorEle(e){for(var t=new DocumentFragment,n=0;n<e.length;n++)t.appendChild(e[n].cloneNode(!0));this._authorContainerEle.appendChild(t)}}function uS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}oS(lS,"deleteQuery","2a40bfbb83526fa4342916a70534c0de");class dS{constructor(){uS(this,"onClickMenuItem",(e=>{var t,n=e.parentNode,i=null===(t=n.dataset)||void 0===t?void 0:t.feedActionType;i&&this.actionTypes[i](n)})),uS(this,"_handleDeleteActionClickOnMenu",(e=>{var t,n;n=this._getTextCommentContributionEleInfo(e),(sS=new lS).bindEvents(n),null===(t=document.querySelector("#modal-delete-confirmation .modal__dismiss"))||void 0===t||t.focus()})),uS(this,"_handleEditActionClickOnMenu",(e=>{!function(e){var t,n=e.contributionContentEle,i=e.segmentUrn,r=e.contributionUrn,o=e.text,s=n.querySelector(".contribution-text-area");if(null===(t=n.querySelector(".ellipsis-menu__trigger"))||void 0===t||t.click(),document.activeElement.blur(),s)s.focus();else{var a=document.querySelector("#text-area-edit-template").content.firstElementChild.cloneNode(!0);a.querySelector("textarea").dataset.segmentUrn=i,a.querySelector(".contribution-error-message").setAttribute("id","error-".concat(i));var c=n.querySelector(".contribution__text");c.classList.add(Yw),dw(c),c.parentNode.insertBefore(a,c.nextSibling);var l=new iS(a,r,(()=>{c.classList.remove(Yw),c.parentNode.removeChild(a)}));l.setText(o),l.enableEditing(),l.textarea.focus()}}(this._getTextCommentContributionEleInfo(e))})),uS(this,"_handleCopyActionClickOnMenu",(e=>{if(navigator.clipboard&&window.isSecureContext){var t=Sa("isGuest"),n=Sa("isLite"),i=this._getTextCommentContributionEleInfo(e),r=i.contributionUrn,o=i.segmentUrn,s=this._convertCommentUrnToDash(r),a=URL?new URL(location.href):new window.URL(location.href);if(a.searchParams.set("utm_source","share"),a.searchParams.set("utm_campaign","copy_contribution_link"),a.searchParams.set("utm_medium","".concat(t?"guest":"member","_").concat(n?"mobile":"desktop")),hw(e)){var c,l=null===(c=e.closest(".contribution").dataset)||void 0===c?void 0:c.contributionUrn;a.searchParams.set("replyUrn",r),a.searchParams.set("contributionUrn",l)}else a.searchParams.set("contributionUrn",r);a.searchParams.set("articleSegmentUrn",o),a.searchParams.set("dashContributionUrn",s),navigator.clipboard.writeText(a.href).then((()=>{TE.trigger(_a.TOAST_TYPES.SUCCESS,Sa("contributionCopyLink"))})).catch((()=>{TE.trigger(_a.TOAST_TYPES.ERROR,Sa("contributionCopyFail"))}))}else TE.trigger(_a.TOAST_TYPES.ERROR,Sa("contributionCopyUnsupported"))}))}_convertCommentUrnToDash(e){var t=e.match(/(urn:li:comment):\((.*),(\d+)\)/);return"urn:li:fsd_comment:(".concat(t[3],",").concat(t[2],")")}_getTextCommentContributionEleInfo(e){if(e){var t,n=null!==(t=e.closest(".contribution__reply"))&&void 0!==t?t:e.closest(".contribution");if(n){var i,r,o=null===(i=e.dataset)||void 0===i?void 0:i.commentUrn,s=null===(r=e.dataset)||void 0===r?void 0:r.commentThreadUrn;return o&&s?{contributionUrn:o,segmentUrn:s,text:n.querySelector(".contribution__text").textContent,contributionContentEle:n}:{}}}return{}}get actionTypes(){return{controlMenuEdit:this._handleEditActionClickOnMenu,controlMenuDelete:this._handleDeleteActionClickOnMenu,controlMenuCopy:this._handleCopyActionClickOnMenu}}}var hS,pS=e=>{var t;if(!((null===(t=document.querySelectorAll(".contribution-queue"))||void 0===t?void 0:t.length)>1)){var n=document.querySelector(".contribution-queue").cloneNode(!0);n.classList.remove("hidden"),document.querySelector('[data-contribution-urn="'.concat(e,'"]')).after(n)}};class fS{constructor(){window.document.querySelectorAll(".article-segment .load-more__cta--member").forEach((e=>mS(e)))}registerNewLoadMore(e){mS(e)}}function mS(e){null==e||e.addEventListener("click",(()=>{var t=e.dataset,n=t.contributionsCount,i=t.threadUrn,r=t.isReply,o=t.initialLoad;if(i){var s,a="true"===r,c=document.querySelector('.total-count[data-thread-urn="'.concat(i,'"]')),l=e.closest(".article-segment"),u=l.querySelectorAll(".contribution-list .contribution"),d=null==u?void 0:u.length;if(Sa("isGuest"))return o&&window.location.assign(Sa("loginUrl")),u.forEach((e=>{e.classList.remove("hidden")})),Number(n)<=d&&e.classList.add("hidden","hide"),void(e.dataset.initialLoad=!0);var h,p=document.querySelector('.load-more__loader[data-thread-urn="'.concat(i,'"]')),f=Lw(),m=function(e,t){var n=e.threadUrn,i=e.start,r=e.count,o=t?jE:HE;return o=b.addQueryParam(o,"threadUrn",n),o=b.addQueryParam(o,"start",i),o=b.addQueryParam(o,"count",r)}(f.getNextPageMetadata(i),a);a&&(h=p.closest(".contribution").dataset.contributionUrn),e.classList.add("hidden","hide"),c&&c.classList.add("hidden"),p.classList.add("loader--show"),ee(m).then((t=>{var r,o=a?document.querySelector("#add-contribution-reply").content.querySelector(".add-contribution-reply-container"):document.querySelector("#more-contributions").content.querySelector(".more-contributions-container");Fs.setSanitizedMarkup(o,t.responseText),a?f.loadMoreContributionReplies(h):f.loadMoreContributions(i),f.updateNextPageMetadata(i,parseInt(n))||(e.classList.remove("hidden","hide"),c&&c.classList.remove("hidden")),null===(r=window.lazyloader)||void 0===r||r.then((e=>e.refreshLoader()));var u=l.querySelectorAll(".contribution")[d];s=null==u?void 0:u.querySelector(".contribution__lockup"),lw(l)})).catch((()=>{var t={text:Sa("loadMoreErrorButton"),url:window.location.href,target:"_self"};TE.trigger(_a.TOAST_TYPES.ERROR,Sa(a?"loadMoreRepliesErrorText":"loadMoreErrorText"),void 0,t),e.classList.remove("hidden","hide"),c&&c.classList.remove("hidden"),s=e})).finally((()=>{var e;p.classList.remove("loader--show"),null===(e=s)||void 0===e||e.focus()}))}}))}function gS(){return hS||(hS=new fS),hS}function vS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function yS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vS(Object(n),!0).forEach((function(t){bS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function bS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ES,_S=".article-segment",wS=".contribution__preview-cta",SS=".contribution__reply-input-wrapper",TS=".contribution__reply-reply-btn",CS=".contribution__reply-text-area";class kS{constructor(){this.initializeAllreplyHandlers(),this.apiRoute=Sa("apiRoute"),this.loadMoreInstance=gS()}register(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_S;this.setSegmentEventHandler(e,t)}initializeAllreplyHandlers(e){[this.initializeReplyPreviewHandler,this.intializeReplyButtonHandler,this.initializeReplySubmitHandler,this.initializeReplyCancelHandler].forEach((t=>{this.register(t,e)}))}initializeReplyPreviewHandler(e,t){e.closest(wS)&&IS.call(t,this)}intializeReplyButtonHandler(e,t){if(e.closest(".contribution__reply-btn")){var n=this.querySelector(SS);n.classList.remove("hidden"),t.initializeCharacterCountHandler.call(this,n),n.scrollIntoView({behavior:"smooth"}),n.querySelector("textarea").focus(),IS.call(t,this)}}initializeReplySubmitHandler(e,t){e.closest(TS)&&t.submitReply.call(this)}initializeReplyCancelHandler(e){e.closest(".contribution__reply-cancel-btn")&&(this.querySelector(SS).classList.add("hidden"),this.scrollIntoView({behavior:"smooth"}))}initializeCharacterCountHandler(e){var t=Sa("i18n_reply_characters"),n=e.querySelector("textarea"),i=e.querySelector(".reply-character-count"),r=e.querySelector(TS),o=n.getAttribute("maxlength"),s=n.getAttribute("minlength"),a=()=>{var e=n.value.trimEnd().length;i.innerText="".concat(e,"/").concat(o," ").concat(t);var a=e>o,c=e<s;r.disabled=a||c,c||a?i.classList.add("text-color-signal-negative"):i.classList.remove("text-color-signal-negative")};a(),n.addEventListener("input",a)}setSegmentEventHandler(e,t){var n=this;document.querySelectorAll(t).forEach((t=>{t.addEventListener("click",(function(t){var i=t.target,r=i.closest(".contribution");r&&e.call(r,i,n)}))}))}submitReply(){var e,t,n=Lw(),i=this.querySelector(SS),r=kS.query,o=this.dataset.contributionUrn,s=null===(e=this.closest(_S))||void 0===e?void 0:e.dataset.threadUrn,a=null===(t=this.querySelector("".concat(SS," ").concat(CS)))||void 0===t?void 0:t.value;if(!a)throw"Invalid text value";AS(!0,i);var c={parentCommentUrn:o,threadUrn:s,text:a,createdAt:Date.now()};return ee("/advice/api/addContributionReply",{method:"POST",headers:{"content-type":"application/json"},postData:JSON.stringify(yS({query:r},c))}).then((e=>{if(200!==e.status)return Promise.reject(e.status);var t=Sa("i18n_reply_post_success");TE.trigger(_a.TOAST_TYPES.SUCCESS,t);var i=document.querySelector("#add-contribution-reply");if(!i)throw"Cannot find add contribution reply container";Fs.setSanitizedMarkup(i.content.querySelector(".add-contribution-reply-container"),e.responseText),n.addNewReply(o)})).catch((()=>{var e="https://www.".concat(k.getDomain(document),"/pulse/topics/home"),t={text:Sa("i18n_contribution_post_rate_limit_error_suggestion"),url:e,trk:this.trackingPrefix,target:"_self"},n=Sa("i18n_reply_post_rate_limit_error");TE.trigger(_a.TOAST_TYPES.ERROR,n,void 0,t)})).finally((()=>{AS(!1,i),this.querySelector(SS).classList.add("hidden"),this.querySelector(CS).value=""}))}}function LS(){ES||(ES=new kS)}function IS(e){Sa("isGuest")&&window.location.assign(Sa("loginUrl")),e.querySelector(wS).classList.add("hidden");var t=e.querySelector(".contribution__reply-thread");t.classList.remove("opacity-0","h-0"),t.setAttribute("aria-hidden",!1);var n=e.querySelector(".load-more__cta");null==n||n.classList.remove("hidden"),this.loadMoreInstance.registerNewLoadMore(n),t.querySelectorAll("".concat(".contribution__reply"," .contribution__text")).forEach((e=>{uw(e)}))}function AS(e,t){var n=t.querySelector(TS),i=t.querySelector(".loader"),r=t.querySelector(".contribution__reply-reply-text");n.setAttribute("disabled",e),e?(i.classList.add("loader--show"),r.classList.add("hidden")):(i.classList.remove("loader--show"),r.classList.remove("hidden"))}bS(kS,"query","a4df49b7971775bd1da282214ff9e1b6");var xS="#x-article-feedback-content-initial-template",OS=".x-article-feedback__content",RS="hidden";class PS extends ro{constructor(e){super(e),this.el=e,this.modalTitleEl=this.el.querySelector(".modal__title"),this.contentEl=this.el.querySelector(OS),this.cancelBtn=this.el.querySelector('[data-x-article-feedback-action="cancel"]'),this.submitBtn=this.el.querySelector('[data-x-article-feedback-action="submit"]'),this.doneBtn=this.el.querySelector('[data-x-article-feedback-action="done"]'),this.modalTitles={INITIAL:Sa("embed_x_article_feedback_title_initial"),CONFIRMATION:Sa("embed_x_article_feedback_title_confirmation")},this.renderPageInitial()}enableSubmit(){this.submitBtn.disabled=!1}disableSubmit(){this.submitBtn.disabled=!0}hideBtnEl(e){e&&e.classList.add(RS)}showBtnEl(e){e&&e.classList.remove(RS)}renderContentFromTemplate(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xS,t=this.el.querySelector(e).content.firstElementChild.cloneNode(!0);this.contentEl.parentElement.replaceChild(t,this.contentEl),this.contentEl=this.el.querySelector(OS)}clearContent(){for(this.disableSubmit();this.contentEl.firstChild;)this.contentEl.removeChild(this.contentEl.firstChild)}renderPageInitial(){this.setModalTitle(this.modalTitles.INITIAL),this.renderContentFromTemplate(xS),this.showBtnEl(this.cancelBtn),this.showBtnEl(this.submitBtn),this.hideBtnEl(this.doneBtn)}renderPageConfirmation(){this.setModalTitle(this.modalTitles.CONFIRMATION),this.renderContentFromTemplate("#x-article-feedback-content-confirmation-template"),this.hideBtnEl(this.cancelBtn),this.hideBtnEl(this.submitBtn),this.showBtnEl(this.doneBtn)}setModalTitle(e){this.modalTitleEl.textContent=e}open(){this.el.querySelector(OS).childNodes.length||this.renderPageInitial(),super.open()}close(){this.clearContent(),super.close()}}class NS{constructor(e){if(!e)throw Error("An element must be provided to XArticleFeedback");this.modalEl=e,this.modal=new PS(this.modalEl),this.contentUrn=Sa("embed_x_content_urn"),document.body.addEventListener("click",this.clickHandler.bind(this))}clickHandler(e){var t=e.target.closest("[data-x-article-feedback-input]"),n=e.target.closest('[data-x-article-feedback-action="report_article"]'),i=e.target.closest('[data-x-article-feedback-action="report_article_confirmation"]');t&&(this.optionSelected(t),this.modal.enableSubmit()),(n||i||"cancel"===e.target.dataset.xArticleFeedbackAction||"done"===e.target.dataset.xArticleFeedbackAction)&&this.modal.close(),"submit"===e.target.dataset.xArticleFeedbackAction&&this.submitFeedback()}hideFeedbackEntries(){var e=document.querySelectorAll(".x-article-feedback-entry");e.length&&[...e].forEach((e=>{e.classList.add("hidden")}))}optionSelected(e){document.querySelector("#x-article-feedback-modal").querySelector('[data-x-article-feedback-action="submit"]').dataset.feedActionType=e.dataset.xArticleFeedbackInput}submitFeedback(){this.hideFeedbackEntries(),this.modal.renderPageConfirmation()}}var MS="hidden";class DS{constructor(){this.surveyEl=document.querySelector(".x-article-survey"),this.surveyEl&&(this.entryEl=this.surveyEl.querySelector(".x-article-survey-entry"),this.confirmationEl=this.surveyEl.querySelector(".x-article-survey-confirmation"),this.buttonGoodEl=this.surveyEl.querySelector(".x-article-survey-cta-good--member"),this.buttonNotGoodEl=this.surveyEl.querySelector(".x-article-survey-cta-not-good--member"),this._attachEventListeners())}_attachEventListeners(){this.buttonGoodEl&&this.buttonGoodEl.addEventListener("click",(()=>{this._showConfirmation()}))}_showConfirmation(){this.entryEl&&this._hideEl(this.entryEl),this.confirmationEl&&this._showEl(this.confirmationEl)}_hideEl(e){e.classList.add(MS)}_showEl(e){e.classList.remove(MS)}}var US="CREATE",qS="DELETE",BS="contribution-reaction";class FS{constructor(){var e=Sa("isGuest");this.apiRoute=Sa("apiRoute"),e||this.bindEvents()}bindEvents(){document.addEventListener("click",(e=>{var t=e.target;if(t.classList.contains("insightful-reaction")){var n=t.dataset.entityUrn,i="true"===t.dataset.viewerReacted;this.toggleViewerReacted(t),GE(this.apiRoute,FS.query,{action:i?qS:US,entityUrn:n,reactionType:"INTEREST"}).catch((()=>{Bw(Uw)}))}}))}toggleViewerReacted(e){var t=parseInt(e.dataset.reactionsCount)||0;"true"===e.dataset.viewerReacted?(e.dataset.viewerReacted="false",e.dataset.feedActionCategory="UNREACT",e.dataset.feedActionType="unlikeContribution",e.setAttribute("aria-pressed","false"),t--):(e.dataset.viewerReacted="true",e.dataset.feedActionCategory="REACT",e.dataset.feedActionType="likeContribution",e.setAttribute("aria-pressed","true"),t++,document.dispatchEvent(new CustomEvent(BS,{detail:{contributionUrn:e.dataset.entityUrn}}))),e.dataset.reactionsCount=t,e.classList.toggle("viewer-reacted"),this.updateReactionsCount(e,t)}updateReactionsCount(e,t){e.querySelector(".insightful-reaction__count").textContent=this.getCopyText(t)}getCopyText(e){var t=Sa("reactionButtonCopyZeroState"),n=Sa("reactionButtonCopySingular"),i=Sa("reactionButtonCopyPlural"),r=t;return 1==e?r=n:e>1&&i&&(r=i.replace(/\d+/,e)),r}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(FS,"query","0182e59943976d1bc65149171328d89d");const jS=Array.prototype,HS=Object.prototype;jS.map,jS.some,HS.toString,HS.hasOwnProperty;function GS(e,t){if(!e)throw new Error(t)}function zS(){zS=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,s=Object.create(o.prototype),a=new C(r||[]);return i(s,"_invoke",{value:_(e,n,a)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,s,a){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function _(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new E(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function WS(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}function VS(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){WS(o,i,r,s,a,"next",e)}function a(e){WS(o,i,r,s,a,"throw",e)}s(void 0)}))}}function KS(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var YS=["x_article_contribution_prompt_invite_contributor","x_article_contribution_prompt_share_contribution"];class QS{constructor(){KS(this,"trackingToken",void 0),this.memberUrn=Sa("memberUrn"),GS(this.memberUrn,"A memberUrn is required to fetch Lego information"),this.legoPageId=Sa("legoPageId"),GS(this.legoPageId,"A legoPageId is required to fetch Lego information"),this.legoSlotId=Sa("legoSlotId"),GS(this.legoSlotId,"A legoSlotId is required to fetch Lego information"),this.apiRoute=Sa("apiRoute"),GS(this.apiRoute,"An apiRoute is required to fetch Lego information"),this.isContributor=Sa("isContributor"),this.init()}init(){var e=this;return VS(zS().mark((function t(){return zS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.isContributor||document.addEventListener(BS,function(){var t=VS(zS().mark((function t(n){return zS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fetchAndRenderPrompt(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.isContributor&&document.addEventListener(tS,function(){var t=VS(zS().mark((function t(n){return zS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.fetchAndRenderPrompt(n);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})))()}fetchAndRenderPrompt(e){var t=this;return VS(zS().mark((function n(){var i;return zS().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getPromptTemplate();case 2:(i=n.sent)&&t.renderPrompt({promptTemplate:i,contributionUrn:e.detail.contributionUrn});case 4:case"end":return n.stop()}}),n)})))()}getPromptTemplate(){var e=this;return VS(zS().mark((function t(){var n,i,r;return zS().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchLegoWidgets();case 2:if(n=t.sent,!(i=n.widgetContents)){t.next=11;break}if(r=i.find((e=>YS.includes(e.id)))){t.next=8;break}return t.abrupt("return",null);case 8:return e.legoWidgetId=r.id,e.trackingToken=r.trackingToken,t.abrupt("return",document.getElementById("lego-template-for-widget-".concat(r.id)));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t)})))()}renderPrompt(e){var t,n,i=e.promptTemplate,r=e.contributionUrn,o=document.querySelector('[data-contribution-urn="'.concat(r,'"]'));if(null===(t=o.nextElementSibling)||void 0===t||!t.hasAttribute("data-lego-segment-prompt")){var s=i.content.firstElementChild.cloneNode(!0);o.after(s),this.sendLegoImpressionEvent(),null===(n=window.lazyloader)||void 0===n||n.then((e=>{e.refreshLoader()}));var a=o.parentElement.querySelector("[data-lego-segment-prompt-dismiss]"),c=null==a?void 0:a.addEventListener("click",(()=>{s.classList.add("hidden"),removeEventListener("click",c),this.sendLegoActionEvent(cE.legoTrackingUtils.ACTION_CATEGORY.DISMISS)}));s.querySelector("[data-lego-segment-prompt-callback]").addEventListener("click",(()=>{this.widgetPrimaryActionHandler(this.legoWidgetId)})),"x_article_contribution_prompt_invite_contributor"===this.legoWidgetId&&cE.firePageViewEvent("prompt_invite_contribution")}}sendLegoActionEvent(e){cE.legoTrackingUtils.fireLegoEvent(cE.legoTrackingUtils.LEGO_TRACKING_URLS.LEGO_WIDGET_ACTION_EVENT,{trackingToken:this.trackingToken,actionCategory:e})}sendLegoImpressionEvent(){cE.legoTrackingUtils.fireLegoEvent(cE.legoTrackingUtils.LEGO_TRACKING_URLS.LEGO_WIDGET_IMPRESSION_EVENT)}fetchLegoWidgets(){var e={pageId:this.legoPageId,memberUrn:this.memberUrn,filters:{slotId:this.legoSlotId}};return GE(this.apiRoute,QS.query,e).catch((e=>{b.dispatchCustomEvent(document.body,"LEGO_PROMPTS_REQUEST_FAILED",e)}))}widgetPrimaryActionHandler(e){switch(e){case"x_article_contribution_prompt_invite_contributor":this.inviteContributorWidgetPrimaryActionHandler();break;case"x_article_contribution_prompt_share_contribution":this.shareContributionWidgetPrimaryActionHandler()}}inviteContributorWidgetPrimaryActionHandler(){var e=Sa("legoSegmentPromptInviteContributorInShareUrlParam"),t=Sa("legoSegmentPromptInviteContributorInShareTextParam");document.dispatchEvent(new CustomEvent(lE,{detail:"https://www.".concat(k.getDomain(document),"/shareArticle?mini=true&view=message&url=").concat(encodeURIComponent(e),"&text=").concat(encodeURIComponent(t))}))}shareContributionWidgetPrimaryActionHandler(){var e=document.querySelector("#share-modal");new Qb(e,{endpoint:this.apiRoute}).open()}}KS(QS,"query","5b136618eb52bac70766afaae015283b");var XS="ControlInteractionEvent",JS="SHORT_PRESS";function ZS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajax",n=k.getPageTag(document),i=k.getLocale(document),r=wE(),o={};return i&&(o.interfaceLocale=i),e&&(o.pageKey=e),r&&(o.theme=r),{header:{},requestHeader:o,pageType:t,trackingInfo:{clientTimestamp:Date.now(),pageTag:n}}}function $S(){$S=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,s=Object.create(o.prototype),a=new C(r||[]);return i(s,"_invoke",{value:_(e,n,a)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,s,a){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function _(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new E(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function eT(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}var tT=Object.freeze({ELIGIBLE:"ELIGIBLE",PENDING:"PENDING",APPROVED:"APPROVED",UNKNOWN:"UNKNOWN"});class nT{constructor(){var e,t;this.apiRoute=Sa("apiRoute"),GS(this.apiRoute,"An apiRoute is required to send the request mutation"),this.isMobile=Sa("isMobile"),this.skillId=Sa("skillId"),this.readyToContributeButtons=document.querySelectorAll("[data-ready-to-contribute-btn]"),this.readyToContributeButtons.forEach((e=>{e.disabled||function(e,t){window.tracking.then((n=>{cE.firePageViewEvent(n,t,e)}))}("view_contributor_access_request_cta")})),this.isMobile?this.initBottomSheetManager():this.initModalManager(),this.submitRequestButton=document.querySelector("[data-submit-request-to-contribute]"),this.submitRequestButtonText=document.querySelector("[data-submit-request-to-contribute-text]"),this.submitRequestButtonLoader=null===(e=this.submitRequestButton)||void 0===e?void 0:e.querySelector(".loader"),null===(t=this.submitRequestButton)||void 0===t||t.addEventListener("click",(()=>{this.submitRequestToContributeClickHandler()}))}initBottomSheetManager(){var e=document.getElementById("request-to-contribute-bottom-sheet");this.bottomSheetManager=e&&new lh({bottomSheetEl:e,enablePageViewTracking:!0,pageKey:"view_contributor_access_request_modal_web"}),this.readyToContributeButtons.forEach((e=>{e.addEventListener("click",(()=>{this.bottomSheetManager.open()}))}))}initModalManager(){var e=document.getElementById("request-to-contribute-modal");this.modalManager=e&&new ro(e,{enablePageViewTracking:!0,pageKey:"view_contributor_access_request_modal_web"})}submitRequestToContributeClickHandler(){return this.showLoader(!0),this.submitRequestToContribute().then((()=>{this.isMobile?this.bottomSheetManager.close():this.modalManager.close(),this.readyToContributeButtons.forEach((e=>{e.setAttribute("disabled",!0),e.querySelector("[data-ready-to-contribute-btn-text]").textContent=Sa("i18n_request_to_contribute_is_pending")})),TE.trigger(_a.TOAST_TYPES.SUCCESS,Sa("i18n_request_to_contribute_success_text"))})).catch((()=>{TE.trigger(_a.TOAST_TYPES.ERROR,Sa("i18n_request_to_contribute_error"))})).finally((()=>{this.showLoader(!1)}))}showLoader(e){this.submitRequestButtonLoader.classList.toggle("loader--show"),this.submitRequestButton.disabled=e}submitRequestToContribute(){var e=this;return function(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){eT(o,i,r,s,a,"next",e)}function a(e){eT(o,i,r,s,a,"throw",e)}s(void 0)}))}}($S().mark((function t(){return $S().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",GE(e.apiRoute,nT.contributionRequestSkillMutation,{skillUrn:"urn:li:skill:".concat(e.skillId)}).then((e=>{var t=e.createContributionRequestSkill.contributionRequestSkillState;if(!t||t!==tT.PENDING)throw new Error("Invalid contributionRequestSkillState: ".concat(t));return e})));case 1:case"end":return t.stop()}}),t)})))()}}function iT(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(nT,"contributionRequestSkillMutation","50a3054f54c73e873a7df84496fe1767");var rT,oT="cancel",sT="save";class aT{constructor(){iT(this,"_onCancel",(()=>{this._selectLangugeDropdown&&(this._selectLangugeDropdown.value=this._servedLocale.localizedName),this.modalManager.close(),this._removeEventListenerOnModalCTA(),this._clearSelectedEntities()})),iT(this,"_handleClickArticleTranslationCTA",(e=>{var t,n=null===(t=e.target.closest(".article-translation-cta").dataset)||void 0===t?void 0:t.actionType;n==oT?this._onCancel():n==sT&&this._onSave()})),iT(this,"_handleClickDismissBtn",(e=>{e.target.closest("#article-translation-modal-dismiss-btn")&&this._onCancel()})),this.apiRoute=Sa("apiRoute"),this.modalManager=new ro(document.getElementById("modal-article-translation"),{triggerByOutletEl:!1}),this._servedLocale,this._availableLocales,this._targetLocale,this._modalArticleTranslationCTAEle=document.getElementById("article-translation-modal-cta"),this._modalDismissBtnEle=document.querySelector("#article-translation-modal-dismiss-btn"),this._modalContentEle=document.querySelector("#article-translation-modal-content"),this._saveCTABtn=document.querySelector("#article-translation-save-cta-btn"),this._loadingSpinner=this._saveCTABtn.querySelector("#save-cta-loader"),this._saveCTAButtonText=this._saveCTABtn.querySelector("#save-cta-text"),this._selectLangugeDropdown=document.querySelector("#select-language-dropdown")}bindEvents(e){var t=e.servedLocale,n=e.availableLocales,i=e.clickedElement;n.length>1&&t&&(this._servedLocale=t,this._availableLocales=n,this._targetLocale=t,this._selectLangugeDropdown&&(this._selectLangugeDropdown.value=this._servedLocale.localizedName),!Sa("isMobile")&&this._modalContentEle,this._addEventListenerOnModalCTA(),this.modalManager.open({focusElement:i}))}_onSave(){var e,t=null===(e=this._selectLangugeDropdown)||void 0===e?void 0:e.value,n="x_article_pre_translation_switch_to_original_locale";if("English (Original)"!==t){var i,r=null===(i=this._availableLocales)||void 0===i?void 0:i.find((e=>e.localizedName===t));r&&(n="x_article_pre_translation_switch_to_".concat(r.locale.language))}!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:JS,n=k.getPageKey(document);window.tracking.then((i=>{var r=ZS(n);r.controlUrn="urn:li:control:".concat(n,"-").concat(e),r.interactionType=t,i.fireTrackingEvent(XS,r,i.state?i.state.currentPageInstance:i.getCurrentContext().pageInstance)}))}(n),this.modalManager.close(),this._removeEventListenerOnModalCTA(),t!==this._servedLocale.localizedName&&this._reloadPage()}_reloadPage(){if(this._selectLangugeDropdown){var e=this._availableLocales.find((e=>e.localizedName===this._selectLangugeDropdown.value));if(e){this._targetLocale=e.locale.language;var t=new URL(window.location.href);t.searchParams.set("lang",this._targetLocale),window.location.href=t.toString()}}}_addEventListenerOnModalCTA(){this._modalArticleTranslationCTAEle.addEventListener("click",this._handleClickArticleTranslationCTA),this._modalDismissBtnEle.addEventListener("click",this._handleClickDismissBtn)}_removeEventListenerOnModalCTA(){this._modalArticleTranslationCTAEle.removeEventListener("click",this._handleClickArticleTranslationCTA),this._modalDismissBtnEle.removeEventListener("click",this._handleClickDismissBtn)}_clearSelectedEntities(){delete this._targetLocale}}class cT{constructor(e){this.bindEvents(e),this.apiRoute=Sa("apiRoute"),GS(this.apiRoute,"ApiRoute is required to fetch contribution translation"),this.servedLocale=Sa("servedLocale"),this.availableLocales=Sa("availableLocales")}bindEvents(e){e&&e.addEventListener("click",(t=>this.buttonOnClickActionMethod(t,e)))}buttonOnClickActionMethod(e,t){!function(e){if((rT=new aT).bindEvents(e),rT);}({availableLocales:this.availableLocales,servedLocale:this.servedLocale,clickedElement:t})}}var lT={af:"Wys oorspronklik",in:"Tunjukkan asli",ms:"Tunjuk asal",bs:"Prikaži original",ca:"Mostra original",cs:"Zobrazit originál",cy:"Dangos gwreiddiol",da:"Vis original",de:"Original anzeigen",et:"Näita originaali",en:"Show original",es:"Mostrar original",fr:"Afficher l'original",hr:"Prikaži original",it:"Mostra originale",sw:"Onyesha asilia",lv:"Rādīt oriģinālu",lt:"Rodyti originalą",hu:"Eredeti megjelenítése",mt:"Uri l-oriġinali",nl:"Toon origineel",no:"Vis original",pl:"Pokaż oryginał",pt:"Mostrar original",ro:"Afișează originalul",sk:"Zobraziť originál",sl:"Prikaži izvirnik",sr:"Prikaži original",fi:"Näytä alkuperäinen",sv:"Visa original",tl:"Ipakita ang orihinal",vi:"Hiển thị gốc",tr:"Orijinali göster",zh:"显示原文",ja:"元の表示",ko:"원본 보기",ar:"عرض الأصلي",fa:"نمایش اصلی",he:"הצג מקור",ur:"اصل دکھائیں",hi:"मूल दिखाएं",th:"แสดงต้นฉบับ",el:"Εμφάνιση πρωτοτύπου",bg:"Покажи оригинал",ru:"Показать оригинал",uk:"Показати оригінал"},uT={af:"Vertaal",in:"Diterjemahkan",ms:"Diterjemah",bs:"Prevedeno",ca:"Traduït",cs:"Přeloženo",cy:"Cyfieithwyd",da:"Oversat",de:"Übersetzt",et:"Tõlgitud",en:"Translated",es:"Traducido",fr:"Traduit",hr:"Prevedeno",it:"Tradotto",sw:"Ilitafsiriwa",lv:"Tulkots",lt:"Išverstas",hu:"Lefordítva",mt:"Tradotti",nl:"Vertaald",no:"Oversatt",pl:"Przetłumaczono",pt:"Traduzido",ro:"Tradus",sk:"Preložené",sl:"Prevedeno",sr:"Prevedeno",fi:"Käännetty",sv:"Översatt",tl:"Isinalin",vi:"Đã dịch",tr:"Çevrildi",zh:"已翻译",ja:"翻訳済み",ko:"번역됨",ar:"تم الترجمة",fa:"ترجمه شده",he:"תורגם",ur:"ترجمہ کیا گیا",hi:"अनुवादित",th:"แปลแล้ว",el:"Μεταφράστηκε",bg:"Преведено",ru:"Переведено",uk:"Перекладено"};class dT{constructor(e){this.bindEvents(e),this.apiRoute=Sa("apiRoute"),GS(this.apiRoute,"ApiRoute is required to fetch contribution translation"),this.sourceLocale=Sa("sourceLocale"),this.targetLocale=Sa("targetLocale")}bindEvents(e){e&&e.addEventListener("click",(e=>{var t=e.target;if(this.sourceLocale&&this.targetLocale){var n,i=t.closest(".show-translation-button"),r=t.closest(".show-original-button"),o=t.closest(".contribution");o&&(n=o.getAttribute("data-contribution-urn")),i?this.translateContribution(i,n):r&&this.showOriginalContribution(r,n)}}))}toggleButtons(e){e.classList.toggle("hidden")}toggleTranslatingStatusSpan(e,t,n){var i,r=null===(i=e.closest(".contribution"))||void 0===i?void 0:i.querySelector(".translation-status");r&&(r.textContent=Sa(t),"contributionTranslated"===t&&(r.textContent=uT[this.targetLocale]),n&&this.toggleButtons(r))}translateContribution(e,t){this.toggleTranslatingStatusSpan(e,"contributionTranslationLoading",!0),this.toggleButtons(e),this.translateContributionText(e,t,this.targetLocale,(()=>{this.toggleTranslatingStatusSpan(e,"contributionTranslated",!1),e.nextElementSibling.textContent=lT[this.targetLocale],this.toggleButtons(e.nextElementSibling)}))}showOriginalContribution(e,t){var n,i,r=null===(n=this.sourceLocale)||void 0===n||null===(i=n.primaryLocale)||void 0===i?void 0:i.language;this.toggleTranslatingStatusSpan(e,"contributionTranslationLoading",!1),this.toggleButtons(e),this.translateContributionText(e,t,r,(()=>{this.toggleTranslatingStatusSpan(e,"contributionTranslated",!0),this.toggleButtons(e.previousElementSibling)}))}translateContributionText(e,t,n,i){var r=this.getElementByDataContributionUrn(t);if(r&&n){var o=dT.query,s={commentUrn:t,targetLocale:n};GE(this.apiRoute,o,s).then((e=>{var t,n,o,s,a=null==e||null===(t=e.socialComments)||void 0===t||null===(n=t[0])||void 0===n||null===(o=n.message)||void 0===o||null===(s=o[0])||void 0===s?void 0:s.text;if(a){var c=r.querySelector(".contribution__text");c&&(c.textContent=a),"function"==typeof i&&i()}})).catch((t=>{Bw(qw),this.toggleButtons(e),this.toggleTranslatingStatusSpan(e,"contributionTranslated",!0),TE.trigger(_a.TOAST_TYPES.ERROR,Sa("contributionTranslationFail")),b.dispatchCustomEvent(document.body,"CONTRIBUTION_TRANSLATION_REQUEST_FAILED",t)}))}}getElementByDataContributionUrn(e){return document.querySelector('[data-contribution-urn="'.concat(e,'"]'))}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(dT,"query","ab34fa728e6aa8341dde5674a2f87a07");var hT=60,pT=85;function fT(e,t){gT(e,t),t.add(e)}function mT(e,t,n){gT(e,t),t.set(e,n)}function gT(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function vT(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}function yT(e,t,n){return function(e,t,n){if(t.set)t.set.call(e,n);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=n}}(e,ET(e,t,"set"),n),n}function bT(e,t){return function(e,t){if(t.get)return t.get.call(e);return t.value}(e,ET(e,t,"get"))}function ET(e,t,n){if(!t.has(e))throw new TypeError("attempted to "+n+" private field on non-instance");return t.get(e)}function _T(){_T=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",s=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof h?t:h,s=Object.create(o.prototype),a=new C(r||[]);return i(s,"_invoke",{value:_(e,n,a)}),s}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var d={};function h(){}function p(){}function f(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var y=f.prototype=h.prototype=Object.create(m);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,s,a){var c=u(e[i],e,o);if("throw"!==c.type){var l=c.arg,d=l.value;return d&&"object"==typeof d&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function _(e,t,n){var i="suspendedStart";return function(r,o){if("executing"===i)throw new Error("Generator is already running");if("completed"===i){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===d)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===i)throw i="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i="executing";var c=u(e,t,n);if("normal"===c.type){if(i=n.done?"completed":"suspendedYield",c.arg===d)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i="completed",n.method="throw",n.arg=c.arg)}}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var i=u(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,d;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,r=function t(){for(;++i<e.length;)if(n.call(e,i))return t.value=e[i],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return p.prototype=f,i(y,"constructor",{value:f,configurable:!0}),i(f,"constructor",{value:p,configurable:!0}),p.displayName=c(f,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,c(e,a,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(E.prototype),c(E.prototype,s,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,i,r,o){void 0===o&&(o=Promise);var s=new E(l(t,n,i,r),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},b(y),c(y,a,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},e.values=k,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function i(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=void 0),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var a=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(a&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;T(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function wT(e,t,n,i,r,o,s){try{var a=e[o](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,r)}function ST(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function s(e){wT(o,i,r,s,a,"next",e)}function a(e){wT(o,i,r,s,a,"throw",e)}s(void 0)}))}}function TT(e){var t=e.nssUrn,n=e.count,i=b.addQueryParam("/advice/api/getReactionsModalContent","nssUrn",t);return i=b.addQueryParam(i,"count",n)}function CT(e){var t=e.nssUrn,n=e.start,i=e.count,r=e.reactionType,o=b.addQueryParam("/advice/api/getReactionsFragment","nssUrn",t);return o=b.addQueryParam(o,"start",n),o=b.addQueryParam(o,"count",i),r&&"ALL"!==r&&(o=b.addQueryParam(o,"reactionType",r)),o}function kT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.body;return t.querySelector('[data-reactions-pane="'.concat(e,'"]'))}function LT(e,t){var n;t.append(...e.childNodes),null===(n=window.lazyloader)||void 0===n||n.then((e=>e.refreshLoader()))}function IT(e){return Fs.setSanitizedMarkup(null,e)}function AT(e){var t=e.querySelector("[data-reaction-count]");return parseInt(t.dataset.reactionCount,10)}function xT(e){var t;null===(t=e.querySelector(".reactions-pane__loader"))||void 0===t||t.classList.add("hidden")}var OT,RT=new WeakMap,PT=new WeakMap,NT=new WeakMap,MT=new WeakMap,DT=new WeakMap,UT=new WeakMap,qT=new WeakMap,BT=new WeakSet,FT=new WeakSet,jT=new WeakSet,HT=new WeakSet,GT=new WeakSet,zT=new WeakSet,WT=new WeakSet,VT=new WeakSet;class KT extends ro{get hasContent(){return Boolean(bT(this,NT))}constructor(e){super(...arguments),fT(this,VT),fT(this,WT),fT(this,zT),fT(this,GT),fT(this,HT),fT(this,jT),fT(this,FT),fT(this,BT),mT(this,RT,{writable:!0,value:void 0}),mT(this,PT,{writable:!0,value:void 0}),mT(this,NT,{writable:!0,value:void 0}),mT(this,MT,{writable:!0,value:void 0}),mT(this,DT,{writable:!0,value:[]}),mT(this,UT,{writable:!0,value:void 0}),mT(this,qT,{writable:!0,value:20}),yT(this,RT,e.querySelector(".reactions-modal-loader")),yT(this,PT,e.querySelector(".reactions-modal-outlet")),vT(this,BT,YT).call(this)}open(e){var t=super.open();return this.loadReactions(e),t}loadReactions(e){var t=this;return ST(_T().mark((function n(){var i,r;return _T().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return yT(t,UT,new Map),t.hasContent&&(vT(t,jT,XT).call(t),vT(t,VT,nC).call(t)),n.prev=2,n.next=5,ee(TT({nssUrn:e,count:20}));case 5:i=n.sent,vT(t,jT,XT).call(t),o=i.responseText,s=bT(t,PT),LT(IT(o),s),yT(t,NT,e),new Fo(bT(t,PT).querySelector(".tabs")),yT(t,MT,new Set(["ALL"])),r=kT("ALL",bT(t,PT)),AT(r)>=bT(t,qT)&&vT(t,FT,QT).call(t,r,"ALL");case 14:return n.prev=14,vT(t,WT,tC).call(t),n.finish(14);case 17:case"end":return n.stop()}var o,s}),n,null,[[2,,14,17]])})))()}}function YT(){var e=this;bT(this,PT).addEventListener("click",function(){var t=ST(_T().mark((function t(n){var i,r;return _T().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=n.target,(r=i.closest("[data-reaction-tab-type]"))&&vT(e,GT,ZT).call(e,r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}function QT(e,t){bT(this,DT).push(function(e,t,n){return new Ie(e,{onLoading:function(){},loadResults:(i=ST(_T().mark((function i(){var r,o,s,a,c;return _T().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(r=e.querySelector(".reactions-list__loader")).classList.add("loader--show"),i.prev=2,i.next=5,t();case 5:o=i.sent,s=o.responseText,a=IT(s),(c=AT(a))<n&&this.removeInfiniteScroller(),c>0&&LT(a,e);case 11:return i.prev=11,e.removeChild(r),i.finish(11);case 14:case"end":return i.stop()}}),i,this,[[2,,11,14]])}))),function(){return i.apply(this,arguments)})});var i}(e,(()=>ee(CT({nssUrn:bT(this,NT),start:vT(this,zT,eC).call(this,t),count:bT(this,qT),reactionType:t}))),bT(this,qT)))}function XT(){vT(this,HT,JT).call(this),bT(this,PT).innerHTML=""}function JT(){bT(this,DT).forEach((e=>{e.removeInfiniteScroller()})),yT(this,DT,[])}function ZT(e){return $T.apply(this,arguments)}function $T(){return($T=ST(_T().mark((function e(t){var n,i,r,o,s,a,c;return _T().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.dataset.reactionTabType,bT(this,MT).has(n)){e.next=17;break}return i=CT({nssUrn:bT(this,NT),start:0,count:bT(this,qT),reactionType:n}),r=kT(n,bT(this,PT)),e.prev=4,e.next=7,ee(i);case 7:o=e.sent,s=o.responseText,a=IT(s),c=AT(a),LT(a,r),bT(this,MT).add(n),c>=bT(this,qT)&&vT(this,FT,QT).call(this,r,n);case 14:return e.prev=14,xT(r),e.finish(14);case 17:case"end":return e.stop()}}),e,this,[[4,,14,17]])})))).apply(this,arguments)}function eC(e){var t,n=(null!==(t=bT(this,UT).get(e))&&void 0!==t?t:0)+bT(this,qT);return bT(this,UT).set(e,n),n}function tC(){bT(this,RT).classList.add("hidden")}function nC(){bT(this,RT).classList.remove("hidden")}function iC(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return rC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rC(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function rC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}new class{constructor(){this.bindEvent()}bindEvent(){window.addEventListener("load",(()=>{var e,t,n,i,r,o,s;Ta("apiRoute","/advice/api/runQuery"),UE(),this.initTracking(),function(){var e=Sa("highlightedContributionUrn"),t=new URL(location.href).searchParams.get("articleSegmentUrn");if(e){var n=document.querySelector('[data-contribution-urn="'.concat(e,'"]'));n&&(xw(n,("true"===n.dataset.isLoggedIn?hT:pT)+128),"true"===Sa("isNbaRecommendedArticlesDeeplinkEnabled")&&n.dataset.contributorUrn===Sa("memberUrn")&&pS(e))}else if(t){var i=document.querySelector('[data-thread-urn="'.concat(t,'"].article-segment'));if(i){var r=document.querySelector('[data-segment-urn="'.concat(t,'"].add-your-perspective-section'));if(!Sa("shouldAutoExpandContributionBox")&&r){var o=r.querySelector(".add-your-perspective-button"),s=r.querySelector(".contribution-text-area-wrapper"),a=r.closest(".article-segment-contributions-header-container"),c=a.parentElement;null==o||o.classList.add("hidden"),null==s||s.classList.remove("hidden"),null==a||a.classList.remove("sticky-on-scroll"),null==c||c.classList.remove("sticky-on-scroll");var l=a.querySelector(".dtoast");null==l||l.classList.remove("hidden")}xw(i,("true"===i.dataset.isLoggedIn?hT:pT)+128)}}}(),this.setReactionMenus(),this.initMobileAndDesktopHandlers(),new nS,gS(),this.setUpContributionControlMenu(),function(){var e,t="newsletter-subscriber-button",n=null===(e=document.querySelector(".article-newsletter-card"))||void 0===e?void 0:e.querySelector(".follow-button"),i=document.getElementById("toasts");n&&i&&new rb(n,{endpoint:Sa("apiRoute"),onFollowSuccess:()=>{TE.trigger(_a.TOAST_TYPES.SUCCESS,Sa("follow_success_toast"),t)},onUnfollowSuccess:()=>{TE.trigger(_a.TOAST_TYPES.SUCCESS,Sa("unfollow_success_toast"),t)},errorCallback:()=>{TE.trigger(_a.TOAST_TYPES.ERROR,Sa("follow_failure_toast"),t)}})}(),kw(),this.setInsightfulReaction(),this.setOnDemandTranslationButtons(),this.setArticleLanguageSelectButton(),(e=document.querySelector(".disclaimer__expand-btn"))&&e.addEventListener("click",(function(){var e=document.querySelector(".disclaimer").classList.toggle("expanded");this.setAttribute("aria-expanded",e)})),LS(),this.setFeedback(),this.initLoadMoreForRelevantReading(),this.initRequestToContribute(),this.setupSeeMoreContributionText(),this.initLegoSegmentPrompt(),this.initShowMoreLessForTopics(),t="true"===Sa("isNBARecommendedArticlesEnabled"),n="true"===Sa("isXArticleRedesign"),t&&n&&document.addEventListener(tS,(e=>{var t,n=null==e||null===(t=e.detail)||void 0===t?void 0:t.contributionUrn;n&&pS(n)})),(i=document.querySelector(".article-segment"))&&document.addEventListener("click",(e=>{var t=e.target,n=i.getBoundingClientRect().top-55;(t.closest("button".concat(".x-featured-section__start-contribution-button"))||t.closest("button".concat(".x-featured-section__get-started-button")))&&window.scrollTo({top:n,behavior:"smooth"})})),r=".x-featured-expert-section",o=document.querySelector("".concat(r,"__experts-list")),null==(s=null==o?void 0:o.querySelectorAll("".concat(r,"__expert-contribution-btn")))||s.forEach((e=>{var t=null==e?void 0:e.dataset,n=t.expertContributionUrn,i=t.expertThreadUrn,r=t.contributionTrackingId;n&&(null==e||e.addEventListener("click",(()=>{var e=document.querySelector('.contribution[data-contribution-urn="'.concat(n,'"]')),t=document.querySelector(".base-template__nav-container");e&&t&&xw(e,t.clientHeight+128),IE({feedEventTrigger:{feedControl:"view_expert_contribution",feedActionCategory:"view",feedActionType:"viewExpertContribution"},threadUrn:i,contributionUrn:n,contributionTrackingId:r})})))})),function(){var e=".contribution__lockup",t=".contribution-reply-preview__lockup",n=[...document.querySelectorAll(e),...document.querySelectorAll(t)];r(n),new MutationObserver((i=>{i.forEach((i=>{i.addedNodes.length&&(n=[...document.querySelectorAll(e),...document.querySelectorAll(t)])}))})).observe(document.body,{childList:!0,subtree:!0});var i=!1;function r(e){e.forEach((e=>{if(null===(t=e.closest(".column-article-segment-contributions"))||void 0===t||null===(n=t.querySelector(".article-segment-contributions-header-container"))||void 0===n?void 0:n.classList.contains("sticky-on-scroll")){var t,n,i=e.getBoundingClientRect();i.top<100?e.classList.add("invisible"):i.top>=100&&i.top<148?(e.classList.remove("invisible"),e.classList.add("opacity-50")):i.top>=148&&(e.classList.remove("invisible"),e.classList.remove("opacity-50"))}}))}document.addEventListener("scroll",(function(){i||(window.requestAnimationFrame((function(){r(n),i=!1})),i=!0)}))}(),!Sa("isGuest")&&Sa("isReactionsModalEnabled")&&(!function(){if(!OT){var e=document.querySelector("#reactions-modal");if(!e)throw new Error("Modal element not found in document.");OT=new KT(e)}}(),this.initReactionsModalClickListeners()),fw()}))}initReactionsModalClickListeners(){document.body.addEventListener("click",(e=>{var t,n=e.target;if(function(e){return Boolean(e.closest('[data-id="social-actions__reactions"]'))}(n)){var i=(t=n.closest("[data-sap-comment-urn]"))?t.dataset.sapCommentUrn:null;i&&function(){if(!OT)throw new Error("Reactions modal not initialized.");return OT}().open(i)}}))}initLegoSegmentPrompt(){"true"===Sa("isInviteToContributeEnabled")&&new QS}setReactionMenus(){if(!Sa("isGuest")){document.querySelector(".article-social-activity .reactions-menu")&&new ib(".article-social-activity .reactions-menu__trigger",document.body,{endpoint:Sa("apiRoute"),onReactionSuccess:nw,onReaction:tw,shouldStopPropagation:!1});var e,t=iC(document.querySelectorAll("li.contribution"));try{for(t.s();!(e=t.n()).done;){iw(e.value)}}catch(e){t.e(e)}finally{t.f()}}}setFeedback(){if(!Sa("isGuest")){new DS;var e=document.querySelector("#x-article-feedback-modal");new NS(e)}}setInsightfulReaction(){new FS}setArticleLanguageSelectButton(){var e=document.querySelector(".article_translation_button");e&&new cT(e)}setOnDemandTranslationButtons(){document.querySelectorAll(".article-segment").forEach((e=>{new dT(e)}))}initRequestToContribute(){Sa("userCanRequestToContribute")&&new nT}initMobileAndDesktopHandlers(){Sa("isLite")?(new hd,D_(),new Ry(document,{onClipboardCopy(e){var t=e?"success":"error";TE.trigger(t,Sa("i18n_copy_to_clipboard_".concat(t)))}}),window.addEventListener("offline",(()=>{J_(!0)})),window.addEventListener("online",(()=>{J_(!1)})),navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",(e=>{var t=e.data;"offline"in t&&J_(t.offline)})),Sa("newsletterLixEnabled")&&X_(),SE()):zE()}setUpContributionControlMenu(){var e=new dS;document.addEventListener("click",(t=>{var n=t.target;n.matches(".contribution-control-menu-item")&&e.onClickMenuItem(n)}))}initTracking(){var e=Sa("isLite");rS.init(),this.initFCAETracking(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isLight,n=void 0!==t&&t,i=e.contributions,r=void 0===i?bw:i;b.onload((()=>vw||(window.tracking&&window.tracking.then((e=>{vw=new ed(e,{componentList:document.querySelectorAll(r),thresholds:[{label:"impressed",time:n?300:0,ratio:.5}],getElementPayload:Ew,onImpression:ww})})),vw)))}({isLite:e})}initFCAETracking(){document.querySelectorAll(".contribution-control-menu-item--edit").forEach((e=>{e.addEventListener("click",(e=>{AE(e)}))}))}initLoadMoreForRelevantReading(){var e=document.querySelector(".articles-side-panel__load-more-btn");null==e||e.addEventListener("click",(()=>{var t=document.querySelectorAll(".articles-side-panel__list .x-article-card__link");Array.from(t).forEach((e=>e.classList.remove("hidden"))),e.classList.add("hidden")}))}setupSeeMoreContributionText(){var e,t=document.querySelector(".article-main");lw(),t.addEventListener("click",(e=>{var t=e.target;if(t.classList.contains(aw)){var n=null==t?void 0:t.closest(".contribution__text-wrapper"),i=null==n?void 0:n.querySelector("p[class*='contribution__text']");i&&dw(i)}})),e=ow()(lw,300),window.addEventListener("resize",(()=>e))}initShowMoreLessForTopics(){var e=document.querySelector(".show-more-less");e&&new ad(e)}}})()})();