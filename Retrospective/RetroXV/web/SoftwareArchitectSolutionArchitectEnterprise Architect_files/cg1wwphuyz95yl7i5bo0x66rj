define.alias("@glimmer/component/-private/ember-component-manager","msg-overlay/component-managers/glimmer")
define("msg-overlay/components/-dynamic-element-alt",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define("msg-overlay/components/-dynamic-element",["exports","@glimmer/component"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class n extends t.default{}e.default=n}))
define.alias("artdeco-button/components/artdeco-button","msg-overlay/components/artdeco-button")
define.alias("artdeco-datepicker/components/artdeco-calendar","msg-overlay/components/artdeco-calendar")
define.alias("artdeco-card/components/artdeco-card-image","msg-overlay/components/artdeco-card-image")
define.alias("artdeco-card/components/artdeco-card","msg-overlay/components/artdeco-card")
define.alias("artdeco-carousel/components/artdeco-carousel-item","msg-overlay/components/artdeco-carousel-item")
define.alias("artdeco-carousel/components/artdeco-carousel-slider","msg-overlay/components/artdeco-carousel-slider")
define.alias("artdeco-carousel/components/artdeco-carousel-title","msg-overlay/components/artdeco-carousel-title")
define.alias("artdeco-carousel/components/artdeco-carousel","msg-overlay/components/artdeco-carousel")
define.alias("artdeco-completeness-meter-linear/components/artdeco-completeness-meter-linear","msg-overlay/components/artdeco-completeness-meter-linear")
define.alias("artdeco-modal/components/artdeco-confirmation-dialog","msg-overlay/components/artdeco-confirmation-dialog")
define.alias("artdeco-datepicker/components/artdeco-datepicker-embedded-cal","msg-overlay/components/artdeco-datepicker-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-datepicker","msg-overlay/components/artdeco-datepicker")
define.alias("artdeco-datepicker/components/artdeco-daterange-embedded-cal","msg-overlay/components/artdeco-daterange-embedded-cal")
define.alias("artdeco-datepicker/components/artdeco-daterange","msg-overlay/components/artdeco-daterange")
define.alias("artdeco-dropdown/components/artdeco-dropdown-content","msg-overlay/components/artdeco-dropdown-content")
define.alias("artdeco-dropdown/components/artdeco-dropdown-header","msg-overlay/components/artdeco-dropdown-header")
define.alias("artdeco-dropdown/components/artdeco-dropdown-item","msg-overlay/components/artdeco-dropdown-item")
define.alias("artdeco-dropdown/components/artdeco-dropdown-trigger","msg-overlay/components/artdeco-dropdown-trigger")
define.alias("artdeco-dropdown/components/artdeco-dropdown","msg-overlay/components/artdeco-dropdown")
define.alias("artdeco-empty-state/components/artdeco-empty-state","msg-overlay/components/artdeco-empty-state")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-badge","msg-overlay/components/artdeco-entity-lockup-badge")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-caption","msg-overlay/components/artdeco-entity-lockup-caption")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-content","msg-overlay/components/artdeco-entity-lockup-content")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-image","msg-overlay/components/artdeco-entity-lockup-image")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-metadata","msg-overlay/components/artdeco-entity-lockup-metadata")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-subtitle","msg-overlay/components/artdeco-entity-lockup-subtitle")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup-title","msg-overlay/components/artdeco-entity-lockup-title")
define.alias("artdeco-entity-lockup/components/artdeco-entity-lockup","msg-overlay/components/artdeco-entity-lockup")
define.alias("artdeco-entity-pile/components/artdeco-entity-pile","msg-overlay/components/artdeco-entity-pile")
define.alias("artdeco-hoverables/components/artdeco-hoverable-content","msg-overlay/components/artdeco-hoverable-content")
define.alias("artdeco-hoverables/components/artdeco-hoverable-trigger","msg-overlay/components/artdeco-hoverable-trigger")
define.alias("artdeco-inline-feedback/components/artdeco-inline-feedback","msg-overlay/components/artdeco-inline-feedback")
define.alias("artdeco-loader/components/artdeco-loader","msg-overlay/components/artdeco-loader")
define.alias("artdeco-modal/components/container","msg-overlay/components/artdeco-modal-container")
define.alias("artdeco-modal/components/artdeco-modal-content","msg-overlay/components/artdeco-modal-content")
define.alias("artdeco-modal/components/artdeco-modal-footer","msg-overlay/components/artdeco-modal-footer")
define.alias("artdeco-modal/components/artdeco-modal-header","msg-overlay/components/artdeco-modal-header")
define.alias("artdeco-modal/components/artdeco-modal","msg-overlay/components/artdeco-modal")
define.alias("artdeco-notification-badge/components/artdeco-notification-badge","msg-overlay/components/artdeco-notification-badge")
define.alias("artdeco-pagination/components/artdeco-pagination-ellipsis","msg-overlay/components/artdeco-pagination-ellipsis")
define.alias("artdeco-pagination/components/artdeco-pagination-indicator","msg-overlay/components/artdeco-pagination-indicator")
define.alias("artdeco-pagination/components/artdeco-pagination","msg-overlay/components/artdeco-pagination")
define.alias("artdeco-pill/components/artdeco-pill-choice-group","msg-overlay/components/artdeco-pill-choice-group")
define.alias("artdeco-pill/components/artdeco-pill-choice","msg-overlay/components/artdeco-pill-choice")
define.alias("artdeco-pill/components/artdeco-pill-dismiss","msg-overlay/components/artdeco-pill-dismiss")
define.alias("artdeco-pill/components/artdeco-pill-input","msg-overlay/components/artdeco-pill-input")
define.alias("artdeco-pill/components/artdeco-pill-link","msg-overlay/components/artdeco-pill-link")
define.alias("artdeco-pill/components/artdeco-pill-toggle","msg-overlay/components/artdeco-pill-toggle")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tab","msg-overlay/components/artdeco-spotlight-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-spotlight-tablist","msg-overlay/components/artdeco-spotlight-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tab","msg-overlay/components/artdeco-tab")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tablist","msg-overlay/components/artdeco-tablist")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabpanel","msg-overlay/components/artdeco-tabpanel")
define.alias("ember-cli-artdeco-tabs/components/artdeco-tabs","msg-overlay/components/artdeco-tabs")
define.alias("artdeco-text-input/components/artdeco-text-input-multi","msg-overlay/components/artdeco-text-input-multi")
define.alias("artdeco-text-input/components/artdeco-text-input-single","msg-overlay/components/artdeco-text-input-single")
define.alias("artdeco-text-input/components/artdeco-text-input","msg-overlay/components/artdeco-text-input")
define.alias("artdeco-toast/components/artdeco-toast-item","msg-overlay/components/artdeco-toast-item")
define.alias("artdeco-toast/components/artdeco-toasts","msg-overlay/components/artdeco-toasts")
define.alias("artdeco-toggle/components/artdeco-toggle","msg-overlay/components/artdeco-toggle")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-input","msg-overlay/components/artdeco-typeahead-input")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-result","msg-overlay/components/artdeco-typeahead-result")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead-results-list","msg-overlay/components/artdeco-typeahead-results-list")
define.alias("ember-cli-artdeco-typeahead/components/artdeco-typeahead","msg-overlay/components/artdeco-typeahead")
define("msg-overlay/components/audio-bubble",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/tracking","@glimmer/component","@ember/object","msg-shared/modifiers/block-scrolling","@ember/modifier","ember-set-helper/helpers/set","asset-loader/components/asset-loader","artdeco-loader/components/artdeco-loader"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,v
let f=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"86uhnstR",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,1,[29,[[30,1]]]],[24,"tabindex","-1"],[16,0,[29,["msg-overlay-bubble msg-overlay-audio-bubble\\n        ",[52,[30,2],"msg-overlay-audio-bubble--is-minimized"],"\\n        ",[52,[30,0,["isInMinimizeTransition"]],"msg-overlay-list-bubble--during-transition"],"\\n        ",[52,[30,3],"msg-overlay-audio-bubble--is-hidden-at-md"]]]],[4,[32,0],null,null],[4,[32,1],["transitioned",[28,[32,2],[[30,0],"isInMinimizeTransition",false],null]],null],[12],[1,"\\n      "],[8,[32,3],null,[["@bundle"],["rooms"]],[["resolved","pending"],[[[[1,"\\n"],[44,[[28,[30,4,["component"]],["rooms-call-container"],null]],[[[1,"            "],[8,[30,5],null,[["@onGoLive","@room","@ugcPostUrn","@autoJoin","@onLeaveCall","@isMinimized","@toggleMinimize"],[[30,6,["onGoLive"]],[30,6,["room"]],[30,6,["ugcPostUrn"]],[30,6,["autoJoin"]],[30,0,["closeBubble"]],[30,2],[30,7]]],null],[1,"\\n"]],[5]]],[1,"        "]],[4]],[[[1,"\\n          "],[10,0],[14,0,"msg-overlay-audio-bubble__loading-section"],[12],[1,"\\n            "],[8,[32,4],null,null,null],[1,"\\n          "],[13],[1,"\\n        "]],[]]]]],[1,"\\n    "],[13],[1,"\\n  "]],["@bubbleId","@isMinimized","@hideAudioBubbleAtMdBreakPoint","resolved","RoomsCallContainer","@bubble","@toggleMinimize"],false,["if","let"]]',moduleName:"msg-overlay/components/audio-bubble.gjs",scope:()=>[d.default,p.on,m.default,g.default,b.default],isStrictMode:!0}),(h=class extends c.default{constructor(){super(...arguments);(0,t.default)(this,"isInMinimizeTransition",v,this)}closeBubble(){var e,t,n,i
null===(e=(t=this.args.bubble).onCloseBubble)||void 0===e||e.call(t)
null===(n=(i=this.args).closeBubble)||void 0===n||n.call(i)}},v=(0,i.default)(h.prototype,"isInMinimizeTransition",[l.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(h.prototype,"closeBubble",[u.action],Object.getOwnPropertyDescriptor(h.prototype,"closeBubble"),h.prototype),h))
e.default=f}))
define.alias("ember-semaphore/components/block-profile","msg-overlay/components/block-profile")
define.alias("ember-semaphore/components/cleared-content-modal-v2","msg-overlay/components/cleared-content-modal-v2")
define.alias("ember-semaphore/components/cleared-content-modal","msg-overlay/components/cleared-content-modal")
define("msg-overlay/components/connection-search-result-item-presenter",["exports","@ember/template-factory","@ember/helper","@ember/component/template-only","@ember/component","@ember/modifier","ember-vector-images/components/lazy-image","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,n,i,a,o,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var l=(0,a.setComponentTemplate)((0,t.createTemplateFactory)({id:"I15VFhRj",block:'[[[1,"\\n"],[1,"  "],[11,0],[24,0,"display-flex align-items-center overflow-hidden"],[24,"tabindex","-1"],[17,1],[4,[32,0],["mousemove",[30,2]],null],[4,[32,0],["click",[30,3]],null],[12],[1,"\\n    "],[10,0],[14,0,"msg-overlay-search-result-picture circle display-flex flex-shrink-zero"],[12],[1,"\\n      "],[8,[32,1],null,[["@classNames","@image","@alt","@ghostType","@desiredWidth"],["msg-overlay-search-result-picture__background-img full-width full-height round",[30,4,["entityWithPresenceViewData","image"]],[30,4,["recipientName"]],"person",100]],null],[1,"\\n    "],[13],[1,"\\n\\n    "],[10,0],[14,0,"display-flex overflow-hidden pv1 pl2"],[12],[1,"\\n      "],[10,"h4"],[14,0,"msg-overlay-search-result-name t-12 t-black t-bold flex-shrink-zero truncate"],[12],[1,"\\n        "],[1,[30,4,["recipientName"]]],[1,"\\n      "],[13],[1,"\\n"],[41,[30,4,["subtext"]],[[[1,"        "],[10,1],[14,0,"t-12 t-black--light t-normal flex-shrink-zero ph1 truncate"],[12],[1,"\\n          "],[1,[28,[32,2],["dot","msg-overlay/components/connection-search-result-item-presenter"],null]],[1,"\\n        "],[13],[1,"\\n        "],[10,2],[14,0,"t-12 t-black--light t-normal truncate"],[12],[1,"\\n          "],[1,[30,4,["subtext"]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "],[13],[1,"\\n"]],["&attrs","@onMouseMove","@onClick","@viewData"],false,["if"]]',moduleName:"msg-overlay/components/connection-search-result-item-presenter.gjs",scope:()=>[o.on,r.default,s.default],isStrictMode:!0}),(0,i.default)("connection-search-result-item-presenter","ConnectionSearchResultItemPresenter"))
e.default=l}))
define("msg-overlay/components/conversation-bubble-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","msg-data/utils/sdk-view-data-helpers","data-layer/utils/profile/get-profile","msg-shared/utils/view-data-helpers","msg-overlay/viewdata/sdk-conversation-bubble-viewdata","global-utils/utils/a11y-focus-element","global-utils/utils/keyboard-utils","msg-shared/utils/document-is-hidden","urn-utils","msg-shared/utils/constants","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/custom-tracking","global-utils/utils/is-browser","@glimmer/tracking","@glimmer/component","@ember/object","ember-lifeline","ember-batcher","@ember/service","@ember/debug","@ember/destroyable","ember-cli-pemberly-i18n/helpers/t","@ember/modifier","@ember/render-modifiers/modifiers/did-insert","ember-cli-pemberly-tracking/modifiers/track-impression","ember-cli-pemberly-tracking/modifiers/track-view","msg-shared/modifiers/block-scrolling","message-button/components/mcie-tracking-beacon","msg-overlay/components/conversation-bubble-header-feature","msg-spinmail/components/sponsored-conversation-thread-feature","msg-spinmail/components/spinmail-thread-presenter","msg-ui/components/compose-feature","global-helpers/helpers/not","artdeco-modal/components/artdeco-confirmation-dialog","ember-async-data","msg-ui/components/dispatcher"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b,h,v,f,y,_,w,C,M,S,D,k,O,I,P,x,E,R,A,T,N,z,B,U,L,j,F,V){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var q,Y,K,H,W,G,J,X,Q,$,Z,ee,te,ne,ie,ae,oe,re,se,le,ce,ue,de,pe,me,ge,be,he,ve,fe,ye,_e
const{ACTION_TYPES:we,CONTROL_NAMES:Ce,IMPRESSION_KEYS:{CONVERSATION_DETAIL_IMPRESSION:Me,DISPLAY_ITEM_TYPE:Se},KEYCODES:{ESC:De},MODULE_KEYS:ke,OVERLAY:{BUBBLE_ACTIONS:{TOGGLE_JUMBO:Oe,TOGGLE_MINIMIZED:Ie}},PAGEVIEW_KEYS:Pe,ATTACHMENT_DRAG_AND_DROP_TRACKING_KEYS:xe}=h.default,Ee=".msg-form__contenteditable"
let Re=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"zGZVy7zF",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,1,[29,[[30,1,["id"]]]]],[24,"data-feedback-redacted",""],[24,"tabindex","-1"],[16,0,[29,["msg-convo-wrapper msg-overlay-conversation-bubble msg-overlay-conversation-bubble--default-inactive ml4\\n        ",[52,[30,1,["isNew"]],"msg-overlay-conversation-bubble--is-compose"],"\\n        ",[52,[30,1,["isActive"]],"msg-overlay-conversation-bubble--is-active"],"\\n        ",[52,[30,1,["isMinimized"]],"msg-overlay-conversation-bubble--is-minimized"],"\\n        ",[52,[30,1,["isJumbo"]],"msg-overlay-conversation-bubble--jumbo","msg-overlay-conversation-bubble--petite"]]]],[24,"role","dialog"],[16,"aria-label",[28,[32,0],["a11y_message_dialog","msg-overlay/components/conversation-bubble-feature"],null]],[24,"data-view-name","message-overlay-conversation-bubble-item"],[4,[32,1],["keyup",[30,0,["handlekeyUp"]]],null],[4,[32,1],["keydown",[30,0,["handlekeyDown"]]],null],[4,[32,2],[[30,0,["handleDidInsert"]]],null],[4,[32,3],[[30,0,["impressionEventPayload"]]],[["routeName","currentRoute"],[[28,[32,4],[[53,"outletState"],"render.name"],null],[28,[32,4],[[53,"outletState"],"render"],null]]]],[4,[32,5],null,[["viewName","genericTrackingLixKey","routeName","currentRoute"],["message-overlay-conversation-bubble-item","voyager.web.tracking3-batch-9",[28,[32,4],[[53,"outletState"],"render.name"],null],[28,[32,4],[[53,"outletState"],"render"],null]]]],[4,[32,6],null,null],[12],[1,"\\n      "],[8,[32,7],null,[["@entryPointData","@subject","@prefilledMessage","@target","@dispatcherEntryPointArgs","@recipientsChanged","@composeViewContext","@composeToNonConnection","@contextByRecipients","@openConversation","@conversation","@msgAdapterOptions","@messageContext"],[[30,1,["entryPointData"]],[30,1,["subject"]],[30,1,["message"]],"OVERLAY",[30,1,["dispatcherEntryPointArgs"]],[30,0,["recipientsChanged"]],[30,0,["composeViewContext"]],[30,0,["composeToNonConnection"]],[30,0,["contextByRecipients"]],[30,0,["openConversation"]],[30,0,["conversation"]],[30,1,["msgAdapterOptions"]],[30,1,["messageContext"]]]],[["default"],[[[[1,"\\n\\n        "],[8,[32,8],[[16,"entryPageKey",[30,2,["entryPointData","entryPageKey"]]]],[["@controlUrn","@referringModuleKey","@recipientUrns","@composeOptionType","@messageComposeFlowTrackingId","@conversationUrn","@prefilledText","@sourceType"],[[30,2,["entryPointData","controlUrn"]],[30,2,["entryPointData","referringModuleKey"]],[30,2,["entryPointData","recipientUrns"]],[30,2,["entryPointData","composeOptionType"]],[30,2,["entryPointData","messageComposeFlowTrackingId"]],[30,0,["conversationUrn"]],[30,1,["message"]],"OVERLAY"]],null],[1,"\\n"],[1,"\\n"],[1,"        "],[8,[32,9],null,[["@hasBadge","@toggleMinimize","@bubble","@conversation","@messageRecipients","@isCompanySender","@presenceStatus","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@toggleJumboSize","@handleCloseBubble"],[[30,0,["hasBadge"]],[30,0,["toggleMinimize"]],[30,1],[30,2,["conversation"]],[30,1,["messageRecipients"]],[30,0,["isCompanySender"]],[30,0,["presenceStatus"]],[30,0,["handleSuccessfulDiscardRequest"]],[30,0,["toggleShowRenameConversation"]],[30,0,["enableReportingSponsoredConversation"]],[30,0,["toggleConversationMute"]],[30,0,["trackingModuleName"]],[30,0,["actionTrackingPrefix"]],[30,0,["showVideoMeetingButtonInHeader"]],[30,0,["updateMessageCompose"]],[30,0,["toggleJumboSize"]],[30,0,["handleCloseBubble"]]]],null],[1,"\\n"],[1,"        "],[11,0],[16,0,[29,["msg-overlay-conversation-bubble__content-wrapper relative display-flex flex-column\\n            ",[52,[30,0,["showRenameConversationForm"]]," msg-overlay-conversation-bubble__content-wrapper--disabled"]]]],[4,[32,1],["mouseup",[30,0,["onActive"]]],null],[4,[32,1],["focusin",[30,0,["onActive"]]],null],[12],[1,"\\n"],[41,[30,1,["isDeprecatedLinkToJoin"]],[[[1,"            "],[10,0],[14,0,"display-flex flex-column align-items-center full-height pt7"],[12],[1,"\\n              "],[10,0],[14,0,"msg-overlay-conversation-bubble__link-to-join-deprecation-illustration"],[12],[13],[1,"\\n              "],[10,0],[14,0,"mt4 ph6 t-14 text-align-center"],[12],[1,[28,[32,0],["i18n_link_to_join_deprecated_text","msg-overlay/components/conversation-bubble-feature"],null]],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","isSponsoredConversation"]],[[[1,"              "],[8,[32,10],null,[["@viewData","@renderThread","@isOverlay","@entryPointData"],[[30,0,["viewData","sponsoredConversationThreadViewData"]],[30,0,["viewData","sponsoredConversationThreadViewData","conversation"]],true,[30,2,["entryPointData"]]]],null],[1,"\\n"]],[]],[[[41,[30,0,["viewData","isSponsoredInMail"]],[[[1,"              "],[8,[32,11],null,[["@viewData","@actionTrackingPrefix","@isCompanySender"],[[30,0,["viewData","spinmailThreadViewData"]],[30,0,["actionTrackingPrefix"]],[30,0,["isCompanySender"]]]],null],[1,"\\n"]],[]],[[[1,"              "],[8,[32,12],null,[["@actionTrackingPrefix","@addParticipantsPageKey","@bubbleId","@composeModuleKey","@composeToNonConnection","@composeViewContext","@conversation","@conversationDetailModuleKey","@customPlaceholderText","@didSubmitMessage","@dragAndDropTrackingKeys","@fileUploadControlName","@forwardedEvent","@handleSuccessfulDiscardRequest","@hasDraft","@setHasDraft","@hasPrefilledConversationName","@imagePasteControlName","@imageUploadControlName","@invitationUrn","@isInMailCompose","@isNew","@isOriginalSize","@isOverlay","@messageContext","@messageActions","@messageRecipients","@msgAdapterOptions","@entryPointData","@openConversation","@prefilledAttachments","@prefilledMessage","@quickRepliesUseCase","@renamePageKey","@sendMessageControlName","@showRenameConversationForm","@subject","@targetUrl","@toggleShowRenameConversation","@update","@smpContent","@is1on1Compose","@recipientSuggestionEnabled","@showPremiumUpsell","@isJumboBubble","@contextWidth","@onConversationFetched","@recipientsChanged","@contextByRecipients","@conversationName","@inmailReplyDeepLink","@messageComposeFlowTrackingId"],[[30,0,["CONTROL_NAMES","OVERLAY_PREFIX"]],"flagship3_messaging_overlay_participant_detail_screen_displayed",[30,1,["id"]],[30,0,["MODULE_KEYS","OVERLAY_COMPOSE"]],[30,2,["composeToNonConnection"]],[30,2,["composeViewContext"]],[30,2,["conversation"]],[30,0,["MODULE_KEYS","OVERLAY_CONVERSATION_DETAIL"]],[30,1,["placeholderText"]],[30,0,["didSubmitMessage"]],[30,0,["dragAndDropTrackingKeys"]],[30,0,["CONTROL_NAMES","OVERLAY","FILE_UPLOAD"]],[30,1,["forwardedEvent"]],[30,0,["handleSuccessfulDiscardRequest"]],[30,1,["hasDraft"]],[30,0,["setHasDraft"]],[30,1,["groupConversationName"]],[30,0,["CONTROL_NAMES","OVERLAY","IMAGE_PASTE"]],[30,0,["CONTROL_NAMES","OVERLAY","IMAGE_UPLOAD"]],[30,1,["invitationUrn"]],[30,1,["isInMailCompose"]],[30,1,["isNew"]],[28,[32,13],[[30,1,["isJumbo"]]],null],true,[30,2,["messageContext"]],[30,1,["messageActions"]],[30,1,["messageRecipients"]],[30,2,["msgAdapterOptions"]],[30,2,["entryPointData"]],[30,2,["openConversation"]],[30,1,["attachments"]],[30,1,["message"]],"QUICK_REPLY_OVERLAY","flagship3_messaging_overlay_conversation_window_rename.page",[30,0,["CONTROL_NAMES","OVERLAY","SEND"]],[30,0,["showRenameConversationForm"]],[30,1,["subject"]],[30,1,["targetUrl"]],[30,0,["toggleShowRenameConversation"]],[30,1,["update"]],[30,1,["smpContent"]],[30,2,["entryPointData","is1on1Compose"]],true,[30,1,["showPremiumUpsell"]],[30,1,["isJumbo"]],[30,0,["width"]],[30,0,["onConversationFetched"]],[30,2,["recipientsChanged"]],[30,2,["contextByRecipients"]],[30,1,["groupConversationName"]],[30,1,["inmailReplyDeepLink"]],[30,3]]],null],[1,"\\n            "]],[]]]],[]]]],[]]],[1,"        "],[13],[1,"\\n      "]],[2]]]]],[1,"\\n      "],[8,[32,14],null,[["@isOpen","@title","@content","@primaryActionText","@secondaryActionText","@onPrimary","@onSecondary","@onEscape"],[[30,0,["showMessageDiscardModal"]],[28,[32,0],["i18n_discard_message","msg-overlay/components/conversation-bubble-feature"],null],[28,[32,0],["i18n_discard_body","msg-overlay/components/conversation-bubble-feature"],null],[28,[32,0],["i18n_discard","msg-overlay/components/conversation-bubble-feature"],null],[28,[32,0],["i18n_cancel","msg-overlay/components/conversation-bubble-feature"],null],[30,0,["closeBubble"]],[30,0,["closeDiscardModal"]],[30,0,["closeDiscardModal"]]]],null],[1,"\\n    "],[13],[1,"\\n  "]],["@bubble","DispatcherInstance","@messageComposeFlowTrackingId"],false,["if","-get-dynamic-var"]]',moduleName:"msg-overlay/components/conversation-bubble-feature.gjs",scope:()=>[I.default,P.on,x.default,E.default,r.get,R.default,A.default,V.default,T.default,N.default,z.default,B.default,U.default,L.default,j.default],isStrictMode:!0}),(q=(0,D.inject)("i18n"),Y=(0,D.inject)("lix"),K=(0,D.inject)("msg-data@data-manager"),H=(0,D.inject)("msg-overlay-manager@msg-overlay-manager"),W=(0,D.inject)("jet"),G=(0,D.inject)("tracking"),J=(0,D.inject)("persistent-toast-manager@persistent-toast-manager"),X=(0,D.inject)("authentication@authenticated-user"),Q=(0,D.inject)("presence@presence-api-dash"),$=(0,D.inject)("msg-ui@update-message-compose"),Z=(0,D.inject)("global-services@store-shim"),ee=(0,D.inject)("@linkedin/ember-restli-graphql@graphql"),te=class extends w.default{get conversation(){this.conversationUrn
return this.msgOverlayManager.getConversationFromBubble(this.args.bubble)}onConversationUpdate(e){this.conversationUrn=e}get hasBadge(){return this.args.bubble.hasUnseenMessages&&!this.msgOverlayManager.forcedMinimizedAtRoute&&this.viewData.isUnread}get isCompanySender(){return this.viewData.isCompanyProfile}get presenceStatus(){const{nonSelfParticipantUrns:e}=this.viewData
if(null!=e&&e[0])return this.presenceAPI.getPresenceStatus(this.viewData.nonSelfParticipantUrns[0])}get showVideoMeetingButtonInHeader(){var e,t
return!(null!==(e=this.args)&&void 0!==e&&null!==(t=e.bubble)&&void 0!==t&&t.isMinimized)&&this.conversation&&this.viewData.isVideoMeetingEnabled&&!this.isCompanySender}get viewData(){var e
return new d.default({conversation:this.conversation,msgDataManager:this.msgDataManager,authenticatedUserProfile:null===(e=this.authenticatedUser.miniProfile)||void 0===e?void 0:e.content,presenceAPI:this.presenceAPI,messageRecipients:this.args.bubble.messageRecipients,isLgfDashMigrationEnabled:this.lix.getTreatmentIsEnabled("voyager.web.messaging-lead-gen-form-dash-migration"),graphql:this.graphql})}_fetchAndSetComposeContext(e,t,n){this.composeViewContext=new F.TrackedAsyncData(this.msgDataManager.fetchComposeContext({recipients:e,composeOptionType:t,context:n}).then((e=>{if(this.isDestroying)return
n&&("MESSAGE_REQUEST"===t||"HIGH_INTENT"===t)&&(0,C.set)(this.args.bubble,"messageContext",{contextEntityUrn:n,contextText:e.contextText,composeOptionType:t})
return e})))}constructor(){super(...arguments);(0,t.default)(this,"i18n",ne,this);(0,t.default)(this,"lix",ie,this);(0,t.default)(this,"msgDataManager",ae,this);(0,t.default)(this,"msgOverlayManager",oe,this);(0,t.default)(this,"jet",re,this);(0,t.default)(this,"tracking",se,this);(0,t.default)(this,"persistentToastManager",le,this);(0,t.default)(this,"authenticatedUser",ce,this);(0,t.default)(this,"presenceAPI",ue,this);(0,t.default)(this,"updateMessageComposeService",de,this);(0,t.default)(this,"storeShim",pe,this);(0,t.default)(this,"graphql",me,this);(0,n.default)(this,"CONTROL_NAMES",Ce);(0,n.default)(this,"MODULE_KEYS",ke);(0,n.default)(this,"actionTrackingPrefix",Ce.OVERLAY_PREFIX);(0,n.default)(this,"trackingModuleName",ke.OVERLAY_CONVERSATION_DETAIL);(0,t.default)(this,"composeViewContext",ge,this);(0,t.default)(this,"enableReportingSponsoredConversation",be,this);(0,t.default)(this,"showMessageDiscardModal",he,this);(0,t.default)(this,"showRenameConversationForm",ve,this);(0,t.default)(this,"width",fe,this);(0,t.default)(this,"contextByRecipients",ye,this);(0,n.default)(this,"dragAndDropTrackingKeys",xe.OVERLAY);(0,n.default)(this,"shouldProcessHeaderFocusEvents",!1);(0,t.default)(this,"conversationUrn",_e,this)
this.conversationEntryTime||(this.conversationEntryTime=Date.now());(0,C.set)(this,"enableReportingSponsoredConversation",this.viewData.enableReportingSponsoredConversation)
this.msgDataManager.isDispatcherInitialCVCForExternalEntrypointsEnabled&&this.args.bubble.dispatcherEntryPointArgs||this._setComposeContextFromEntryPoint()
if(y.default){(0,M.addEventListener)(this,window,"focus",(()=>{(0,S.readDOM)((()=>{this.shouldProcessHeaderFocusEvents=!0}))}));(0,M.addEventListener)(this,window,"blur",(()=>{this.shouldProcessHeaderFocusEvents=!1}))}}_setComposeContextFromEntryPoint(){var e,t,n,i,a,o
const{conversation:r}=this.args.bubble
r&&null!=r&&r.entityUrn&&this.msgDataManager.setConversationAsActive(r)
if(void 0===this.args.bubble.isJumbo){const{isSponsoredInMail:e,isSponsoredConversation:t,events:n}=this.viewData;(0,C.set)(this.args.bubble,"isJumbo",this.args.bubble.isInMail||this.args.bubble.isInMailCompose||e||t&&1===n.length)}let s,l,c
if(r&&!this.args.bubble.isNew){s=this.viewData.nonSelfParticipantUrns
l="REPLY"
c=this.viewData.hostConversationUrn}const{messageRecipients:u,composeOptionType:d}=this.args.bubble,p=this.args.bubble.invitationUrn||(null===(e=this.args.bubble.messageContext)||void 0===e?void 0:e.contextEntityUrn)||(null===(t=this.args.bubble.inMailComposeViewContext)||void 0===t?void 0:t.contextEntityUrn)||(null===(n=this.args.bubble.msgAdapterOptions)||void 0===n?void 0:n.jobApplication)||(null===(i=this.args.bubble.msgAdapterOptions)||void 0===i?void 0:i.groupUrn)
if((!r||this.args.bubble.isNew)&&null!=u&&u.length){s=this.viewData.recipientUrns
l=d||(null!=p&&p.toLowerCase().includes("group")?"MESSAGE_REQUEST":null!=p&&p.toLowerCase().includes("jobapplication")?"CONNECTION_MESSAGE":this.args.bubble.isInMailCompose?"PREMIUM_INMAIL":"CONNECTION_MESSAGE")
c=p}this.args.bubble.entryPointData||(this.args.bubble.entryPointData={messageComposeFlowTrackingId:(0,v.generateBase64UUID)(),recipientUrns:s})
const m=this.args.bubble.isNew&&((null==u?void 0:u.length)||d),g=!this.args.bubble.isNew
null!==(a=this.args.bubble)&&void 0!==a&&null!==(o=a.entryPointData)&&void 0!==o&&o.composeOptionOverride||!m&&!g||this._fetchAndSetComposeContext(s,l,c)}impressionEventPayload(e){var t
let{visibleTime:n,duration:i}=e
const a=this.args.bubble.isNew?ke.OVERLAY_COMPOSE:ke.OVERLAY_CONVERSATION_DETAIL
let o=this.viewData.recipientObjectUrns
o=null!==(t=o)&&void 0!==t&&t.length?o:null
return{name:Me,body:{moduleKey:a,participantUrns:o,conversation:{objectUrn:"",trackingId:(0,v.generateBase64UUID)()},displayItem:{type:Se.MESSAGE_COMPOSE,visibleTime:n,duration:i,trackingObject:{objectUrn:"",trackingId:(0,v.generateBase64UUID)()}}}}}handleDidInsert(e){this._element=e
if((0,g.default)())this.args.bubble.isMinimized||(this.isPageViewEventPending=!0)
else{this._fireBubblePVE()
this.shouldProcessHeaderFocusEvents=!0}this._handleInitialFocus();(0,M.addEventListener)(this,this._element,"transitionend",(e=>{"width"===e.propertyName&&(0,S.readDOM)((()=>{this.isDestroying||(this.width=this._element.offsetWidth)}))}))
if(y.default){(0,M.addEventListener)(this,document,"mousedown",(e=>{this._element&&!this._element.contains(e.target)&&this._updateActiveState(!1)}));(0,M.addEventListener)(this,window,"visibilitychange",this._handleVisibilityChange.bind(this));(0,M.addEventListener)(this,window,"beforeunload",(e=>{if(this.args.bubble.hasDraft){this.tracking.fireInteractionEvent("overlay.before_discard_draft")
e.preventDefault();(e||window.event).returnValue=!0
return!0}}))}}_handleInitialFocus(){let e
this.args.bubble.focusInputOnInit&&(e=this.viewData.isConversationWithAdvertiser?this._element.querySelector(".msg-overlay-bubble-header"):this._element.querySelector(this.args.bubble.isInMailCompose?".msg-form__subject input":Ee)||this._element.querySelector(".msg-overlay-bubble-header__title"))
if(e){e.focus()
this.onActive()}}_handleVisibilityChange(){if(!(0,g.default)()&&this.isPageViewEventPending){this._fireBubblePVE()
this.isPageViewEventPending=!1}}_updateActiveState(e){(0,C.set)(this.args.bubble,"isActive",e)}handlekeyUp(e){e.keyCode===De&&"false"!==e.target.getAttribute("aria-hidden")&&this.handleCloseBubble()}handlekeyDown(e){var t
const n=null===(t=document.querySelector(`#${this.args.bubble.id} .msg-form__send-button`))||void 0===t?void 0:t.disabled,i=!this.lix.getTreatmentIsEnabled("voyager.web.messaging-gai-unify-coach-changes")&&!!document.querySelector(".msg-gai-draft-intents-hoverable-presenter__trigger"),a=this.args.bubble.isInMailCompose&&(document.activeElement.classList.contains("emoji-hoverable-trigger")&&n&&!i||document.activeElement.classList.contains("msg-gai-draft-intents-hoverable-presenter__trigger")&&i&&n||document.activeElement.classList.contains("msg-form__send-button")||document.activeElement.classList.contains("artdeco-button--premium"))
if((0,m.isTabKey)(e)&&(document.activeElement.classList.contains("msg-form__send-toggle")||a)){(0,p.default)(this,`#${this.args.bubble.id}`)
e.preventDefault()}}_focusConversation(){if(y.default&&window.getSelection().toString())return
let e
e=this.viewData.isConversationWithAdvertiser?".msg-overlay-bubble-header":Ee
const t=this._element.querySelector(e)
t&&t.focus()}_showSuccessToast(e){const t=this.i18n.lookupTranslation("components/msg-overlay@conversation-bubble-feature",e)([])
this.persistentToastManager.success({message:t})}onActive(){this._updateActiveState(!0)
this.msgOverlayManager.markConversationAsRead(this.args.bubble)}handleCloseBubble(){if(this.args.bubble.hasDraft){this.showMessageDiscardModal=!0
this.tracking.firePageViewEvent("flagship3_messaging_compose_exit_new_conversation")}else{this.args.closeBubble()
if(this.conversation){const{conversationUrn:e,inboxType:t,sponsoredCreativeUrn:n}=this.viewData
if(e&&t){let i="OTHER"
"PRIMARY"===t?i="PRIMARY_INBOX":"SECONDARY"===t&&(i="SECONDARY_INBOX")
const a={conversationUrn:e,inboxType:i,origin:"WEB_OVERLAY",conversationEntryTime:this.conversationEntryTime,conversationExitTime:Date.now()}
this.tracking.fireTrackingPayload("ConversationDwellEvent",a)
if((0,l.canShowCsAdMovementToast)(this.msgDataManager,t,n)){const e=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_message_moved_to_other")()
this.persistentToastManager.success({message:e})
this.msgDataManager.removeConversationStarterAdPreview()}}}}(0,M.runTask)(this,(()=>{var e,t
return null===(e=this.args.bubble.messageActions)||void 0===e||null===(t=e.afterCloseBubble)||void 0===t?void 0:t.call(e)}),1)}toggleJumboSize(){this.msgOverlayManager.resizeBubble(this.args.bubble,Oe);(0,C.set)(this.args.bubble,"isJumbo",!this.args.bubble.isJumbo)
this.msgOverlayManager.syncCachedConvos()}toggleMinimize(e){var t
if(null===(t=e.target)||void 0===t||!t.closest(".msg-overlay-bubble-header__controls")){this.msgOverlayManager.resizeBubble(this.args.bubble,Ie)
this.msgOverlayManager.syncCachedConvos()
if(this.args.bubble.isMinimized){this.args.bubble.hasUnseenMessages&&this.msgOverlayManager.markConversationAsRead(this.args.bubble);(0,M.runTask)(this,(()=>{this._focusConversation()}))
this._fireBubblePVE()}(0,M.runTask)(this,(()=>{(0,C.set)(this.args.bubble,"isMinimized",!this.args.bubble.isMinimized)
this._updateActiveState(!this.args.bubble.isMinimized)}))}}toggleShowRenameConversation(){this.viewData.isGroupChat&&(this.showRenameConversationForm=!this.showRenameConversationForm)}openConversation(e){this.msgDataManager.fetchConversation(e).then((t=>{if(!(0,O.isDestroying)(this)&&t){this.onConversationFetched(t,e,!1);(0,M.scheduleTask)(this,"actions",(()=>{this._handleInitialFocus()}))}}))}openInMailCompose(e,t,n){(0,c.getProfileById)(this.storeShim,e,"com.linkedin.voyager.dash.deco.identity.profile.MiniProfile").then((e=>{if(!this.isDestroying){(0,C.setProperties)(this.args.bubble,{composeOptionType:"PREMIUM_INMAIL",isInMailCompose:!0,isJumbo:!t,messageRecipients:e?[e]:void 0,showPremiumUpsell:t,targetUrl:n});(0,M.scheduleTask)(this,"actions",(()=>{this._handleInitialFocus()}))}}))}composeToNonConnection(e,t){var n,i,a,o
let{composeOption:r={},upsellContextUrn:s}=t
const{composeOptionType:l,composeNavigationContext:c}=r
if(c&&"UPSELL"!==l){this.jet.info(new Error("[MSG-67581] composeToNonConnection fetching composeOptions."),["MSG-67581",l],{shouldRethrow:!1})
this._fetchAndSetComposeContext(c.serialize().recipientUrns,l)}switch(l){case"UPSELL":this.openInMailCompose((0,b.extractEntityInfoFromUrn)(s).id,!0,(null===(n=r.composeNavigationContext)||void 0===n?void 0:n.targetUrl)??r.targetUrl)
break
case"PREMIUM_INMAIL":this.openInMailCompose((0,b.extractEntityInfoFromUrn)(null===(i=r.composeNavigationContext)||void 0===i||null===(a=i.recipientUrns)||void 0===a?void 0:a[0]).id)
break
case"REPLY":this.openConversation((0,b.extractEntityInfoFromUrn)(null===(o=r.composeNavigationContext)||void 0===o?void 0:o.existingConversationUrn).id)
break
default:e()}}toggleConversationMute(){const{conversation:e}=this.args.bubble,t=this.viewData.isMuted,n=this.msgDataManager.toggleConversationMute(this.viewData.conversationUrn,!t),i=t?we.MUTE:we.UNMUTE
f.default.fireDetailActionEvent({actionType:i,controlName:Ce.OVERLAY.MUTE,conversationObjectUrn:this.viewData.conversationBackendUrn,participantUrns:this.viewData.participantTrackingUrns,participantPresenceStatuses:(0,l.getParticipantPresenceStatuses)(e.decoratedParticipants.map((e=>e.entityUrn)),this.presenceAPI),trackingService:this.tracking})
return n}didSubmitMessage(e){var t,n,i
this.conversationUrn=e.entityUrn;(0,C.setProperties)(this.args.bubble,{message:"",attachments:[],conversation:e,isNew:!1,isInMailCompose:!1,forwardedEvent:void 0,update:null,smpContent:null})
const a=null===(t=this.args)||void 0===t||null===(n=t.bubble)||void 0===n||null===(i=n.messageActions)||void 0===i?void 0:i.afterSendTracking
if(a){const e=a()
this.tracking.fireTrackingPayload(e.name,e.body)}}onConversationFetched(e,t,n){this.msgDataManager.setConversationAsActive(e)
const i=this.args.bubble.isJumbo
this.conversationUrn=e.entityUrn;(0,C.setProperties)(this.args.bubble,{conversation:e,isInMailCompose:!1,isNew:n,isJumbo:e.groupChat})
const{isJumbo:a}=this.args.bubble
a!==i&&!(!1===a&&void 0===i)&&this.msgOverlayManager.resizeBubble(this.args.bubble,"TOGGLE_JUMBO")}recipientsChanged(e,t){this.contextByRecipients=t;(0,C.setProperties)(this.args.bubble,{messageRecipients:e})
this.msgDataManager.getMailbox().then((t=>t.createDraftConversation(e.map((e=>(0,u.getProfileDashUrn)(e)))))).then((n=>{if(!this.isDestroying){var i,a;(0,C.setProperties)(this.args.bubble,{conversation:n,messageContext:void 0})
this.conversationUrn=n.clientId
if(0===e.length){this.composeViewContext=new F.TrackedAsyncData(null)
return}const o=null!=t&&null!==(i=t[0])&&void 0!==i&&i.contextEntityUrn.includes("company")?"MESSAGE_REQUEST":"CONNECTION_MESSAGE"
this._fetchAndSetComposeContext(e.map((e=>{let{entityUrn:t}=e
return t})),o,null==t||null===(a=t[0])||void 0===a?void 0:a.contextEntityUrn)}}))}updateMessageCompose(e){let{body:t}=e
this.updateMessageComposeService.triggerUpdateMessageCompose({bubbleId:this.args.bubble.id,isOverlay:!0,messageText:t})}_fireBubblePVE(){this.args.bubble.isMinimized||this.tracking.firePageViewEvent(Pe.OVERLAY_CONVO)}setHasDraft(e){(0,C.set)(this.args.bubble,"hasDraft",e)}handleSuccessfulDiscardRequest(){var e,t
const{bubble:n}=this.args,i=n.conversation?n.conversation.entityUrn:n.id
this.msgOverlayManager.closeBubbleByConversationUrnOrBubbleId(i)
null===(e=(t=this.args).handleSuccessfulDiscardRequest)||void 0===e||e.call(t,...arguments)}closeDiscardModal(){(0,C.set)(this,"showMessageDiscardModal",!1)
this.tracking.fireInteractionEvent(Ce.DISCARD_COMPOSE_MODAL.CANCEL)}closeBubble(){this.tracking.fireInteractionEvent(Ce.DISCARD_COMPOSE_MODAL.DISCARD)
this.args.closeBubble()}},ne=(0,i.default)(te.prototype,"i18n",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ie=(0,i.default)(te.prototype,"lix",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,i.default)(te.prototype,"msgDataManager",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oe=(0,i.default)(te.prototype,"msgOverlayManager",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),re=(0,i.default)(te.prototype,"jet",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),se=(0,i.default)(te.prototype,"tracking",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),le=(0,i.default)(te.prototype,"persistentToastManager",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ce=(0,i.default)(te.prototype,"authenticatedUser",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=(0,i.default)(te.prototype,"presenceAPI",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),de=(0,i.default)(te.prototype,"updateMessageComposeService",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pe=(0,i.default)(te.prototype,"storeShim",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),me=(0,i.default)(te.prototype,"graphql",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ge=(0,i.default)(te.prototype,"composeViewContext",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),be=(0,i.default)(te.prototype,"enableReportingSponsoredConversation",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),he=(0,i.default)(te.prototype,"showMessageDiscardModal",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ve=(0,i.default)(te.prototype,"showRenameConversationForm",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),fe=(0,i.default)(te.prototype,"width",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ye=(0,i.default)(te.prototype,"contextByRecipients",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_e=(0,i.default)(te.prototype,"conversationUrn",[_.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(te.prototype,"onConversationUpdate",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"onConversationUpdate"),te.prototype),(0,i.default)(te.prototype,"impressionEventPayload",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"impressionEventPayload"),te.prototype),(0,i.default)(te.prototype,"handleDidInsert",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"handleDidInsert"),te.prototype),(0,i.default)(te.prototype,"handlekeyUp",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"handlekeyUp"),te.prototype),(0,i.default)(te.prototype,"handlekeyDown",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"handlekeyDown"),te.prototype),(0,i.default)(te.prototype,"onActive",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"onActive"),te.prototype),(0,i.default)(te.prototype,"handleCloseBubble",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"handleCloseBubble"),te.prototype),(0,i.default)(te.prototype,"toggleJumboSize",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"toggleJumboSize"),te.prototype),(0,i.default)(te.prototype,"toggleMinimize",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"toggleMinimize"),te.prototype),(0,i.default)(te.prototype,"toggleShowRenameConversation",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"toggleShowRenameConversation"),te.prototype),(0,i.default)(te.prototype,"openConversation",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"openConversation"),te.prototype),(0,i.default)(te.prototype,"composeToNonConnection",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"composeToNonConnection"),te.prototype),(0,i.default)(te.prototype,"toggleConversationMute",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"toggleConversationMute"),te.prototype),(0,i.default)(te.prototype,"didSubmitMessage",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"didSubmitMessage"),te.prototype),(0,i.default)(te.prototype,"onConversationFetched",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"onConversationFetched"),te.prototype),(0,i.default)(te.prototype,"recipientsChanged",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"recipientsChanged"),te.prototype),(0,i.default)(te.prototype,"updateMessageCompose",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"updateMessageCompose"),te.prototype),(0,i.default)(te.prototype,"setHasDraft",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"setHasDraft"),te.prototype),(0,i.default)(te.prototype,"handleSuccessfulDiscardRequest",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"handleSuccessfulDiscardRequest"),te.prototype),(0,i.default)(te.prototype,"closeDiscardModal",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"closeDiscardModal"),te.prototype),(0,i.default)(te.prototype,"closeBubble",[C.action],Object.getOwnPropertyDescriptor(te.prototype,"closeBubble"),te.prototype),te))
e.default=Re}))
define("msg-overlay/components/conversation-bubble-header-controls-presenter",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","msg-shared-modals/components/conversation-header-dropdown-menu-presenter","ember-semaphore/components/ember-semaphore","msg-ui/components/virtual-meeting-cta-presenter","@ember/helper","artdeco-button/components/artdeco-button","ember-cli-pemberly-i18n/helpers/t","ember-cli-pemberly-tracking/modifiers/track-interaction","@ember/modifier"],(function(e,t,n,i,a,o,r,s,l,c,u,d){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var p=(0,i.setComponentTemplate)((0,t.createTemplateFactory)({id:"amt6tERO",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-overlay-bubble-header__controls display-flex align-items-center"],[12],[1,"\\n"],[41,[51,[30,1,["isMinimized"]]],[[[41,[30,2,["showDropdownMenu"]],[[[1,"        "],[8,[32,0],null,[["@viewData","@handleSuccessfulDiscardRequest","@showRenameConversationForm","@externalComps","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@addParticipantsPageKey","@isOverlay","@inverse"],[[30,2,["conversationHeaderDropdownMenuViewData"]],[30,3],[28,[32,1],[[30,4],true],null],[28,[32,2],null,[["semaphoreComp"],[[50,[32,3],0,null,null]]]],[30,5],[30,6],[30,7],[30,8],"flagship3_messaging_overlay_participant_detail_screen_displayed",true,[30,9]]],null],[1,"\\n\\n"],[41,[30,10],[[[1,"          "],[8,[32,4],null,[["@bubbleId","@viewData","@ctaSize","@isOverlay","@updateTextarea","@parentRefocusElement","@invertColor"],[[30,1,["id"]],[30,2,["virtualMeetingCtaViewData"]],1,true,[30,11],[28,[32,5],["#",[30,1,["id"]]],null],[30,9]]],null],[1,"\\n"]],[]],null]],[]],null],[1,"      "],[8,[32,6],[[16,"aria-expanded",[52,[30,1,["isJumbo"]],"true","false"]],[4,[32,8],["click",[30,12]],null],[4,[32,9],[[52,[30,1,["isJumbo"]],"overlay.shrink_conversation_window","overlay.expand_conversation_window"]],null]],[["@type","@color","@circle","@size","@icon","@class","@text"],[[52,[30,9],"primary","tertiary"],[52,[30,9],"default","muted"],true,1,[52,[30,1,["isJumbo"]],"minimize","maximize"],"msg-overlay-bubble-header__control msg-overlay-conversation-bubble__expand-btn",[52,[30,1,["isJumbo"]],[28,[32,7],[[52,[30,1,["isNew"]],"i18n_minimize_bubble_new","i18n_minimize_bubble"],"msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[30,2,["participantNames"]]]]],[28,[32,7],[[52,[30,1,["isNew"]],"i18n_maximize_bubble_new","i18n_maximize_bubble"],"msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[30,2,["participantNames"]]]]]]]],null],[1,"\\n"]],[]],null],[1,"\\n"],[1,"    "],[8,[32,6],[[4,[32,8],["click",[30,13]],null],[4,[32,9],["overlay.close_conversation_window"],null]],[["@type","@color","@class","@circle","@size","@icon","@text"],[[52,[30,9],"primary","tertiary"],[52,[30,9],"default","muted"],"msg-overlay-bubble-header__control",true,1,"close",[28,[32,7],[[52,[30,1,["isNew"]],"a11y_close_convo_new","a11y_close_convo"],"msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[52,[30,2,["conversationName"]],[30,2,["conversationName"]],[28,[32,7],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-controls-presenter"],[["names"],[[30,2,["participantNames"]]]]]]]]]]],null],[1,"\\n  "],[13],[1,"\\n"]],["@bubble","@viewData","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@hasBadge","@showVideoMeetingButtonInHeader","@updateMessageCompose","@toggleJumboSize","@handleCloseBubble"],false,["unless","if","component"]]',moduleName:"msg-overlay/components/conversation-bubble-header-controls-presenter.gjs",scope:()=>[a.default,s.fn,s.hash,o.default,r.default,s.concat,l.default,c.default,d.on,u.default],isStrictMode:!0}),(0,n.default)("conversation-bubble-header-controls-presenter","ConversationBubbleHeaderControlsPresenter"))
e.default=p}))
define("msg-overlay/components/conversation-bubble-header-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@ember/service","msg-overlay/viewdata/sdk-conversation-bubble-header-viewdata","@glimmer/component","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","msg-ui/components/delay-remove-from-dom","msg-ui/components/conversation-entity-presenter","ember-cli-pemberly-i18n/helpers/t","global-helpers/helpers/and","app-aware-link/components/navigation-context-link","ember-engines/components/link-to-external","global-helpers/helpers/time-ago","msg-overlay/components/conversation-bubble-header-controls-presenter"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b,h,v,f,y,_){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var w,C,M,S,D,k,O,I,P,x,E
let R=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"jhPm3K22",block:'[[[1,"\\n"],[1,"    "],[11,"header"],[16,0,[29,["msg-overlay-bubble-header msg-overlay-conversation-bubble-header justify-space-between\\n        ",[52,[30,1,["isInMailCompose"]]," premium-accent-bar"]]]],[24,"tabindex","-1"],[4,[32,0],["click",[30,2]],null],[4,[32,1],[[52,[30,1,["isMinimized"]],"overlay.maximize_conversation_window_bar","overlay.minimize_conversation_window_bar"]],null],[12],[1,"\\n"],[1,"      "],[10,0],[15,0,[29,["msg-overlay-bubble-header__badge-container\\n          ",[52,[30,3],"msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"]]]],[12],[13],[1,"\\n\\n"],[1,"      "],[8,[32,2],null,[["@containerClass","@renderIf","@delay","@hideClass"],["align-items-center display-flex",[30,1,["isNew"]],132,"msg-overlay-conversation-bubble-header--fade-out"]],[["default"],[[[[1,"\\n        "],[10,0],[14,0,"flex-grow-1"],[12],[1,"\\n          "],[10,"h2"],[15,0,[29,["msg-overlay-bubble-header__title truncate t-14 t-bold\\n              ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"],"\\n              pr1"]]],[14,"tabindex","-1"],[12],[1,"\\n            "],[1,[30,0,["defaultTitle"]]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "]],[]]]]],[1,"\\n\\n"],[41,[51,[30,1,["isNew"]]],[[[1,"        "],[10,0],[15,0,[29,[[52,[30,1,["isNew"]],"msg-overlay-conversation-bubble-header--hidden","msg-overlay-conversation-bubble-header--fade-in"],"\\n            display-flex align-items-center flex-grow-1 overflow-hidden"]]],[12],[1,"\\n          "],[8,[32,3],null,[["@classNames","@viewData","@entitySize","@iconSize","@hasParticipants","@isInCoversationBubbleHeader"],["mr1",[30,0,["viewData","conversationEntityViewData"]],1,"small",[30,0,["viewData","hasParticipants"]],true]],null],[1,"\\n\\n"],[1,"          "],[10,0],[14,0,"pl2 flex-grow-1 overflow-hidden"],[12],[1,"\\n            "],[10,"h2"],[15,0,[29,["pl1 msg-overlay-bubble-header__title truncate t-14 t-bold\\n                ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"],"\\n                pr1"]]],[14,"tabindex","-1"],[12],[1,"\\n"],[41,[30,0,["viewData","isCompanyRecipient"]],[[[41,[30,1,["isMinimized"]],[[[1,"                  "],[1,[28,[32,4],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n"]],[]],[[[41,[28,[32,5],[[30,0,["viewData","pageUrl"]],[30,0,["viewData","pageName"]]],null],[[[1,"                    "],[8,[32,6],[[24,"target","_self"]],[["@href","@useDefaultLinkBehavior"],[[30,0,["viewData","pageUrl"]],false]],[["default"],[[[[1,"\\n                      "],[10,1],[15,0,[29,["hoverable-link-text\\n                          ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                        "],[1,[28,[32,4],["i18n_page_name","msg-overlay/components/conversation-bubble-header-feature"],[["pageName"],[[30,0,["viewData","pageName"]]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]],[[[1,"                    "],[8,[32,7],null,[["@route","@model"],["companies.company",[30,0,["viewData","companyRecipientId"]]]],[["default"],[[[[1,"\\n                      "],[10,1],[15,0,[29,["hoverable-link-text\\n                          ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                        "],[1,[28,[32,4],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]]]],[]]]],[]],[[[41,[30,0,["viewData","isGroupChat"]],[[[1,"                "],[1,[52,[30,0,["viewData","conversationName"]],[30,0,["viewData","conversationName"]],[28,[32,4],["i18n_participant_familiar","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNamesWithSelf"]]]]]]],[1,"\\n\\n"],[41,[51,[30,1,["isMinimized"]]],[[[1,"                  "],[10,"h3"],[15,0,[29,["t-12 t-normal truncate js-msg-group-participants\\n                      ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                    "],[1,[30,0,["viewData","existingGroupParticipantsTitle"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],null]],[]],[[[41,[30,1,["isMinimized"]],[[[1,"                "],[1,[28,[32,4],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n"]],[]],[[[41,[30,0,["shouldRenderStaticName"]],[[[1,"                  "],[10,1],[15,0,[29,["t-14 t-bold\\n                      ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                    "],[1,[28,[32,4],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[41,[30,0,["viewData","recipientProfileId"]],[[[1,"                  "],[8,[32,7],null,[["@route","@model","@bubbles"],["profile.common.profile",[30,0,["viewData","recipientProfileId"]],false]],[["default"],[[[[1,"\\n                    "],[10,1],[15,0,[29,["t-14 t-bold hoverable-link-text\\n                        ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                      "],[1,[28,[32,4],["i18n_participants_full_names","msg-overlay/components/conversation-bubble-header-feature"],[["names"],[[30,0,["viewData","participantNames"]]]]]],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[]],null]],[]]],[1,"              "]],[]]]],[]]]],[]]],[1,"            "],[13],[1,"\\n\\n"],[41,[30,0,["viewData","hasPresenceInformation"]],[[[41,[51,[30,1,["isMinimized"]]],[[[41,[30,4,["isOnline"]],[[[1,"                  "],[10,0],[15,0,[29,["pl1 truncate t-12 t-normal\\n                      ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                    "],[1,[28,[32,4],["i18n_active_now","msg-overlay/components/conversation-bubble-header-feature"],null]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[41,[30,4,["isReachable"]],[[[1,"                  "],[10,0],[15,0,[29,["pl1 truncate t-12 t-normal\\n                      ",[52,[30,3],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n                    "],[1,[52,[30,4,["lastActiveAt"]],[28,[32,4],["i18n_mobile","msg-overlay/components/conversation-bubble-header-feature"],[["date"],[[28,[32,8],[[30,4,["lastActiveAt"]],"short-ago"],null]]]],[28,[32,4],["i18n_available_on_mobile","msg-overlay/components/conversation-bubble-header-feature"],null]]],[1,"\\n                  "],[13],[1,"\\n                "]],[]],null]],[]]]],[]],null]],[]],null],[1,"          "],[13],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[1,"      "],[8,[32,9],null,[["@bubble","@viewData","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@hasBadge","@handleCloseBubble","@toggleJumboSize"],[[30,1],[30,0,["viewData","conversationBubbleHeaderControlsViewData"]],[30,5],[30,6],[30,7],[30,8],[30,9],[30,10],[30,11],[30,12],[30,3],[30,13],[30,14]]],null],[1,"\\n\\n    "],[13],[1,"\\n  "]],["@bubble","@toggleMinimize","@hasBadge","@presenceStatus","@handleSuccessfulDiscardRequest","@toggleShowRenameConversation","@enableReportingSponsoredConversation","@toggleConversationMute","@trackingModuleName","@actionTrackingPrefix","@showVideoMeetingButtonInHeader","@updateMessageCompose","@handleCloseBubble","@toggleJumboSize"],false,["if","unless"]]',moduleName:"msg-overlay/components/conversation-bubble-header-feature.gjs",scope:()=>[d.on,p.default,m.default,g.default,b.default,h.default,v.default,f.default,y.default,_.default],isStrictMode:!0}),(w=(0,l.inject)("i18n"),C=(0,l.inject)("formatter"),M=(0,l.inject)("msg-data@data-manager"),S=(0,l.inject)("authentication@authenticated-user"),D=(0,l.inject)("presence@presence-api-dash"),k=class extends u.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",O,this);(0,t.default)(this,"formatter",I,this);(0,t.default)(this,"msgDataManager",P,this);(0,t.default)(this,"authenticatedUser",x,this);(0,t.default)(this,"presenceAPI",E,this)}get viewData(){var e
const{conversation:t,messageRecipients:n}=this.args
return new c.default({conversation:t,participantStateMap:this.msgDataManager.mailboxParticipants,messageRecipients:n,authenticatedUserProfile:null===(e=this.authenticatedUser.miniProfile)||void 0===e?void 0:e.content,msgDataManager:this.msgDataManager,formatter:this.formatter,i18n:this.i18n,presenceAPI:this.presenceAPI})}get shouldRenderStaticName(){const{oneToOneParticipantPublicProfileId:e,creatorProfileViewEnabled:t}=this.viewData
return!t||!!e&&"UNKNOWN"===e}get defaultTitle(){const{bubble:e}=this.args
let t="i18n_new_message"
e.isDeprecatedLinkToJoin?t="i18n_join_group_chat":e.isForward?t="i18n_forward_message":e.showGroupEditScreen&&(t="i18n_new_group_conversation")
return t?this.i18n.lookupTranslation("components/msg-overlay@conversation-bubble-header-feature",t)():""}},O=(0,i.default)(k.prototype,"i18n",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,i.default)(k.prototype,"formatter",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(k.prototype,"msgDataManager",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(k.prototype,"authenticatedUser",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(k.prototype,"presenceAPI",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k))
e.default=R}))
define.alias("ember-vector-images/components/custom-image","msg-overlay/components/custom-image")
define.alias("ember-semaphore/components/ember-semaphore","msg-overlay/components/ember-semaphore")
define.alias("ember-wormhole/components/ember-wormhole","msg-overlay/components/ember-wormhole")
define.alias("ember-vector-images/components/lazy-background","msg-overlay/components/lazy-background")
define.alias("ember-vector-images/components/lazy-image","msg-overlay/components/lazy-image")
define.alias("ember-line-clamp/components/line-clamp","msg-overlay/components/line-clamp")
define.alias("artdeco-icons-web/components/linkedin-logo","msg-overlay/components/linkedin-logo")
define("msg-overlay/components/list-bubble-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/component","msg-shared/utils/category-filter","msg-data/utils/sdk-view-data-helpers","ember-test-waiters","msg-overlay/viewdata/list-bubble-viewdata","@ember/object/internals","@glimmer/tracking","@glimmer/component","ember-lifeline","ember-cli-pemberly-tracking/utils/tracking","rsvp","global-utils/utils/is-browser","msg-ui/utils/realtime-onboarding","msg-shared/utils/constants","@ember/object","@ember/service","@ember/destroyable","msg-shared/modifiers/block-scrolling","@ember/modifier","ember-set-helper/helpers/set","msg-overlay/components/presence-onboarding-presenter","ember-cli-pemberly-tracking/modifiers/track-interaction","presence/components/entity-with-presence-presenter","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","artdeco-dropdown/components/artdeco-dropdown","artdeco-dropdown/components/artdeco-dropdown-item","global-helpers/helpers/eq","artdeco-button/components/artdeco-button","msg-ui/components/premium-mailboxes","msg-ui/components/primitives/bulk-actions-panel-presenter","msg-overlay/components/overlay-search-feature","msg-cross-pillar/components/selected-filter-presenter","msg-ui/components/focused-inbox-tabs-presenter","@ember/helper","msg-ui/components/kindness-reminder-presenter","msg-ui/components/away-message-reminder-banner-presenter","msg-ui/components/harmful-content-detection-presenter","msg-ui/components/loader","global-modifiers/modifiers/scroll-into-view","msg-ui/components/message-request-list-header-presenter","msg-ui/components/focused-inbox-secondary-preview-banner-presenter","msg-ui/components/focused-inbox-banner-presenter","msg-ui/components/inbox-header-with-message-request-presenter","msg-ui/components/conversation-starters-feature","msg-overlay/components/overlay-conversation-list-feature","artdeco-empty-state/components/artdeco-empty-state","msg-cross-pillar/components/visible-beacon","msg-shared-modals/components/msg-settings-modal-presenter","msg-shared-modals/components/away-message-settings-modal-presenter"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b,h,v,f,y,_,w,C,M,S,D,k,O,I,P,x,E,R,A,T,N,z,B,U,L,j,F,V,q,Y,K,H,W,G,J,X,Q,$,Z,ee,te){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var ne,ie,ae,oe,re,se,le,ce,ue,de,pe,me,ge,be,he,ve,fe,ye,_e,we,Ce,Me,Se,De,ke,Oe,Ie,Pe,xe,Ee,Re,Ae,Te,Ne,ze,Be,Ue,Le,je,Fe,Ve,qe,Ye,Ke,He,We,Ge,Je,Xe,Qe,$e,Ze,et,tt,nt,it,at,ot
const{IMPRESSION_KEYS:{CONVERSATION:rt},MODULE_KEYS:{OVERLAY_CONVERSATION_LIST:st},MESSAGE_REQUEST_STATUS:{MESSAGE_REQUEST_PENDING:lt,MESSAGE_REQUEST_DECLINED:ct},OVERLAY_LS_CONVERSATIONS_FILTER_KEY:ut,OVERLAY:{QUALITY_MEMBER_CONNECTIONS_THRESHOLD:dt},OVERLAY_FILTERS_INTERACTION_EVENTS:pt,PAGEVIEW_KEYS:mt,KINDNESS_REMINDER_LEGO:gt,AWAY_MESSAGE_ONBOARDING_LEGO:bt,INBOX_TYPES:ht,MESSAGE_COLLECTION_TYPES:vt}=y.default,ft=(0,c.buildWaiter)("msg-overlay:list-bubble-feature:load-inbox"),yt=(0,c.buildWaiter)("msg-overlay:list-bubble-feature:load-more")
let _t=(0,r.setComponentTemplate)((0,o.createTemplateFactory)({id:"iUZHDSiv",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,"tabindex","-1"],[16,0,[29,["msg-overlay-list-bubble\\n        ",[52,[30,0,["isMinimized"]],"msg-overlay-list-bubble--is-minimized"],"\\n        ",[52,[30,0,["isInMinimizeTransition"]],"msg-overlay-list-bubble--during-transition"],"\\n        ml4"]]],[4,[32,0],null,null],[4,[32,1],["transitionend",[28,[32,2],[[30,0],"isInMinimizeTransition",false],null]],null],[12],[1,"\\n      "],[10,"header"],[14,0,"msg-overlay-bubble-header"],[12],[1,"\\n        "],[10,0],[15,0,[29,["msg-overlay-bubble-header__badge-container\\n            ",[52,[30,0,["hasBadge"]],"msg-overlay-bubble-header--inverse msg-overlay-bubble-header--is-badged"]]]],[12],[13],[1,"\\n        "],[8,[32,3],null,null,null],[1,"\\n"],[1,"        "],[11,0],[24,0,"msg-overlay-bubble-header__details flex-row align-items-center ml1"],[4,[32,1],["click",[30,0,["toggleMinimize"]]],null],[4,[32,4],[[30,0,["toggleMinimizeTrackingControlName"]]],null],[12],[1,"\\n          "],[8,[32,5],null,[["@viewData","@size"],[[30,0,["viewData","entityWithPresenceViewData"]],1]],null],[1,"\\n          "],[10,"button"],[14,0,"msg-overlay-bubble-header__button truncate ml2"],[14,4,"button"],[12],[1,"\\n            "],[10,1],[15,0,[29,["truncate t-14 t-bold\\n                ",[52,[30,0,["hasBadge"]],"msg-overlay-bubble-header-dark--active","t-black"]]]],[12],[1,"\\n              "],[10,1],[14,"aria-hidden","true"],[12],[1,"\\n                "],[1,[28,[32,6],["messaging","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n              "],[13],[1,"\\n              "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n                "],[1,[52,[30,0,["isMinimized"]],[28,[32,6],["a11y_open_overlay","msg-overlay/components/list-bubble-feature"],null],[28,[32,6],["a11y_minimize_overlay","msg-overlay/components/list-bubble-feature"],null]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n\\n"],[41,[30,0,["hasBadge"]],[[[1,"            "],[10,"mark"],[14,0,"msg-overlay-bubble-header__unread-count"],[14,"aria-hidden","true"],[12],[1,"\\n              "],[10,"abbr"],[15,"title",[28,[32,6],["a11y_unseen_messages","msg-overlay/components/list-bubble-feature"],[["count"],[[30,0,["msgOverlayService","unseenMsgCount"]]]]]],[12],[1,"\\n                "],[1,[30,0,["msgOverlayService","unseenMsgCount"]]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[41,[30,0,["enableRealtimeConnectionStatus"]],[[[1,"            "],[10,0],[15,0,[28,[32,7],["msg-overlay-bubble-header__realtime-indicator ",[30,0,["realtimeStatusClassName"]]],null]],[12],[1,"\\n              "],[8,[32,8],null,[["@type","@size","@name"],["system","medium","flash"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n        "],[10,0],[14,0,"msg-overlay-bubble-header__controls display-flex"],[12],[1,"\\n"],[1,"          "],[8,[32,9],null,[["@isOpen","@onVisibilityChange","@placement","@justification","@onClick","@shouldTriggerRetainFocus"],[[30,0,["isHeaderDropdownMenuOpen"]],[28,[32,2],[[30,0],"isHeaderDropdownMenuOpen"],null],[30,0,["headerDropdownMenuPlacement"]],"right",[30,0,["stopEvtPropagation"]],false]],[["default"],[[[[1,"\\n            "],[8,[30,1,["dropdown-trigger"]],[[4,[32,4],["overlay.dropdown_menu"],null]],[["@class"],[[29,["msg-overlay-bubble-header__dropdown-trigger artdeco-button artdeco-button--1 artdeco-button--circle ",[52,[30,0,["hasBadge"]],"artdeco-button--primary","artdeco-button--muted artdeco-button--tertiary"]]]]],[["default"],[[[[1,"\\n              "],[8,[32,8],null,[["@a11yText","@type","@size","@name"],[[28,[32,6],["i18n_dropdown_menu_description","msg-overlay/components/list-bubble-feature"],null],"system","small","overflow-web-ios"]],null],[1,"\\n            "]],[]]]]],[1,"\\n            "],[10,0],[14,0,"msg-overlay-bubble-header__dropdown-container"],[12],[1,"\\n              "],[8,[30,1,["dropdown-content"]],null,[["@arrowDir"],["right"]],[["default"],[[[[1,"\\n                "],[10,"ul"],[14,0,"white-space-nowrap"],[12],[1,"\\n"],[41,[30,0,["showManageConversationsButtonInHeaderDropdown"]],[[[1,"                    "],[8,[32,10],[[4,[32,4],["overlay.enter_bulk_selection"],null]],[["@itemSelected","@role"],[[30,0,["enterBulkActionsMode"]],"button"]],[["default"],[[[[1,"\\n                      "],[10,0],[14,0,"display-flex align-items-center"],[12],[1,"\\n                        "],[10,1],[12],[1,"\\n                          "],[1,[28,[32,6],["i18n_manage_conversations","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                        "],[13],[1,"\\n                      "],[13],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]],null],[1,"                  "],[8,[32,10],[[4,[32,4],["overlay.connection_list_settings_from_dropdown"],null]],[["@itemSelected","@role"],[[30,0,["openMessagingSettingsModal"]],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,6],["i18n_messaging_settings","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n"],[41,[51,[30,0,["enableFocusedInbox"]]],[[[41,[30,0,["showMessageRequestInboxInHeaderDropdown"]],[[[1,"                      "],[8,[32,10],[[4,[32,4],["overlay.overflow_view_message_request_inbox"],null]],[["@itemSelected","@role"],[[30,0,["openMessageRequestConversationList"]],"button"]],[["default"],[[[[1,"\\n                        "],[1,[28,[32,6],["i18n_message_request_inbox","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                      "]],[]]]]],[1,"\\n"]],[]],null]],[]],null],[1,"\\n"],[41,[28,[32,11],[[30,0,["currentConvosFilter"]],"MESSAGE_REQUEST_PENDING"],null],[[[1,"                    "],[8,[32,10],[[4,[32,4],["overlay.view_declined_message_requests"],null]],[["@itemSelected","@role"],[[30,0,["openDeclinedMessageRequestConversationList"]],"button"]],[["default"],[[[[1,"\\n                      "],[1,[28,[32,6],["i18n_declined_message_requests","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                    "]],[]]]]],[1,"\\n"]],[]],null],[1,"                  "],[8,[32,10],null,[["@itemSelected","@role"],[[30,0,["openAwayMessageSettingsModal"]],"button"]],[["default"],[[[[1,"\\n                    "],[1,[52,[30,0,["msgDataManager","awayMessageSettings","length"]],[28,[32,6],["i18n_update_away_message","msg-overlay/components/list-bubble-feature"],null],[28,[32,6],["i18n_set_away_message","msg-overlay/components/list-bubble-feature"],null]]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n              "]],[]]]]],[1,"\\n            "],[13],[1,"\\n          "]],[1]]]]],[1,"\\n\\n"],[1,"          "],[8,[32,12],[[4,[32,1],["click",[30,0,["newConversation"]]],null],[4,[32,4],["overlay.compose_message"],null]],[["@text","@type","@color","@circle","@size","@icon","@class"],[[28,[32,6],["a11y_compose","msg-overlay/components/list-bubble-feature"],null],[52,[30,0,["hasBadge"]],"primary","tertiary"],[52,[30,0,["hasBadge"]],"default","muted"],true,1,"compose-icon","msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn"]],null],[1,"\\n\\n"],[1,"          "],[8,[32,12],[[4,[32,1],["click",[30,0,["toggleMinimize"]]],null],[4,[32,4],[[52,[30,0,["isMinimized"]],"overlay_maximize_inbox","overlay_minimize_inbox"]],null]],[["@type","@color","@text","@circle","@size","@icon","@class"],[[52,[30,0,["hasBadge"]],"primary","tertiary"],[52,[30,0,["hasBadge"]],"default","muted"],[52,[30,0,["isMinimized"]],[28,[32,6],["a11y_open_overlay","msg-overlay/components/list-bubble-feature"],null],[28,[32,6],["a11y_minimize_overlay","msg-overlay/components/list-bubble-feature"],null]],true,1,[52,[30,0,["isMinimized"]],"chevron-up","chevron-down"],"msg-overlay-bubble-header__control msg-overlay-bubble-header__control--new-convo-btn"]],null],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n\\n      "],[8,[32,13],null,[["@isOverlay"],[true]],null],[1,"\\n\\n"],[41,[30,0,["shouldRenderContent"]],[[[41,[30,0,["isBulkActionsMode"]],[[[1,"          "],[8,[32,14],null,[["@willExecuteBulkAction","@didExecuteBulkAction","@onExitBulkActionsMode","@isOverlay","@selectedConversationUrns"],[[30,0,["willExecuteBulkAction"]],[30,0,["didExecuteBulkAction"]],[30,0,["onExitBulkActionsMode"]],true,[30,0,["selectedConversationUrns"]]]],null],[1,"\\n"]],[]],null],[1,"\\n        "],[8,[32,15],null,[["@openNewConversation","@openBubble","@currentConvosFilter","@onFilterApply","@onClearFilters","@showSearchInput","@onSearchTermChange"],[[30,2],[30,3],[30,0,["currentConvosFilter"]],[30,0,["applyFilter"]],[30,0,["clearFilters"]],[30,0,["showSearchInput"]],[30,0,["onSearchTermChange"]]]],[["default"],[[[[1,"\\n          "],[8,[30,4,["filterSection"]],null,null,[["default"],[[[[1,"\\n            "],[8,[32,16],null,[["@clearFilter","@currentFilter","@trackingPrefix","@disabled","@loadedUnreadConversations","@markAllAsRead"],[[30,0,["clearFilters"]],[30,0,["currentConvosFilter"]],"overlay.",[30,0,["isBulkActionsMode"]],[30,0,["hasLoadedUnreadConversations"]],[30,0,["markAllAsRead"]]]],null],[1,"\\n          "]],[]]]]],[1,"\\n        "]],[4]]]]],[1,"\\n\\n        "],[10,0],[14,0,"msg-overlay-list-bubble__top-static-area"],[12],[1,"\\n"],[41,[30,0,["showFocusedInboxTabs"]],[[[1,"            "],[8,[32,17],null,[["@currentSelection","@showSecondaryTabBadge","@onPrimaryTabSelect","@onSecondaryTabSelect","@isOverlay"],[[30,0,["inboxType"]],[30,0,["hasUnseenSecondaryConversations"]],[28,[32,18],[[30,0,["switchInboxTab"]],"PRIMARY"],null],[28,[32,18],[[30,0,["switchInboxTab"]],"SECONDARY"],null],true]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["showKindnessReminder"]],[[[1,"            "],[8,[32,19],[[24,0,"msg-overlay-list-bubble__kindness-reminder"]],[["@type","@legoConfig","@text","@primaryActionText","@onImpression","@onDismiss","@onPrimary"],["basic",[30,0,["kindnessReminderLegoConfig"]],[28,[32,6],["i18n_kindness_reminder_text","msg-overlay/components/list-bubble-feature"],null],[28,[32,6],["i18n_kindness_reminder_learn_more","msg-overlay/components/list-bubble-feature"],null],[30,0,["impressionKindnessReminder"]],[30,0,["onKindnessReminderWidgetDismiss"]],[30,0,["clickKindnessReminder"]]]],null],[1,"\\n"]],[]],null],[1,"\\n          "],[8,[32,20],null,null,null],[1,"\\n\\n"],[41,[51,[30,0,["currentConvosFilter"]]],[[[41,[51,[30,0,["isBulkActionsMode"]]],[[[41,[30,0,["showAwayMessageOnboarding"]],[[[1,"                "],[8,[32,19],null,[["@title","@text","@legoConfig","@onDismiss","@onPrimary","@primaryActionText"],[[28,[32,6],["i18n_away_message_onboarding_title","msg-overlay/components/list-bubble-feature"],null],[28,[32,6],["i18n_away_message_onboarding_text","msg-overlay/components/list-bubble-feature"],null],[30,0,["awayMessageOnboardingLegoConfig"]],[28,[32,2],[[30,0],"showAwayMessageOnboarding",false],null],[28,[32,2],[[30,0],"awayMessageSettingsModalIsOpen",true],null],[28,[32,6],["i18n_set_away_message","msg-overlay/components/list-bubble-feature"],null]]],[["default"],[[[[1,"\\n                  "],[8,[30,5,["leftSection"]],null,null,[["default"],[[[[1,"\\n                    "],[8,[32,8],null,[["@type","@size","@name"],["logo","xsmall","linkedin-bug-premium"]],null],[1,"\\n                  "]],[]]]]],[1,"\\n                "]],[5]]]]],[1,"\\n"]],[]],null]],[]],null]],[]],null],[1,"        "],[13],[1,"\\n\\n"],[41,[51,[30,0,["enableFocusedInbox"]]],[[[1,"          "],[8,[32,21],null,null,null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["inboxDataFetchFailed"]],[[[1,"          "],[10,0],[14,0,"msg-overlay-list-bubble__failed-to-connect-container text-align-center"],[12],[1,"\\n            "],[10,"h3"],[14,0,"t-16 t-black--light t-normal ph3 pb5"],[12],[1,"\\n              "],[1,[28,[32,6],["i18n_failed_connect","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n            "],[13],[1,"\\n            "],[8,[32,12],[[4,[32,1],["click",[30,0,["refetchInboxData"]]],null],[4,[32,4],["overlay.retry"],null]],[["@type","@text"],["secondary",[28,[32,6],["i18n_try_again","msg-overlay/components/list-bubble-feature"],null]]],null],[1,"\\n          "],[13],[1,"\\n"]],[]],[[[41,[30,0,["showInboxLoader"]],[[[1,"            "],[8,[32,22],[[24,0,"full-height justify-center"]],[["@size"],["small"]],null],[1,"\\n"]],[]],null],[1,"\\n"],[41,[51,[30,0,["hideConversationsList"]]],[[[1,"            "],[10,"section"],[14,0,"scrollable msg-overlay-list-bubble__content msg-overlay-list-bubble__content--scrollable"],[12],[1,"\\n"],[1,"              "],[11,0],[4,[32,23],null,[["when"],[[30,0,["shouldScrollToTop"]]]]],[12],[13],[1,"\\n"],[1,"              "],[10,0],[14,0,"msg-overlay-list-bubble__default-conversation-container"],[12],[1,"\\n"],[41,[28,[32,11],[[30,0,["currentConvosFilter"]],"MESSAGE_REQUEST_PENDING"],null],[[[1,"                  "],[8,[32,24],null,[["@trackingKey","@goBack"],["back_to_inbox_from_requests_overlay",[30,0,["backToInboxFromMessageRequestList"]]]],null],[1,"\\n"]],[]],[[[41,[28,[32,11],[[30,0,["currentConvosFilter"]],"MESSAGE_REQUEST_DECLINED"],null],[[[1,"                  "],[8,[32,24],null,[["@isDeclinedList","@trackingKey","@goBack"],[true,"back_to_message_requests_from_declined_messages_overlay",[30,0,["messageRequestListHeaderOnGoBack"]]]],null],[1,"\\n                "]],[]],null]],[]]],[1,"\\n"],[41,[30,0,["inboxDataLoaded"]],[[[41,[30,0,["shouldShowSecondaryPreviewBanner"]],[[[1,"                    "],[10,0],[14,0,"msg-conversation-card msg-ui-focused-inbox-secondary-preview-banner-presenter__secondary-preview-banner-card display-flex"],[12],[1,"\\n                      "],[8,[32,25],null,[["@classNames","@onClicked","@isOverlay"],["pl2 mb2 mh2 mt2 ",[28,[32,18],[[30,0,["switchInboxTab"]],"SECONDARY"],null],true]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],[[[41,[30,0,["showFocusedInboxBanner"]],[[[1,"                    "],[8,[32,26],null,[["@isOverlay","@showLoader"],["true",[30,0,["setLoader"]]]],null],[1,"\\n                  "]],[]],null]],[]]],[1,"\\n                  "],[10,1],[14,0,"visually-hidden"],[12],[1,"\\n                    "],[1,[28,[32,6],["i18n_a11y_infinite_scroll","msg-overlay/components/list-bubble-feature"],null]],[1,"\\n                  "],[13],[1,"\\n"],[41,[30,0,["showMessageRequestBanner"]],[[[1,"                    "],[8,[32,27],null,[["@headingText","@openMessageRequestConversationList","@trackingKey"],[[30,0,["headerText"]],[30,0,["openMessageRequestConversationList"]],"overlay.bundle_view_message_request_inbox"]],null],[1,"\\n"]],[]],null]],[]],null],[1,"\\n                "],[8,[32,28],null,[["@trackingKey","@compact","@entryPointTarget","@canRender"],["overlay.top_of_inbox_suggestions_card",true,"OVERLAY",[30,0,["canShowConversationStarters"]]]],null],[1,"\\n\\n                "],[8,[32,29],null,[["@conversations","@showLoadingState","@currentConvosFilter","@hasStrongNetwork","@isBulkActionsMode","@disableBulkActions","@openBubble","@newConversation","@onBulkActionToggle","@selectedConversationUrns","@conversationLength","@showNoMessagesPresenter"],[[30,0,["conversations"]],[30,0,["showLoadingState"]],[30,0,["currentConvosFilter"]],[30,0,["hasStrongNetwork"]],[30,0,["isBulkActionsMode"]],[30,0,["showMessageRequestConversationList"]],[30,0,["openBubbleByConversationUrn"]],[30,0,["newConversation"]],[30,0,["onListBubbleItemClick"]],[30,0,["selectedConversationUrns"]],[30,0,["conversations","length"]],[30,0,["showNoMessagesPresenter"]]]],null],[1,"\\n"],[41,[30,0,["loadMoreError"]],[[[1,"                  "],[10,0],[14,0,"p4 mb6"],[12],[1,"\\n                    "],[8,[32,30],null,[["@class","@headline","@illustration","@message"],["msg-conversations-container__load-error",[28,[32,6],["i18n_oops","msg-overlay/components/list-bubble-feature"],null],"no-connection-muted",[28,[32,6],["i18n_load_more_error","msg-overlay/components/list-bubble-feature"],null]]],null],[1,"\\n                    "],[8,[32,12],[[4,[32,1],["click",[30,0,["retryLoadMore"]]],null],[4,[32,4],["overlay.retry"],null]],[["@class","@text","@type"],["js-retry-button block mlA mrA",[28,[32,6],["i18n_try_again","msg-overlay/components/list-bubble-feature"],null],"secondary"]],null],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldLoadMoreConversations"]],[[[1,"                  "],[8,[32,31],null,[["@inView","@rootSelector"],[[30,0,["loadMore"]],".msg-overlay-list-bubble__content"]],null],[1,"\\n"]],[]],null],[1,"              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]],null]],[]]]],[]],null],[1,"\\n"],[41,[30,0,["isMessagingSettingsModalOpen"]],[[[1,"        "],[8,[32,32],null,[["@closeModal","@returnFocusTo"],[[28,[32,2],[[30,0],"isMessagingSettingsModalOpen",false],null],[30,0,["modalReturnFocusElement"]]]],null],[1,"\\n"]],[]],null],[41,[30,0,["awayMessageSettingsModalIsOpen"]],[[[1,"        "],[8,[32,33],null,[["@closeModal","@returnFocusTo"],[[28,[32,2],[[30,0],"awayMessageSettingsModalIsOpen",false],null],[30,0,["modalReturnFocusElement"]]]],null],[1,"\\n"]],[]],null],[1,"    "],[13],[1,"\\n  "]],["dropdown","@newConversation","@openBubble","OverlaySearchFeatureInstance","widget"],false,["if","unless"]]',moduleName:"msg-overlay/components/list-bubble-feature.gjs",scope:()=>[M.default,S.on,D.default,k.default,O.default,I.default,P.default,j.concat,x.default,E.default,R.default,A.default,T.default,N.default,z.default,B.default,U.default,L.default,j.fn,F.default,V.default,q.default,Y.default,K.default,H.default,W.default,G.default,J.default,X.default,Q.default,$.default,Z.default,ee.default,te.default],isStrictMode:!0}),(ne=(0,w.inject)("authentication@authenticated-user"),ie=(0,w.inject)("global-nav-shared@badge"),ae=(0,w.inject)("lix"),oe=(0,w.inject)("tracking"),re=(0,w.inject)("i18n"),se=(0,w.inject)("global-services@window"),le=(0,w.inject)("global-services@a11y-notification"),ce=(0,w.inject)("msg-overlay-manager@msg-overlay-manager"),ue=(0,w.inject)("global-services@common-time"),de=(0,w.inject)("global-services@store-shim"),pe=(0,w.inject)("global-services@local-storage"),me=(0,w.inject)("lego@resolver"),ge=(0,w.inject)("lego@tracking"),be=(0,w.inject)("msg-shared@messaging-user-settings"),he=(0,w.inject)("msg-data@data-manager"),ve=(0,w.inject)("formatter"),fe=(0,w.inject)("persistent-toast-manager@persistent-toast-manager"),ye=(0,w.inject)("presence@presence-api-dash"),_e=class extends m.default{get canShowConversationStarters(){return!("PRIMARY_INBOX"!==this.currentConvosFilter&&this.currentConvosFilter||this.isBulkActionsMode)}get isMinimized(){return this.msgOverlayService.listBubbleIsMinimized}get shouldRenderContent(){return!this.isMinimized||this.isInMinimizeTransition}get showMessageRequestConversationList(){return this.currentConvosFilter===lt||this.currentConvosFilter===ct}get showSearchInput(){return!this.isBulkActionsMode&&(!this.showMessageRequestConversationList||this.enableFocusedInbox)}get showFocusedInboxTabs(){return this.enableFocusedInbox&&(!this.currentConvosFilter||this.currentConvosFilter===lt||"PRIMARY_INBOX"===this.currentConvosFilter||"SECONDARY_INBOX"===this.currentConvosFilter)}get showMessageRequestInboxInHeaderDropdown(){return!this.showMessageRequestConversationList}get showManageConversationsButtonInHeaderDropdown(){return!this.showMessageRequestConversationList}get toggleMinimizeTrackingControlName(){return this.isMinimized?"overlay.maximize_connection_list_bar":"overlay.minimize_connection_list_bar"}get hideConversationsList(){return this.showInboxLoader}get hasBadge(){return this.msgOverlayService.unseenMsgCount>0&&(!this.msgOverlayService.forcedMinimizedAtRoute||this.args.realtimeMsgNotAutoOpened)}get hasStrongNetwork(){return this.numConnections>dt}get showMessageRequestBanner(){return!this.enableFocusedInbox&&this.unreadPendingMessageRequestCount>0&&!this.currentConvosFilter}get headerText(){return this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_message_request_count")([{count:this.unreadPendingMessageRequestCount}])}get unreadPendingMessageRequestCount(){var e
return null===(e=this.msgDataManager.getMailboxState())||void 0===e?void 0:e.unreadCounts[vt.MESSAGE_REQUEST_PENDING]}get showFocusedInboxBanner(){return!(this.currentConvosFilter&&"PRIMARY_INBOX"!==this.currentConvosFilter&&"SECONDARY_INBOX"!==this.currentConvosFilter||this.isBulkActionsMode)}get showKindnessReminder(){return!this.kindnessReminderShown&&!this.currentConvosFilter&&!this.isBulkActionsMode}get realtimeStatusClassName(){var e
return(null===(e=this.commonTime.getCommonTimeClient())||void 0===e?void 0:e.connected)?"msg-overlay-bubble-header__realtime-indicator--online":"msg-overlay-bubble-header__realtime-indicator--offline"}get headerDropdownMenuPlacement(){return this.isMinimized?"top":"bottom"}get shouldLoadMoreConversations(){const e=this.msgDataManager.getMailboxState(this.mailboxName)
return!!e&&(!e.status.loading&&!e.status.fullyLoaded&&!this.loadMoreError)}get conversations(){const e=this.msgDataManager.getTrackedConversations(this.mailboxName)
if(this.lix.getTreatmentIsEnabled("voyager.web.messaging-conversation-starter-ads")){const t=(0,l.getConversationStarterAdPreview)(this.msgDataManager)
return(0,l.generateConversationListWithConversationStarterAdPreview)({conversationStarterAdPreview:t,conversations:e,mailboxName:this.mailboxName,inboxType:this.inboxType})}return e}get hasLoadedUnreadConversations(){var e
return((null===(e=this.conversations)||void 0===e?void 0:e.filter((e=>!e.read)))??[]).length>0}get enableRealtimeConnectionStatus(){return this.lix.getTreatmentIsEnabled("voyager.messaging.web.show-realtime-connection-status")}get isCompanyUser(){return this.lix.getTreatmentIsEnabled("voyager.client.staff")}get enableFocusedInbox(){return!!this.msgUserSettings.focusedInboxEnabled}get hasUnseenSecondaryConversations(){return!!this.enableFocusedInbox&&null!==this.msgDataManager.inboxManager.secondaryPreviewBannerData}get shouldShowSecondaryPreviewBanner(){return this.hasUnseenSecondaryConversations&&this.showFocusedInboxTabs&&"PRIMARY"===this.inboxType}get showLoadingState(){const e=this.msgDataManager.getMailboxState(this.mailboxName)
return!e||e.status.loading}get viewData(){return new u.default({formatter:this.formatter,authenticatedUserProfile:this.authenticatedUser.miniProfile.content})}get shouldScrollToTop(){const e=this.currentConvosFilter!==this._previousConvosFilter
this._previousConvosFilter=this.currentConvosFilter
return e}get defaultConvosFilter(){let e=this.args.filterFromDeeplink??null
e||(e=this.localStorage.getItem(ut))
!e&&this.enableFocusedInbox&&(e="PRIMARY_INBOX")
return e}get currentConvosFilter(){return this.localConvosFilter??this.defaultConvosFilter}get showNoMessagesPresenter(){const e=!this.enableFocusedInbox||this.inboxType===ht.PRIMARY||this.inboxType===ht.SECONDARY,t=!this.currentConvosFilter||"PRIMARY_INBOX"===this.currentConvosFilter||"SECONDARY_INBOX"===this.currentConvosFilter
return e&&t}constructor(){super(...arguments);(0,n.default)(this,"listBubbleId",`list-bubble-${(0,d.guidFor)(this)}`);(0,t.default)(this,"authenticatedUser",we,this);(0,t.default)(this,"badging",Ce,this);(0,t.default)(this,"lix",Me,this);(0,t.default)(this,"tracking",Se,this);(0,t.default)(this,"i18n",De,this);(0,t.default)(this,"windowService",ke,this);(0,t.default)(this,"a11yNotification",Oe,this);(0,t.default)(this,"msgOverlayService",Ie,this);(0,t.default)(this,"commonTime",Pe,this);(0,t.default)(this,"storeShim",xe,this);(0,t.default)(this,"localStorage",Ee,this);(0,t.default)(this,"legoResolver",Re,this);(0,t.default)(this,"legoTracking",Ae,this);(0,t.default)(this,"msgUserSettings",Te,this);(0,t.default)(this,"msgDataManager",Ne,this);(0,t.default)(this,"formatter",ze,this);(0,t.default)(this,"persistentToastManager",Be,this);(0,t.default)(this,"presenceAPI",Ue,this);(0,t.default)(this,"mailboxName",Le,this);(0,t.default)(this,"isHeaderDropdownMenuOpen",je,this);(0,t.default)(this,"isMessagingSettingsModalOpen",Fe,this);(0,t.default)(this,"inboxDataFetchInProgress",Ve,this);(0,t.default)(this,"inboxDataLoaded",qe,this);(0,t.default)(this,"inboxDataFetchFailed",Ye,this);(0,t.default)(this,"loadMoreError",Ke,this);(0,t.default)(this,"loadMoreInProgress",He,this);(0,t.default)(this,"numConnections",We,this);(0,t.default)(this,"awayMessageSettingsModalIsOpen",Ge,this);(0,t.default)(this,"selectedConversations",Je,this);(0,t.default)(this,"selectedConversationUrns",Xe,this);(0,t.default)(this,"isBulkActionsMode",Qe,this);(0,t.default)(this,"searchTerm",$e,this);(0,t.default)(this,"inboxType",Ze,this);(0,t.default)(this,"isInMinimizeTransition",et,this);(0,t.default)(this,"showAwayMessageOnboarding",tt,this);(0,t.default)(this,"showInboxLoader",nt,this);(0,t.default)(this,"upsellCard",it,this);(0,n.default)(this,"modalReturnFocusElement",".msg-overlay-bubble-header__dropdown-trigger");(0,n.default)(this,"bubbleMinimizeProperty","isMinimized");(0,n.default)(this,"kindnessReminderLegoConfig",gt);(0,n.default)(this,"kindnessReminderHelpCenterLink","/legal/professional-community-policies");(0,n.default)(this,"awayMessageOnboardingLegoConfig",bt);(0,t.default)(this,"kindnessReminderShown",at,this);(0,n.default)(this,"_previousConvosFilter",null);(0,t.default)(this,"localConvosFilter",ot,this)
new f.default(this.legoResolver,this.legoTracking,this.msgUserSettings,this.storeShim,this.tracking,this.lix).run()
const e=this.enableFocusedInbox?"PRIMARY_INBOX":"INBOX"
this.mailboxName=e
this.msgUserSettings.onFocusedInboxOptOut(this.refreshSettings)
this._fetchInboxData(this.defaultConvosFilter)
this.msgDataManager.fetchPremiumFeatureAccess("CAN_ACCESS_AWAY_MESSAGES").then((e=>{this.isDestroying||(this.showAwayMessageOnboarding=e)}))
this.isMinimized||this.enableFocusedInbox||this.tracking.firePageViewEvent("flagship3_messaging_overlay_connections.page")}_fetchInboxData(e){this.inboxDataFetchInProgress=!0
this.inboxDataLoaded=!1
const t=this._loadConversations(e)
return(0,h.hashSettled)({conversations:t}).then((e=>{var t,n
if(this.isDestroying)return
if("rejected"===e.conversations.state){this.inboxDataFetchFailed=!0
this.tracking.firePageViewEvent(mt.OVERLAY_FAILED_TO_CONNECT)
return(0,h.resolve)()}null===(t=(n=this.args).afterInboxDataFetch)||void 0===t||t.call(n,this.conversations)
return(0,h.resolve)(e)})).then((()=>{if((0,C.isDestroying)(this))return
this.lix.getTreatmentIsEnabled("voyager.web.messaging-conversation-starter-ads")&&this.msgDataManager.fetchConversationStarterAdPreview()
const e=[this.msgDataManager.inboxManager.fetchSecondaryInboxData(),this.msgDataManager.nudgingDataManager.fetchConversationNudges()]
return Promise.all(e)})).finally((()=>{if(!this.isDestroying){this.inboxDataFetchInProgress=!1
this.inboxDataLoaded=!0}}))}_loadConversations(e){return e?this.loadConversationsByFilter(e).then((t=>{if(this.isDestroying)return
const n=mt.OVERLAY_CONVERSATION_FILTERED_LIST[e]
n&&this.tracking.firePageViewEvent(n)
return t})):this.msgDataManager.getMailbox()}switchInboxTab(e){this.inboxType=e
this.isBulkActionsMode=!1
"SECONDARY"===e&&this.msgDataManager.inboxManager.markSecondaryInboxAsSeen()
this.loadConversationsByFilter(`${this.inboxType}_INBOX`)
const t="PRIMARY"===e?"flagship3_messaging_overlay_primary_tab":"flagship3_messaging_overlay_secondary_tab"
this.tracking.firePageViewEvent(t)}refreshSettings(){this.mailboxName="INBOX"
this.refetchInboxData()}loadConversationsByFilter(e){this.isBulkActionsMode=!1
this.inboxDataLoaded=!1
this.inboxDataFetchInProgress=!0
this.localConvosFilter=e
const{mailboxFilter:t,mailboxName:n}=(0,s.default)(e)
this.mailboxName=n
return this.msgDataManager.getMailbox(this.mailboxName,t).then((async e=>{if(!(0,C.isDestroying)(this)){if(0===e.state.conversations.length&&!e.state.status.loading){await e.loadOlderConversations()
if((0,C.isDestroying)(this))return}return(0,h.resolve)(this.msgDataManager.getTrackedConversations(n))}})).finally((()=>{if(!this.isDestroying){this.inboxDataLoaded=!0
this.inboxDataFetchInProgress=!1}}))}refetchInboxData(){this.inboxDataFetchFailed=!1
this.inboxDataFetchInProgress=!1
this.inboxDataLoaded=!1
this._fetchInboxData("")}_updateMinimizedState(e){(0,g.runTask)(this,(()=>this.msgOverlayService.updateListBubbleMinimizeState(e)))}loadMore(){var e
if(this.loadMoreInProgress)return(0,h.resolve)()
if(0===(null===(e=this.conversations)||void 0===e?void 0:e.length))return(0,h.resolve)()
this.loadMoreInProgress=!0
this.loadMoreError=!1
const t=new h.Promise(((e,t)=>{this.msgDataManager.getMailbox(this.mailboxName).then((e=>e.loadOlderConversations())).then((t=>{(0,C.isDestroying)(this)||e(t)})).catch((e=>{if((0,C.isDestroying)(this))throw e
t(e)}))})),n=yt.beginAsync()
return t.then((e=>{if((0,C.isDestroying)(this))return
const t=this.i18n.lookupTranslation("components/msg-ui@i18n-shared","i18n_a11y_infinite_scroll_conversations")
this.a11yNotification.setTextInLiveRegion(t([{newRecordCount:e}]))
return e})).catch((e=>{if(!this.isDestroying){this.loadMoreError=!0
throw e}})).finally((()=>{yt.endAsync(n)
this.isDestroying||(this.loadMoreInProgress=!1)}))}newConversation(e,t){var n,i
e&&e.stopPropagation()
null===(n=(i=this.args).newConversation)||void 0===n||n.call(i,t)}retryLoadMore(){this.loadMore()}stopEvtPropagation(e){e&&e.stopPropagation()}toggleMinimize(e){var t
null==e||null===(t=e.stopPropagation)||void 0===t||t.call(e)
this.isInMinimizeTransition=!0
if(this.isMinimized){this.badging.getBadgeCount("messaging")>0&&this.badging.fireBadgeInteractionEvent(document.getElementById(this.listBubbleId),"msg-overlay-list-bubble-header","messaging")
this.msgOverlayService.markAllAsSeen()}this.msgOverlayService.toggleListBubbleMinimized()
this.isMinimized||this.enableFocusedInbox||this.tracking.firePageViewEvent("flagship3_messaging_overlay_connections.page")}openMessageRequestConversationList(){this.loadConversationsByFilter(lt)
this.isHeaderDropdownMenuOpen=!1
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_pending_request_inbox")}backToInboxFromMessageRequestList(){this.loadConversationsByFilter("")
this.tracking.fireInteractionEvent("overlay.back_to_inbox_from_requests")}openDeclinedMessageRequestConversationList(){this.loadConversationsByFilter(ct)
this.isHeaderDropdownMenuOpen=!1
this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_declined_request_inbox")}openAwayMessageSettingsModal(e){null==e||e.stopPropagation()
this.awayMessageSettingsModalIsOpen=!0}openMessagingSettingsModal(e){e&&e.stopPropagation()
this.isMessagingSettingsModalOpen=!0}onListBubbleItemClick(e){var t
if(!this.conversations.find((t=>t.entityUrn===e)))return
this._toggleConversationSelected(e)
this.selectedConversations=null===(t=this.conversations)||void 0===t?void 0:t.filter((e=>this.selectedConversationUrns.includes(e.entityUrn)))
!this.isBulkActionsMode&&this.selectedConversations.length>0?this.isBulkActionsMode=!0:0===this.selectedConversations.length&&(this.isBulkActionsMode=!1)
const n=this.selectedConversationUrns.includes(e)?"overlay.bulk_select_conversation":"overlay.bulk_unselect_conversation"
this.tracking.fireInteractionEvent(n)}_toggleConversationSelected(e){if(0===this.selectedConversationUrns.length)this.selectedConversationUrns=[e]
else{const t=this.selectedConversationUrns.includes(e)
this.selectedConversationUrns=t?this.selectedConversationUrns.filter((t=>t!==e)):this.selectedConversationUrns.concat(e)}}enterBulkActionsMode(e){e&&e.stopPropagation()
this.isMinimized&&this.toggleMinimize()
this.isBulkActionsMode=!0
this.isHeaderDropdownMenuOpen=!1}onExitBulkActionsMode(){this.selectedConversationUrns=[]
this.selectedConversations=[]
this.isBulkActionsMode=!1}willExecuteBulkAction(){this.isBulkActionsMode=!1}didExecuteBulkAction(e){"delete"===e&&this.selectedConversations.forEach((e=>{this.msgOverlayService.closeBubbleByConversationUrnOrBubbleId(e.entityUrn)}))}applyFilter(e){e?this.localStorage.setItem(ut,e):this.localStorage.removeItem(ut)
this.loadConversationsByFilter(e).then((()=>{(0,C.isDestroying)(this)||this.tracking.firePageViewEvent(mt.OVERLAY_CONVERSATION_FILTERED_LIST[e||"ALL"])}))
this.tracking.fireInteractionEvent(pt.SELECT[e||"ALL"],"SHORT_PRESS")}clearFilters(){this.localStorage.removeItem(ut)
this.tracking.fireInteractionEvent(pt.DISMISS[this.currentConvosFilter],"SHORT_PRESS")
const e=ft.beginAsync()
this.loadConversationsByFilter("").then((()=>{(0,C.isDestroying)(this)||document.querySelector(".msg-overlay-list-bubble__filters-btn").focus()})).finally((()=>{ft.endAsync(e)}))}impressionKindnessReminder(){this.tracking.firePageViewEvent("d_flagship3_messaging_overlay_kindness_banner")}clickKindnessReminder(){this.tracking.fireInteractionEvent("overlay.open_kindness_banner")
if(v.default){const e=this.kindnessReminderHelpCenterLink
if(!e)return
this.windowService.open(e,"_blank")}}onSearchTermChange(e){this.searchTerm=e}createListBubbleItemImpressionEvent(e){return this.isDestroying||this.isDestroyed?[]:{name:rt,body:{moduleKey:st,conversations:[{objectUrn:e.backendUrn,trackingId:(0,b.generateTrackingId)()}],participantPresenceStatuses:(0,l.getParticipantPresenceStatuses)(e.decoratedParticipants.map((e=>e.entityUrn)),this.presenceAPI)}}}onKindnessReminderWidgetDismiss(){this.kindnessReminderShown=!0
this.tracking.fireInteractionEvent("overlay.dismiss_kindness_banner")}messageRequestListHeaderOnGoBack(){this.loadConversationsByFilter(lt)
this.tracking.fireInteractionEvent("overlay.back_to_message_requests_from_declined_messages")}openBubbleByConversationUrn(e){const t=this.conversations.find((t=>t.entityUrn===e))
t&&this.args.openBubble(t)}setLoader(){this.showInboxLoader=!0;(0,g.runTask)(this,(()=>{this.showInboxLoader=!1}),500)}markAllAsRead(){this.msgDataManager.markAllConversationsAsRead().then((()=>{(0,C.isDestroying)(this)||this.clearFilters()})).catch((e=>{if((0,C.isDestroying)(this))throw e
const t=this.i18n.lookupTranslation("components/msg-cross-pillar@selected-filter-presenter","i18n_failed_to_mark_all_read")([])
this.persistentToastManager.error({message:t})
throw e}))}},we=(0,i.default)(_e.prototype,"authenticatedUser",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ce=(0,i.default)(_e.prototype,"badging",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Me=(0,i.default)(_e.prototype,"lix",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Se=(0,i.default)(_e.prototype,"tracking",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),De=(0,i.default)(_e.prototype,"i18n",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ke=(0,i.default)(_e.prototype,"windowService",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oe=(0,i.default)(_e.prototype,"a11yNotification",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ie=(0,i.default)(_e.prototype,"msgOverlayService",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pe=(0,i.default)(_e.prototype,"commonTime",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xe=(0,i.default)(_e.prototype,"storeShim",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ee=(0,i.default)(_e.prototype,"localStorage",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Re=(0,i.default)(_e.prototype,"legoResolver",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ae=(0,i.default)(_e.prototype,"legoTracking",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Te=(0,i.default)(_e.prototype,"msgUserSettings",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ne=(0,i.default)(_e.prototype,"msgDataManager",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ze=(0,i.default)(_e.prototype,"formatter",[ve],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Be=(0,i.default)(_e.prototype,"persistentToastManager",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ue=(0,i.default)(_e.prototype,"presenceAPI",[ye],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Le=(0,i.default)(_e.prototype,"mailboxName",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){}}),je=(0,i.default)(_e.prototype,"isHeaderDropdownMenuOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Fe=(0,i.default)(_e.prototype,"isMessagingSettingsModalOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=(0,i.default)(_e.prototype,"inboxDataFetchInProgress",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qe=(0,i.default)(_e.prototype,"inboxDataLoaded",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ye=(0,i.default)(_e.prototype,"inboxDataFetchFailed",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ke=(0,i.default)(_e.prototype,"loadMoreError",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),He=(0,i.default)(_e.prototype,"loadMoreInProgress",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),We=(0,i.default)(_e.prototype,"numConnections",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ge=(0,i.default)(_e.prototype,"awayMessageSettingsModalIsOpen",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Je=(0,i.default)(_e.prototype,"selectedConversations",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=(0,i.default)(_e.prototype,"selectedConversationUrns",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qe=(0,i.default)(_e.prototype,"isBulkActionsMode",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$e=(0,i.default)(_e.prototype,"searchTerm",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze=(0,i.default)(_e.prototype,"inboxType",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ht.PRIMARY}}),et=(0,i.default)(_e.prototype,"isInMinimizeTransition",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=(0,i.default)(_e.prototype,"showAwayMessageOnboarding",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nt=(0,i.default)(_e.prototype,"showInboxLoader",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),it=(0,i.default)(_e.prototype,"upsellCard",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),at=(0,i.default)(_e.prototype,"kindnessReminderShown",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ot=(0,i.default)(_e.prototype,"localConvosFilter",[p.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),(0,i.default)(_e.prototype,"switchInboxTab",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"switchInboxTab"),_e.prototype),(0,i.default)(_e.prototype,"refreshSettings",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"refreshSettings"),_e.prototype),(0,i.default)(_e.prototype,"loadConversationsByFilter",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"loadConversationsByFilter"),_e.prototype),(0,i.default)(_e.prototype,"refetchInboxData",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"refetchInboxData"),_e.prototype),(0,i.default)(_e.prototype,"loadMore",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"loadMore"),_e.prototype),(0,i.default)(_e.prototype,"newConversation",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"newConversation"),_e.prototype),(0,i.default)(_e.prototype,"retryLoadMore",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"retryLoadMore"),_e.prototype),(0,i.default)(_e.prototype,"stopEvtPropagation",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"stopEvtPropagation"),_e.prototype),(0,i.default)(_e.prototype,"toggleMinimize",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"toggleMinimize"),_e.prototype),(0,i.default)(_e.prototype,"openMessageRequestConversationList",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"openMessageRequestConversationList"),_e.prototype),(0,i.default)(_e.prototype,"backToInboxFromMessageRequestList",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"backToInboxFromMessageRequestList"),_e.prototype),(0,i.default)(_e.prototype,"openDeclinedMessageRequestConversationList",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"openDeclinedMessageRequestConversationList"),_e.prototype),(0,i.default)(_e.prototype,"openAwayMessageSettingsModal",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"openAwayMessageSettingsModal"),_e.prototype),(0,i.default)(_e.prototype,"openMessagingSettingsModal",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"openMessagingSettingsModal"),_e.prototype),(0,i.default)(_e.prototype,"onListBubbleItemClick",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"onListBubbleItemClick"),_e.prototype),(0,i.default)(_e.prototype,"enterBulkActionsMode",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"enterBulkActionsMode"),_e.prototype),(0,i.default)(_e.prototype,"onExitBulkActionsMode",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"onExitBulkActionsMode"),_e.prototype),(0,i.default)(_e.prototype,"willExecuteBulkAction",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"willExecuteBulkAction"),_e.prototype),(0,i.default)(_e.prototype,"didExecuteBulkAction",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"didExecuteBulkAction"),_e.prototype),(0,i.default)(_e.prototype,"applyFilter",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"applyFilter"),_e.prototype),(0,i.default)(_e.prototype,"clearFilters",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"clearFilters"),_e.prototype),(0,i.default)(_e.prototype,"impressionKindnessReminder",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"impressionKindnessReminder"),_e.prototype),(0,i.default)(_e.prototype,"clickKindnessReminder",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"clickKindnessReminder"),_e.prototype),(0,i.default)(_e.prototype,"onSearchTermChange",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"onSearchTermChange"),_e.prototype),(0,i.default)(_e.prototype,"createListBubbleItemImpressionEvent",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"createListBubbleItemImpressionEvent"),_e.prototype),(0,i.default)(_e.prototype,"onKindnessReminderWidgetDismiss",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"onKindnessReminderWidgetDismiss"),_e.prototype),(0,i.default)(_e.prototype,"messageRequestListHeaderOnGoBack",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"messageRequestListHeaderOnGoBack"),_e.prototype),(0,i.default)(_e.prototype,"openBubbleByConversationUrn",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"openBubbleByConversationUrn"),_e.prototype),(0,i.default)(_e.prototype,"setLoader",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"setLoader"),_e.prototype),(0,i.default)(_e.prototype,"markAllAsRead",[_.action],Object.getOwnPropertyDescriptor(_e.prototype,"markAllAsRead"),_e.prototype),_e))
e.default=_t}))
define.alias("ember-media-player/components/media-player","msg-overlay/components/media-player")
define("msg-overlay/components/messaging-overlay-container",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/classPrivateMethodGet","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/component","@ember/template-factory","@ember/destroyable","@ember/array","@ember/object","@ember/service","@glimmer/component","@glimmer/tracking","ember","ember-lifeline","global-utils/utils/is-browser","msg-shared/helpers/is-message-request-conversation","msg-shared/utils/constants","msg-shared/utils/document-is-hidden","msg-data/utils/sdk-view-data-helpers","msg-shared/utils/view-data-helpers","rsvp","data-layer/utils/profile/get-profile","ember-test-waiters"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b,h,v,f,y,_,w,C,M,S){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var D,k,O,I,P,x,E,R,A,T,N,z,B,U,L,j,F,V,q,Y,K,H,W,G,J,X,Q,$,Z,ee,te,ne,ie,ae,oe,re,se,le
const ce=(0,s.createTemplateFactory)({id:"z/0xVzAr",block:'[[[41,[30,0,["focusedMessagingMode"]],[[[1,"  "],[10,1],[14,0,"msg-overlay-container__dimmed-background"],[12],[13],[1,"\\n"]],[]],null],[11,"aside"],[24,1,"msg-overlay"],[16,0,[29,["msg-overlay-container msg-overlay-container-reflow\\n    ",[52,[30,0,["isMaximizedMode"]],"msg-overlay-container--full-screen"]]]],[4,[38,1],[[30,0,["onDidInsert"]]],null],[12],[1,"\\n  "],[8,[39,2],null,[["@filterFromDeeplink","@realtimeMsgNotAutoOpened","@newConversation","@openBubble","@afterInboxDataFetch"],[[30,0,["filterFromDeeplink"]],[30,0,["realtimeMsgNotAutoOpened"]],[30,0,["newConversation"]],[30,0,["openConversation"]],[30,0,["afterInboxDataFetch"]]]],null],[1,"\\n\\n"],[42,[28,[37,4],[[28,[37,4],[[30,0,["msgOverlayManager","avBubbles"]]],null]],null],null,[[[41,[30,1,["isLiveBroadcast"]],[[[1,"      "],[8,[39,5],null,[["@bundle"],["rooms"]],[["default"],[[[[1,"\\n"],[41,[30,2,["state","fulfilled"]],[[[1,"          "],[8,[39,6],null,[["@bubble","@bubbleId","@closeBubble","@hideAudioBubbleAtMdBreakPoint","@isMinimized","@isMaximized","@toggleMinimize","@refreshPage"],[[30,1],[28,[37,7],[[30,0,["msgOverlayManager","avBubbleIds"]],[30,1]],null],[28,[37,8],[[30,0,["closeAVBubble"]],[30,1]],null],[30,0,["hideAudioBubbleAtMdBreakPoint"]],[30,0,["isAudioBubbleMinimized"]],[30,0,["isAVBubbleMaximized"]],[30,0,["toggleAudioBubbleMinimized"]],[28,[37,9],["refreshRoute"],null]]],null],[1,"\\n"]],[]],null],[1,"      "]],[2]]]]],[1,"\\n"]],[]],[[[1,"      "],[8,[39,10],null,[["@bubble","@bubbleId","@closeBubble","@hideAudioBubbleAtMdBreakPoint","@isMinimized","@toggleMinimize"],[[30,1],[28,[37,7],[[30,0,["msgOverlayManager","avBubbleIds"]],[30,1]],null],[28,[37,8],[[30,0,["closeAVBubble"]],[30,1]],null],[30,0,["hideAudioBubbleAtMdBreakPoint"]],[30,0,["isAudioBubbleMinimized"]],[30,0,["toggleAudioBubbleMinimized"]]]],null],[1,"\\n"]],[]]]],[1]],null],[1,"\\n"],[42,[28,[37,4],[[28,[37,4],[[30,0,["msgOverlayManager","openBubbles"]]],null]],null],null,[[[1,"    "],[8,[39,11],null,[["@bubble","@closeBubble","@handleSuccessfulDiscardRequest","@overlayLixes","@messageComposeFlowTrackingId"],[[30,3],[28,[37,8],[[30,0,["closeBubble"]],[30,3]],null],[30,0,["handleSuccessfulDiscardRequest"]],[30,0,["overlayLixes"]],[30,3,["entryPointData","messageComposeFlowTrackingId"]]]],null],[1,"\\n"]],[3]],null],[1,"\\n"],[1,"  "],[10,0],[14,1,"msg-overlay__emoji-hoverable-outlet"],[12],[13],[1,"\\n\\n  "],[10,0],[14,1,"msg-overlay__reactor-list-outlet"],[12],[13],[1,"\\n"],[13]],["bubble","assetLoader","bubble"],false,["if","did-insert","msg-overlay@list-bubble-feature","each","-track-array","asset-loader@deferred-asset-loader","rooms@av-bubble","global-helpers@map-get","fn","ember-route-action-helper@route-action","msg-overlay@audio-bubble","msg-overlay@conversation-bubble-feature"]]',moduleName:"msg-overlay/components/messaging-overlay-container.hbs",isStrictMode:!1}),{CONTROL_NAMES:{OVERLAY:ue}}=f.default,de=/^messaging/,pe=(0,S.buildWaiter)("msg-data:data-manager:refresh-convo-bundle")
let me=(D=(0,d.inject)("i18n"),k=(0,d.inject)("global-nav-shared@badge"),O=(0,d.inject)("router"),I=(0,d.inject)("tracking"),P=(0,d.inject)("msg-overlay-manager@msg-overlay-manager"),x=(0,d.inject)("msg-shared@first-message"),E=(0,d.inject)("msg-data@data-manager"),R=(0,d.inject)("msg-shared@component-context"),A=(0,d.inject)("msg-shared@messaging-user-settings"),T=(0,d.inject)("global-services@store-shim"),N=(J=new WeakSet,X=new WeakSet,Q=new WeakSet,$=new WeakSet,Z=new WeakSet,ee=new WeakSet,te=new WeakSet,ne=new WeakSet,ie=new WeakSet,ae=new WeakSet,oe=new WeakSet,re=new WeakSet,se=new WeakSet,le=new WeakSet,class extends p.default{get isMessagingRoute(){var e
return null===(e=this.router.currentRouteName)||void 0===e?void 0:e.match(de)}get isMaximizedMode(){return this.msgOverlayManager.maximizedMode}get hideAudioBubbleAtMdBreakPoint(){return this.msgOverlayManager.hideAudioBubbleAtMdBreakPoint}get isAudioBubbleMinimized(){return this.msgOverlayManager.avBubbleIsMinimized}get isAVBubbleMaximized(){return this.msgOverlayManager.avBubbleIsMaximized}constructor(){var e,a
super(...arguments)
le.add(this)
se.add(this)
re.add(this)
oe.add(this)
ae.add(this)
ie.add(this)
ne.add(this)
te.add(this)
ee.add(this)
Z.add(this)
$.add(this)
Q.add(this)
X.add(this)
J.add(this);(0,n.default)(this,"rumComponentId","msg-overlay");(0,n.default)(this,"overlayLixes",{});(0,t.default)(this,"i18n",z,this);(0,t.default)(this,"badgeService",B,this);(0,t.default)(this,"router",U,this);(0,t.default)(this,"tracking",L,this);(0,t.default)(this,"msgOverlayManager",j,this);(0,t.default)(this,"firstMessage",F,this);(0,t.default)(this,"msgDataManager",V,this);(0,t.default)(this,"msgComponentContextService",q,this);(0,t.default)(this,"msgUserSettings",Y,this);(0,t.default)(this,"storeShim",K,this);(0,t.default)(this,"filterFromDeeplink",H,this);(0,t.default)(this,"focusedMessagingMode",W,this);(0,t.default)(this,"realtimeMsgNotAutoOpened",G,this)
this.msgComponentContextService.setTo("overlay")
const o=null===(e=this.router)||void 0===e||null===(a=e.currentRoute)||void 0===a?void 0:a.queryParams
"true"===(null==o?void 0:o.msgOverlay)&&(0,i.default)(this,J,ge).call(this,o)}willDestroy(){super.willDestroy(...arguments)
this.msgOverlayManager.off("newConversation",this,this.newConversation)}afterInboxDataFetch(e){if(!(0,l.isDestroying)(this)){this.conversationDataFetched=!0
if(this.shouldOpenMostRecentConversation){e.length&&(0,i.default)(this,Q,he).call(this,e[0])
this.shouldOpenMostRecentConversation=!1}}}async _chainedSync(){const e=await this.msgDataManager.getMailbox()
if((0,l.isDestroying)(this))return
if(e.state.status.loading)return(0,C.resolve)()
const t=pe.beginAsync()
return e.syncConversations({pageInstance:this.tracking.getCurrentPageInstance()}).finally((()=>{pe.endAsync(t)}))}async onDidInsert(){var e,t;(0,i.default)(this,le,Oe).call(this);(0,i.default)(this,$,ve).call(this)
this.msgOverlayManager.setUnseenConvoCountFromBadge()
this.msgOverlayManager.setOverlayHasLoaded()
await this.msgUserSettings.syncUserSettings()
if((0,l.isDestroying)(this))return
const n=null===(e=this.router)||void 0===e||null===(t=e.currentRoute)||void 0===t?void 0:t.queryParams
"true"===(null==n?void 0:n.msgOverlay)||this.msgOverlayManager.restoreCachedOverlayData(this.msgUserSettings.messagingOverlayPopups)}openConversation(e){this.realtimeMsgNotAutoOpened=!1
const t=(0,_.isInMailConversation)(e),n={conversation:e,isInMail:t,isMinimized:!1,focusInputOnInit:!0},a=this.msgOverlayManager.getOpenBubbleFromConversation(e)
if(a)this.msgOverlayManager.unminimizeAndReadConversation(a)
else{n.isJumbo=e.groupChat||t;(0,i.default)(this,se,ke).call(this,n)}t&&this.tracking.fireInteractionEvent(ue.OPEN_INMAIL)}async newConversation(){let{composeOptionType:e,contextualTrackingInfo:t,attachments:n=[],forwardedEvent:a,groupConversationName:o,inMailComposeViewContext:r,invitationUrn:s,is1on1Compose:u=!1,isInMailCompose:d=!1,isJumbo:p=!1,entryPointData:m,message:g="",messageActions:b={},messageContext:h,messageRecipients:v=[],recipients:f,msgAdapterOptions:y,placeholderText:_,previewKey:C="",showGroupEditScreen:M,isDeprecatedLinkToJoin:S=!1,smpContent:D=null,subject:k="",update:O=null,dispatcherEntryPointArgs:I}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},P=f??v;(0,c.isArray)(P)||(P=[P])
const x=this.msgOverlayManager.getOpenBubbleByRecipients(P)
if(x){if(!g)return
this.closeBubble(x)}const E=!s&&d,R=p||E,A=await this.msgDataManager.getMailbox()
if((0,l.isDestroying)(this))return
const T=await A.createDraftConversation(P.map((e=>(0,w.getProfileDashUrn)(e))));(0,l.isDestroying)(this)||(0,i.default)(this,se,ke).call(this,{attachments:n,composeOptionType:e,contextualTrackingInfo:t,conversationId:T.entityUrn??T.clientId,conversation:T,entryPointData:m,focusInputOnInit:!0,forwardedEvent:a,groupConversationName:o,hasUnseenMessages:!1,inMailComposeViewContext:r,invitationUrn:s,is1on1Compose:u,isInMailCompose:E,isJumbo:R,isMinimized:!1,isNew:!0,message:g,messageActions:b,messageContext:h,messageRecipients:P,msgAdapterOptions:y,placeholderText:_,previewKey:C,showGroupEditScreen:M,isDeprecatedLinkToJoin:S,smpContent:D,subject:k,update:O,dispatcherEntryPointArgs:I})}handleSuccessfulDiscardRequest(e){(0,i.default)(this,ae,Me).call(this,e)}closeBubble(e){this.focusedMessagingMode=!1
const{clientId:t}=e.conversation;(0,i.default)(this,oe,Se).call(this,t)}closeAVBubble(e){this.msgOverlayManager.closeAVBubble(e)}toggleAudioBubbleMinimized(){this.msgOverlayManager.toggleAudioBubbleMinimized()}}),z=(0,a.default)(N.prototype,"i18n",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,a.default)(N.prototype,"badgeService",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,a.default)(N.prototype,"router",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,a.default)(N.prototype,"tracking",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,a.default)(N.prototype,"msgOverlayManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,a.default)(N.prototype,"firstMessage",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=(0,a.default)(N.prototype,"msgDataManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,a.default)(N.prototype,"msgComponentContextService",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,a.default)(N.prototype,"msgUserSettings",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,a.default)(N.prototype,"storeShim",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,a.default)(N.prototype,"filterFromDeeplink",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,a.default)(N.prototype,"focusedMessagingMode",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,a.default)(N.prototype,"realtimeMsgNotAutoOpened",[m.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,a.default)(N.prototype,"afterInboxDataFetch",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"afterInboxDataFetch"),N.prototype),(0,a.default)(N.prototype,"onDidInsert",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"onDidInsert"),N.prototype),(0,a.default)(N.prototype,"openConversation",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"openConversation"),N.prototype),(0,a.default)(N.prototype,"newConversation",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"newConversation"),N.prototype),(0,a.default)(N.prototype,"handleSuccessfulDiscardRequest",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"handleSuccessfulDiscardRequest"),N.prototype),(0,a.default)(N.prototype,"closeBubble",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"closeBubble"),N.prototype),(0,a.default)(N.prototype,"closeAVBubble",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"closeAVBubble"),N.prototype),(0,a.default)(N.prototype,"toggleAudioBubbleMinimized",[u.action],Object.getOwnPropertyDescriptor(N.prototype,"toggleAudioBubbleMinimized"),N.prototype),N)
e.default=me
async function ge(e){const{chatId:t,body:n,msgConversationId:a,msgRecipientId:o,msgCompose:r,msgRecent:s,msgFilter:c,msgControlName:u}=e
this.filterFromDeeplink=c
if("true"===r){let e,t
if(o){e=await(0,M.getProfileById)(this.storeShim,o,"com.linkedin.voyager.dash.deco.identity.profile.MiniProfile")
if((0,l.isDestroying)(this))return}this.newConversation({isMinimized:!1,isJumbo:!0,isNew:!0,message:n,msgAdapterOptions:t,messageRecipients:e?[e]:void 0})
this.msgOverlayManager.updateListBubbleMinimizeState(!1)
this.focusedMessagingMode=!0}else if(a){const e=await this.msgDataManager.fetchConversation(a)
if((0,l.isDestroying)(this)||!e)return;(0,i.default)(this,Q,he).call(this,e,u)}else t?(0,i.default)(this,X,be).call(this,{previewKey:t,focusMode:!0}):s&&(this.shouldOpenMostRecentConversation=!0)}function be(e){let{previewKey:t,focusMode:n=!1}=e
this.newConversation({previewKey:t,isDeprecatedLinkToJoin:!0,isMinimized:!1,isJumbo:!0,focusInputOnInit:!0})
this.focusedMessagingMode=n}function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";(0,i.default)(this,se,ke).call(this,{conversation:e,inmailReplyDeepLink:t,isMinimized:!1,isJumbo:!0,hasUnseenMessages:!e.read,focusInputOnInit:!0})
this.msgOverlayManager.updateListBubbleMinimizeState(!1)
this.focusedMessagingMode=!0}function ve(){var e=this
if(h.default){(0,b.addEventListener)(this,window,"blur",(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a]
return(0,i.default)(e,te,_e).call(e,...n)}));(0,b.addEventListener)(this,document,"click",(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a]
return(0,i.default)(e,Z,fe).call(e,...n)}));(0,b.addEventListener)(this,window,"visibilitychange",(function(){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a]
return(0,i.default)(e,ne,we).call(e,...n)}))
this.msgOverlayManager.on("newConversation",this,this.newConversation)
this.msgOverlayManager.on("conversationPreview",this,(0,i.default)(this,X,be))
this.msgDataManager.onNewMessageInConversation((function(){if(!(0,l.isDestroying)(e)){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(0,i.default)(e,ie,Ce).call(e,...n)}}))
this.msgDataManager.onConversationDeleted((function(){if(!(0,l.isDestroying)(e)){for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];(0,i.default)(e,ae,Me).call(e,...n)}}))}}function fe(e){let{target:t}=e
t.classList&&t.classList.contains("msg-overlay-container__dimmed-background")&&(this.focusedMessagingMode=!1)}function ye(){if(h.default){const e=document.activeElement&&document.activeElement.classList
return e&&e.contains("msg-messaging-form__message")}return!1}function _e(){(0,i.default)(this,ee,ye).call(this)&&document.activeElement.blur()}function we(){(0,y.default)()?(0,i.default)(this,ee,ye).call(this)&&document.activeElement.blur():(0,b.throttleTask)(this,"_chainedSync",g.default.testing?1e3:18e5)}function Ce(){let{entityUrn:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}
const t=this.msgDataManager.getTrackedConversation(e)
if((0,i.default)(this,re,De).call(this,t))return
this.msgOverlayManager.playSound()
const n=h.default&&document.hasFocus()&&!(0,y.default)()
n||this.msgOverlayManager.updateDocumentTitle(t)
const a=this.msgOverlayManager.getOpenBubbleFromConversation(t),o=a&&a.isActive&&!a.isMinimized&&n
if(!this.isMessagingRoute&&!o){this.badgeService.incrementBadge("messaging")
this.msgOverlayManager.setUnseenConvoCountFromBadge()}if(a){(0,u.set)(a,"hasUnseenMessages",!o)
o&&this.msgOverlayManager.markConversationAsRead(a)}else if(!this.isMessagingRoute&&!(0,v.isMessageRequestConversation)(t)){const e=(0,_.isInMailConversation)(t);(0,i.default)(this,se,ke).call(this,{conversation:t,focusInputOnInit:!1,hasUnseenMessages:!0,isJumbo:t.groupChat||e,isMinimized:!this.msgUserSettings.messagingOverlayPopups,isTriggeredByRealtime:!0})}}function Me(e){this.msgOverlayManager.closeBubbleByConversationUrnOrBubbleId(e)
this.msgOverlayManager.syncCachedConvos()}function Se(e){this.msgOverlayManager.closeBubbleByConversationclientId(e)
this.msgOverlayManager.syncCachedConvos()}function De(e){return 0===e.unreadCount||"MUTE"===e.notificationStatus}async function ke(e){const t=await this.msgOverlayManager.createConversationBubble(e)
if(!(0,l.isDestroying)(this)){!t&&e.isTriggeredByRealtime&&(this.realtimeMsgNotAutoOpened=!0)
return t}}function Oe(){const{i18n:e,firstMessage:t}=this,{inviter:n}=t.getMessageInfo()||{}
n&&this.newConversation({messageRecipients:n,message:e.lookupTranslation("components/msg-overlay@messaging-overlay-container","i18n_first_message_prompt_doing_well")()})}(0,r.setComponentTemplate)(ce,me)}))
define("msg-overlay/components/overlay-conversation-list-feature",["exports","@ember/template-factory","@ember/component/template-only","@ember/component","global-helpers/helpers/and","global-helpers/helpers/eq","global-helpers/helpers/not","msg-ui/components/no-messages-presenter","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","msg-spinmail/components/conversation-starter-ad-presenter","msg-overlay/components/overlay-conversation-list-item-feature","@ember/helper","msg-ui/components/loader","@ember/modifier"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var b=(0,i.setComponentTemplate)((0,t.createTemplateFactory)({id:"GjA8daLw",block:'[[[1,"\\n"],[1,"  "],[10,0],[14,0,"msg-overlay-list-bubble__conversations-list"],[12],[1,"\\n"],[41,[28,[32,0],[[28,[32,1],[[30,1,["length"]],0],null],[28,[32,2],[[30,2]],null]],null],[[[41,[30,3],[[[1,"        "],[8,[32,3],null,[["@isOverlay","@newConversation"],[true,[30,4]]],null],[1,"\\n"]],[]],[[[1,"        "],[10,0],[12],[1,"\\n          "],[10,0],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble__no-results-image"],[12],[13],[1,"\\n"],[41,[28,[32,1],[[30,5],"CONNECTIONS"],null],[[[1,"            "],[10,"h4"],[14,0,"t-16 t-black t-bold ph text-align-center ph6"],[12],[1,"\\n              "],[1,[28,[32,4],["i18n_no_messages_from_connections","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"          "],[10,2],[14,0,"text-align-center mb4"],[12],[1,"\\n"],[41,[28,[32,1],[[30,5],"BLOCKED"],null],[[[1,"              "],[1,[28,[32,4],["i18n_no_spam_messages","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,5],"UNREAD"],null],[[[1,"              "],[1,[28,[32,4],["i18n_no_unread_messages","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,5],"INMAIL"],null],[[[1,"              "],[1,[28,[32,4],["i18n_no_inmail_messages","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,5],"MESSAGE_REQUEST_PENDING"],null],[[[1,"              "],[1,[28,[32,4],["i18n_no_message_request","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,5],"MESSAGE_REQUEST_DECLINED"],null],[[[1,"              "],[1,[28,[32,4],["i18n_no_declined_message_request","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[41,[28,[32,1],[[30,5],"CONNECTIONS"],null],[[[1,"              "],[1,[28,[32,4],["i18n_reach_out_message","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n"]],[]],[[[1,"              "],[1,[28,[32,4],["i18n_no_results_found","msg-overlay/components/overlay-conversation-list-feature"],null]],[1,"\\n            "]],[]]]],[]]]],[]]]],[]]]],[]]]],[]]],[1,"          "],[13],[1,"\\n"],[41,[28,[32,1],[[30,5],"CONNECTIONS"],null],[[[1,"            "],[10,0],[14,0,"full-width display-flex justify-center"],[12],[1,"\\n              "],[8,[32,5],[[24,0,"ph0"],[4,[32,6],["click",[30,4]],null]],[["@text","@type"],[[28,[32,4],["i18n_create_new_message","msg-overlay/components/overlay-conversation-list-feature"],null],"tertiary"]],null],[1,"\\n            "],[13],[1,"\\n"]],[]],null],[1,"        "],[13],[1,"\\n"]],[]]]],[]],[[[42,[28,[31,2],[[28,[31,2],[[30,1]],null]],null],"@index",[[[41,[30,6,["isConversationStarterAdPreview"]],[[[1,"          "],[8,[32,7],null,[["@component","@index","@isOverlay"],[[30,6],[30,7],true]],null],[1,"\\n"]],[]],[[[1,"          "],[8,[32,8],[[24,"data-feedback-redacted",""]],[["@conversation","@convoIndex","@openBubble","@disableBulkActions","@isBulkActionsMode","@handleBulkActionToggle","@selectedConversationUrns","@conversationLength"],[[30,6],[30,7],[30,8],[30,9],[30,10],[28,[32,9],[[30,11],[30,6,["entityUrn"]]],null],[30,12],[30,13]]],null],[1,"\\n"]],[]]]],[6,7]],null]],[]]],[1,"  "],[13],[1,"\\n\\n"],[41,[30,2],[[[1,"    "],[8,[32,10],[[24,0,"full-height justify-center"]],[["@size"],["small"]],null],[1,"\\n"]],[]],null]],["@conversations","@showLoadingState","@showNoMessagesPresenter","@newConversation","@currentConvosFilter","conversation","index","@openBubble","@disableBulkActions","@isBulkActionsMode","@onBulkActionToggle","@selectedConversationUrns","@conversationLength"],false,["if","each","-track-array"]]',moduleName:"msg-overlay/components/overlay-conversation-list-feature.gjs",scope:()=>[a.default,o.default,r.default,s.default,l.default,c.default,g.on,u.default,d.default,p.fn,m.default],isStrictMode:!0}),(0,n.default)("overlay-conversation-list-feature","OverlayConversationListFeature"))
e.default=b}))
define("msg-overlay/components/overlay-conversation-list-item-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","msg-ui/viewdata/sdk-conversation-list-item-viewdata","@ember/object/internals","ember-cli-pemberly-tracking/utils/tracking","msg-shared/utils/constants","@ember/service","tracked-toolbox","@ember/object","@glimmer/component","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-impression","msg-ui/components/selectable-entity-presenter","hue-web-icons/components/icon","ember-cli-pemberly-i18n/helpers/t","msg-shared-modals/components/conversation-header-dropdown-menu-presenter","text-view-model/helpers/text-view-model","global-helpers/helpers/or","msg-shared/helpers/is-in-overlay","artdeco-notification-badge/components/artdeco-notification-badge"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b,h,v,f,y,_,w,C,M,S,D){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var k,O,I,P,x,E,R,A,T,N,z,B,U,L,j,F
const{CONTROL_NAMES:V,IMPRESSION_KEYS:{CONVERSATION:q},MODULE_KEYS:{OVERLAY_CONVERSATION_LIST:Y},KEYCODES:{ENTER:K,SPACEBAR:H}}=d.default
let W=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"yzwojSiW",block:'[[[1,"\\n"],[1,"    "],[11,0],[24,0,"msg-conversation-listitem__link msg-overlay-list-bubble__convo-item"],[24,"tabindex","0"],[16,1,[30,0,["conversationCardId"]]],[17,1],[4,[32,0],["click",[30,0,["onClick"]]],null],[4,[32,0],["keydown",[30,0,["onKeyDown"]]],null],[4,[32,0],["mousemove",[30,0,["onMouseMove"]]],null],[4,[32,1],[[30,0,["impressionEventPayload"]]],[["routeName","currentRoute"],[[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n      "],[10,0],[14,0,"msg-overlay-list-bubble__convo-card-container"],[12],[1,"\\n        "],[10,0],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card display-flex"],[12],[1,"\\n          "],[8,[32,3],null,[["@viewData","@onCheckboxClick","@checkboxOnly","@checked","@disableSelectability","@entitySize","@iconSize"],[[30,0,["viewData","conversationEntityViewData"]],[30,0,["handleCheckboxClick"]],[30,2],[30,0,["isChecked"]],[30,3],3,"small"]],null],[1,"\\n\\n          "],[10,0],[14,0,"overflow-hidden pl2 msg-overlay-list-bubble__convo-card-content"],[12],[1,"\\n"],[1,"            "],[10,0],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper fl"],[12],[1,"\\n              "],[10,0],[14,0,"msg-conversation-card__row align-items-center display-flex"],[12],[1,"\\n                "],[10,"h3"],[15,0,[29,["msg-conversation-listitem__participant-names msg-conversation-card__participant-names truncate t-14 t-black\\n                    ",[52,[30,0,["viewData","isRead"]],"t-normal","t-bold"]]]],[12],[1,"\\n                  "],[1,[30,0,["viewData","title"]]],[1,"\\n                "],[13],[1,"\\n                "],[10,0],[15,0,[29,["msg-conversation-card__mute-icon-holder\\n                    ",[52,[30,0,["showInboxShortcutsButton"]],"msg-conversation-card__mute-icon-holder--inbox-shortcuts"]]]],[12],[1,"\\n"],[41,[30,0,["viewData","isMute"]],[[[1,"                    "],[10,0],[14,0,"msg-conversation-card__mute-icon"],[12],[1,"\\n                      "],[8,[32,4],[[24,0,"v-align-top"]],[["@a11yText","@name","@type","@size"],[[28,[32,5],["i18n_convo_is_muted","msg-overlay/components/overlay-conversation-list-item-feature"],[["names"],[[30,0,["viewData","title"]]]]],"volume-mute","system","medium"]],null],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n"],[41,[30,0,["viewData","timestampText"]],[[[1,"                  "],[10,"time"],[15,0,[29,["msg-overlay-list-bubble-item__time-stamp t-12\\n                      ",[52,[30,0,["showInboxShortcutsButton"]],"msg-overlay-list-bubble-item__time-stamp--inbox-shortcuts"],"\\n                      ",[52,[30,0,["viewData","isRead"]],"t-normal t-black--light","t-bold t-black"]]]],[12],[1,"\\n                    "],[1,[30,0,["viewData","timestampText"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[41,[30,0,["showInboxShortcutsButton"]],[[[1,"                  "],[10,0],[14,0,"msg-overlay-list-bubble__inbox-shortcuts-container"],[12],[1,"\\n                    "],[10,0],[14,0,"msg-overlay-list-bubble__inbox-shortcuts"],[12],[1,"\\n                      "],[8,[32,6],null,[["@viewData","@showRenameConversationForm","@toggleConversationMute","@isInboxShortcuts","@isOverlay","@actionTrackingPrefix"],[[30,0,["viewData","conversationHeaderDropdownMenuViewData"]],[30,0,["handleDropdownRenameForm"]],[30,0,["toggleConversationMute"]],true,true,[30,0,["actionTrackingPrefix"]]]],null],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n"]],[]],null],[1,"              "],[13],[1,"\\n\\n              "],[10,0],[14,0,"msg-conversation-card__row justify-space-between"],[12],[1,"\\n                "],[10,0],[15,0,[52,[30,0,["twoLineMessageSnippetLayout"]],"msg-overlay-list-bubble__message-snippet-container--narrow-two-line","truncate"]],[12],[1,"\\n"],[41,[30,0,["viewData","showMessageRequestContext"]],[[[1,"                    "],[10,2],[14,0,"display-flex align-items-center overflow-hidden t-12 t-bold"],[12],[1,"\\n                      "],[10,1],[14,0,"truncate flex-1"],[12],[1,"\\n                        "],[1,[28,[32,7],[[30,0,["viewData","messageRequestContext"]]],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                  "],[10,2],[15,0,[29,[[52,[28,[32,8],[[30,0,["viewData","showMessageRequestContext"]],[30,0,["viewData","nudgeText"]]],null],"msg-overlay-list-bubble__message-snippet truncate","msg-overlay-list-bubble__message-snippet--v2"],"\\n                      ",[52,[30,0,["viewData","isStarred"]],"msg-overlay-list-bubble__message-snippet--starred"],"\\n                      m0 t-12\\n                      ",[52,[30,0,["viewData","isRead"]],"t-black--light","t-black msg-overlay-list-bubble__message-snippet--unread"]]]],[12],[1,"\\n"],[41,[30,0,["viewData","messageSnippetIcon"]],[[[1,"                      "],[8,[32,4],[[24,0,"msg-conversation-card__message-snippet-icon"]],[["@name","@type","@size"],[[30,0,["viewData","messageSnippetIcon"]],"system","small"]],null],[1,"\\n"]],[]],null],[41,[30,0,["viewData","messageSnippetPillText"]],[[[1,"                      "],[10,1],[15,0,[29,["msg-conversation-card__pill t-14\\n                          ",[52,[51,[30,0,["shouldDisplayGrayMessageSnippetPillText"]]]," t-black "],"\\n                          t-bold pr1"]]],[12],[1,"\\n                        "],[1,[30,0,["viewData","messageSnippetPillText"]]],[1,"\\n                      "],[13],[1,"\\n"]],[]],null],[1,"                    "],[1,[30,0,["viewData","messageSnippetText"]]],[1,"\\n                  "],[13],[1,"\\n"],[41,[30,0,["viewData","nudgeText"]],[[[1,"                    "],[11,2],[16,0,[29,[[52,[28,[32,9],null,null],"msg-conversation-card__nudge-text--small","msg-conversation-card__nudge-text--large"],"\\n                        msg-conversation-card__nudge-text"]]],[4,[32,1],null,[["registerOnImpression","routeName","currentRoute"],[[30,0,["onNudgeImpression"]],[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                      "],[1,[30,0,["viewData","nudgeText"]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n                "],[10,0],[14,0,"display-flex"],[12],[1,"\\n                  "],[10,0],[15,0,[29,["msg-conversation-card__conversation-status msg-conversation-card__star-icon\\n                      ",[52,[30,0,["viewData","isStarred"]],"msg-conversation-card__star-icon--starred"]]]],[12],[1,"\\n"],[41,[30,0,["viewData","isStarred"]],[[[1,"                      "],[8,[32,4],null,[["@name","@type","@size"],["star-fill","system","small"]],null],[1,"\\n"]],[]],null],[1,"                  "],[13],[1,"\\n"],[41,[51,[30,0,["viewData","isRead"]]],[[[1,"                    "],[10,0],[14,0,"msg-conversation-card__conversation-status align-items-center flex-grow-1"],[12],[1,"\\n                      "],[8,[32,10],[[24,0,"msg-conversation-card__unread-count msg-conversation-card__unread-count--inbox-shortcuts artdeco-notification-badge--new text-align-center"],[16,"aria-label",[52,[30,0,["viewData","isRead"]],"",[28,[32,5],["aria_unread_count","msg-overlay/components/overlay-conversation-list-item-feature"],[["unreadCount"],[[30,0,["viewData","conversationUnreadCount"]]]]]]]],[["@number","@showCount"],[[30,0,["viewData","conversationUnreadCount"]],true]],[["default"],[[[[1,"\\n"],[1,"                      "]],[]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "],[13],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["&attrs","@isBulkActionsMode","@disableBulkActions"],false,["-get-dynamic-var","if","unless"]]',moduleName:"msg-overlay/components/overlay-conversation-list-item-feature.gjs",scope:()=>[h.on,v.default,r.get,f.default,y.default,_.default,w.default,C.default,M.default,S.default,D.default],isStrictMode:!0}),(k=(0,p.inject)("authentication@authenticated-user"),O=(0,p.inject)("formatter"),I=(0,p.inject)("i18n"),P=(0,p.inject)("msg-data@data-manager"),x=(0,p.inject)("date"),E=(0,p.inject)("presence@presence-api-dash"),R=(0,p.inject)("tracking"),A=class extends b.default{constructor(){super(...arguments);(0,n.default)(this,"conversationCardId",`overlay-conversation-card-${(0,c.guidFor)(this)}`);(0,t.default)(this,"authenticatedUser",T,this);(0,t.default)(this,"formatter",N,this);(0,t.default)(this,"i18n",z,this);(0,t.default)(this,"msgDataManager",B,this);(0,t.default)(this,"dateService",U,this);(0,t.default)(this,"presenceAPI",L,this);(0,t.default)(this,"tracking",j,this);(0,t.default)(this,"lix",F,this);(0,n.default)(this,"actionTrackingPrefix",V.OVERLAY_PREFIX)}get controlInteractionEventName(){return`overlay.${this.viewData.controlName}`}get isChecked(){var e
return null===(e=this.args.selectedConversationUrns)||void 0===e?void 0:e.includes(this.viewData.entityUrn)}get showInboxShortcutsButton(){return!this.args.isBulkActionsMode&&!this.args.isOverlaySearch}get twoLineMessageSnippetLayout(){return!this.viewData.messageRequestContext}get shouldDisplayGrayMessageSnippetPillText(){return this.viewData.isConversationWithAdvertiser}get viewData(){const{conversation:e}=this.args
return new l.default({conversation:this.msgDataManager.getTrackedConversation(e.entityUrn),authenticatedUserMiniProfile:this.authenticatedUser.miniProfile.content,msgDataManager:this.msgDataManager,nowTimestamp:this.dateService.now(),formatter:this.formatter,i18n:this.i18n,presenceAPI:this.presenceAPI,lix:this.lix})}onKeyDown(e){if(e.keyCode===K||e.keyCode===H){if(null!==e.target.closest(".msg-overlay-list-bubble__inbox-shortcuts"))return
e.preventDefault()
if(document.getElementById(this.conversationCardId).querySelector(".msg-selectable-entity__input")===document.activeElement)return
if(this.args.isBulkActionsMode)this.args.handleBulkActionToggle()
else{this.args.openBubble(this.viewData.entityUrn)
this.tracking.fireInteractionEvent(this.controlInteractionEventName)}}}onMouseMove(e){var t,n
null===(t=(n=this.args).onMouseMove)||void 0===t||t.call(n,e)}onClick(e){if(this.args.isBulkActionsMode)this.args.handleBulkActionToggle()
else{if(null!==e.target.closest(".msg-overlay-list-bubble__inbox-shortcuts"))return
this.args.openBubble(this.viewData.entityUrn)
this.tracking.fireInteractionEvent(this.controlInteractionEventName)
this.msgDataManager.nudgingDataManager.fireClickTracking(this.viewData.entityUrn)}}toggleStarState(e){if(e.keyCode===K||e.keyCode===H||"click"===e.type){e.stopPropagation()
e.preventDefault()
const{entityUrn:t,isStarred:n}=this.viewData
this.msgDataManager.toggleConversationStar(t,!n)
const i=document.getElementById(this.conversationCardId).querySelector(".msg-overlay-list-bubble__star-icon")
null==i||i.blur()}}toggleConversationMute(){const{entityUrn:e,isMute:t}=this.viewData
return this.msgDataManager.toggleConversationMute(e,!t)}handleDropdownRenameForm(e){e.stopPropagation()
e.preventDefault()}onNudgeImpression(){const{convoIndex:e}=this.args,{entityUrn:t,conversationBackendUrn:n}=this.viewData
return()=>this.msgDataManager.nudgingDataManager.onImpression(t,n,e+1,"overlay-conversation-list-item")}impressionEventPayload(){if(this.isDestroying||this.isDestroyed)return[]
const{conversationBackendUrn:e,participantPresenceStatuses:t}=this.viewData
return{name:q,body:{moduleKey:Y,conversations:[{objectUrn:e,trackingId:(0,u.generateTrackingId)()}],participantPresenceStatuses:t}}}handleCheckboxClick(){this.args.handleBulkActionToggle&&this.args.handleBulkActionToggle(this.viewData.id)}},T=(0,i.default)(A.prototype,"authenticatedUser",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(A.prototype,"formatter",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(A.prototype,"i18n",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=(0,i.default)(A.prototype,"msgDataManager",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=(0,i.default)(A.prototype,"dateService",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,i.default)(A.prototype,"presenceAPI",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=(0,i.default)(A.prototype,"tracking",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=(0,i.default)(A.prototype,"lix",[p.inject],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,i.default)(A.prototype,"viewData",[m.cached],Object.getOwnPropertyDescriptor(A.prototype,"viewData"),A.prototype),(0,i.default)(A.prototype,"onKeyDown",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"onKeyDown"),A.prototype),(0,i.default)(A.prototype,"onMouseMove",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"onMouseMove"),A.prototype),(0,i.default)(A.prototype,"onClick",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"onClick"),A.prototype),(0,i.default)(A.prototype,"toggleStarState",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"toggleStarState"),A.prototype),(0,i.default)(A.prototype,"toggleConversationMute",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"toggleConversationMute"),A.prototype),(0,i.default)(A.prototype,"handleDropdownRenameForm",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"handleDropdownRenameForm"),A.prototype),(0,i.default)(A.prototype,"onNudgeImpression",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"onNudgeImpression"),A.prototype),(0,i.default)(A.prototype,"impressionEventPayload",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"impressionEventPayload"),A.prototype),(0,i.default)(A.prototype,"handleCheckboxClick",[g.action],Object.getOwnPropertyDescriptor(A.prototype,"handleCheckboxClick"),A.prototype),A))
e.default=W}))
define("msg-overlay/components/overlay-search-feature",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","msg-overlay/viewdata/graphql-overlay-search-viewdata","@glimmer/tracking","@glimmer/component","ember-lifeline","global-helpers/helpers/name","ember-batcher","msg-shared/utils/constants","msg-overlay/utils/scroll-blocker-helper","tracked-toolbox","@ember/object","rsvp","@ember/service","@ember/destroyable","@ember/render-modifiers/modifiers/did-insert","ember-cli-pemberly-tracking/modifiers/track-render","ember-cli-pemberly-i18n/helpers/t","hue-web-icons/components/icon","@ember/component","@ember/modifier","artdeco-dropdown/components/artdeco-dropdown","artdeco-dropdown/components/artdeco-dropdown-item","global-helpers/helpers/eq","@ember/helper","dummy-yield-wrapper/components/dummy-yield-wrapper","artdeco-button/components/artdeco-button","artdeco-loader/components/artdeco-loader","global-helpers/helpers/and","msg-overlay/components/connection-search-result-item-presenter","global-helpers/helpers/or","msg-overlay/components/overlay-conversation-list-item-feature","msg-cross-pillar/components/visible-beacon"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b,h,v,f,y,_,w,C,M,S,D,k,O,I,P,x,E,R,A,T,N,z){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var B,U,L,j,F,V,q,Y,K,H,W,G,J,X,Q,$,Z,ee,te,ne,ie,ae,oe,re
const{KEYCODES:se,CONTROL_INTERACTION_KEYS:le,SDK_FILTER_NAME_MAP:ce}=p.default,ue=".msg-overlay-list-bubble-search__search-typeahead-input",de=".msg-overlay-list-bubble-search-content",pe=".msg-overlay-list-bubble-search__list-item",me=new Set(["ARCHIVED","CONNECTIONS","STARRED","UNREAD","INMAIL","BLOCKED"])
let ge=(0,M.setComponentTemplate)((0,o.createTemplateFactory)({id:"6YvCWjcl",block:'[[[1,"\\n"],[1,"    "],[11,0],[16,0,[29,["msg-overlay-list-bubble-search\\n        ",[52,[30,0,["shouldShowSearchContent"]]," msg-overlay-list-bubble-search--search-content-visible"]]]],[4,[32,0],[[30,0,["onElementInsert"]]],null],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n"],[41,[30,1],[[[1,"        "],[10,0],[14,0,"msg-overlay-list-bubble-search__input-container"],[12],[1,"\\n"],[1,"          "],[10,"label"],[14,0,"a11y-text"],[14,"for","msg-overlay-list-bubble-search__search-typeahead-input"],[12],[1,"\\n            "],[1,[28,[32,3],["i18n_a11y_search_hint_text","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n          "],[13],[1,"\\n          "],[10,1],[14,0,"msg-overlay-list-search__search-icon display-flex"],[12],[1,"\\n            "],[8,[32,4],null,[["@type","@size","@name"],["system","small","search"]],null],[1,"\\n          "],[13],[1,"\\n          "],[8,[32,5],[[24,1,"msg-overlay-list-bubble-search__search-typeahead-input"],[24,0,"msg-overlay-list-bubble-search__search-typeahead-input"],[16,"placeholder",[28,[32,3],["i18n_find_a_connection","msg-overlay/components/overlay-search-feature"],null]],[24,"autocomplete","off"],[4,[32,6],["input",[30,0,["onInputChange"]]],null],[4,[32,6],["focusin",[30,0,["onInputFocusIn"]]],null],[4,[32,6],["focusout",[30,0,["onInputFocusOut"]]],null],[4,[32,6],["keyup",[30,0,["onKeyUp"]]],null]],[["@value","@insert-newline"],[[30,0,["searchTerm"]],[30,0,["onInputEnterKeyRelease"]]]],null],[1,"\\n          "],[8,[32,7],null,[["@class","@placement","@justification","@isOpen","@onVisibilityChange"],["msg-overlay-list-bubble__filters-dropdown","bottom","right",[30,0,["isConvoFiltersDropdownOpen"]],[30,0,["toggleConvoFilters"]]]],[["default"],[[[[1,"\\n            "],[8,[30,2,["dropdown-trigger"]],null,[["@class","@tabindex"],["msg-overlay-list-bubble__filters-btn","0"]],[["default"],[[[[1,"\\n              "],[8,[32,4],null,[["@a11yText","@type","@size","@name"],[[28,[32,3],["i18n_filter_messages_by","msg-overlay/components/overlay-search-feature"],null],"system","small","filter"]],null],[1,"\\n            "]],[]]]]],[1,"\\n            "],[8,[30,2,["dropdown-content"]],null,[["@classNames","@arrowDir"],["msg-overlay-list-bubble__filters-dropdown-content","right"]],[["default"],[[[[1,"\\n              "],[10,"ul"],[12],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"UNREAD"],null],[28,[32,10],[[30,0,["applyFilter"]],"UNREAD"],null],"button"]],[["default"],[[[[1,"\\n                    "],[10,0],[14,0,"display-flex align-items-center justify-space-between"],[12],[1,"\\n                      "],[10,1],[12],[1,"\\n                        "],[1,[28,[32,3],["i18n_unread","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"STARRED"],null],[28,[32,10],[[30,0,["applyFilter"]],"STARRED"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_starred","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"INMAIL"],null],[28,[32,10],[[30,0,["applyFilter"]],"INMAIL"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_inmail","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"CONNECTIONS"],null],[28,[32,10],[[30,0,["applyFilter"]],"CONNECTIONS"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_connections","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"ARCHIVED"],null],[28,[32,10],[[30,0,["applyFilter"]],"ARCHIVED"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_archived","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n                "],[10,"li"],[14,0,"msg-overlay-list-bubble__filters-dropdown-content-list-item"],[12],[1,"\\n                  "],[8,[32,8],null,[["@selected","@itemSelected","@role"],[[28,[32,9],[[30,3],"BLOCKED"],null],[28,[32,10],[[30,0,["applyFilter"]],"BLOCKED"],null],"button"]],[["default"],[[[[1,"\\n                    "],[1,[28,[32,3],["i18n_spam","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                  "]],[]]]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n            "]],[]]]]],[1,"\\n          "]],[2]]]]],[1,"\\n        "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["shouldShowSelectedFilter"]],[[[1,"        "],[18,9,[[28,[32,11],null,[["filterSection"],[[50,[32,12],0,null,null]]]]]],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["hasActiveSearch"]],[[[1,"        "],[8,[32,13],[[4,[32,6],["click",[30,4]],null]],[["@icon","@size","@circle","@class","@text","@type"],["close","small",true,"msg-search-form__cancel-search",[28,[32,3],["i18n_cancel_search","msg-overlay/components/overlay-search-feature"],null],"tertiary"]],null],[1,"\\n"]],[]],null],[1,"      "],[10,0],[15,0,[29,["relative display-flex justify-center flex-column overflow-hidden\\n          ",[52,[51,[30,0,["shouldShowSearchContent"]]]," hidden"]]]],[12],[1,"\\n        "],[10,0],[14,0,"msg-overlay-list-bubble-search-content"],[12],[1,"\\n"],[41,[30,0,["searchPerformed"]],[[[41,[30,0,["shouldShowSearchLoadingView"]],[[[1,"              "],[8,[32,14],null,[["@size","@class"],["small","msg-overlay-list-bubble-search__loading-state"]],null],[1,"\\n"]],[]],[[[1,"              "],[11,0],[24,0,"msg-overlay-list-bubble-search__search-result-container"],[4,[32,6],["mousedown",[30,0,["noOp"]]],null],[12],[1,"\\n"],[41,[30,0,["shouldShowNoResultView"]],[[[1,"                  "],[11,0],[24,0,"msg-overlay-list-bubble-search__no-result-container text-align-center"],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_no_results",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                    "],[10,0],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble-search__no-result-illustration"],[12],[13],[1,"\\n                    "],[10,2],[14,0,"ph2 t-14 t-black t-normal"],[12],[1,"\\n                      "],[1,[28,[32,3],["i18n_we_did_not_find_anything","msg-overlay/components/overlay-search-feature"],[["searchTerm"],[[30,0,["searchTerm"]]]]]],[1,"\\n                    "],[13],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[41,[30,0,["displayedConnections","length"]],[[[1,"                    "],[11,"header"],[24,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_typeahead_results",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                      "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[1,"\\n                        "],[1,[28,[32,3],["i18n_connections_matched","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n                    "],[10,"ul"],[14,0,"msg-overlay-list-bubble-search__connection-search-result-list"],[12],[1,"\\n"],[42,[28,[31,6],[[28,[31,6],[[30,0,["viewData","connectionSearchResultViewDataElements"]]],null]],null],null,[[[1,"                        "],[10,"li"],[15,0,[29,["msg-overlay-list-bubble-search__list-item display-flex align-items-center pv2 ph3\\n                            ",[52,[28,[32,15],[[28,[32,9],[[30,6],[30,0,["highlightedItemIndex"]]],null],[30,0,["selectedWithKeyboard"]]],null],"msg-overlay-list-bubble-search__list-item--highlighted"]]]],[12],[1,"\\n                          "],[8,[32,16],null,[["@itemIndex","@viewData","@caption","@onClick","@onMouseMove"],[[30,6],[30,5],[28,[32,17],[[30,5,["subtext"]],[30,5,["caption"]]],null],[28,[32,10],[[30,0,["onConnectionSearchResultSelect"]],[30,5,["profileAPIModel"]]],null],[28,[32,10],[[30,0,["onListItemMouseMove"]],[30,6],false],null]]],null],[1,"\\n                        "],[13],[1,"\\n"]],[5,6]],null],[1,"                    "],[13],[1,"\\n"]],[]],null],[1,"\\n"],[41,[30,0,["matchedConversations","length"]],[[[1,"                    "],[11,"header"],[24,0,"msg-overlay-list-bubble__list-header msg-overlay-list-bubble-search__result-header"],[4,[32,1],null,[["pageKey","routeName","currentRoute"],["flagship3_messaging_overlay_search_results",[28,[32,2],[[53,"outletState"],"render.name"],null],[28,[32,2],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n                      "],[10,"h5"],[14,0,"msg-overlay-list-bubble__list-header-title t-12 t-black--light t-bold truncate"],[12],[1,"\\n                        "],[1,[28,[32,3],["i18n_conversation_history","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n                      "],[13],[1,"\\n                    "],[13],[1,"\\n"],[1,"                    "],[10,0],[14,0,"msg-overlay-list-bubble-search__content-search-result-list"],[12],[1,"\\n"],[42,[28,[31,6],[[28,[31,6],[[30,0,["matchedConversations"]]],null]],null],null,[[[1,"                        "],[8,[32,18],[[16,0,[52,[28,[32,15],[[28,[32,9],[[30,8],[30,0,["highlightedConversationResultIndex"]]],null],[30,0,["selectedWithKeyboard"]]],null],"msg-overlay-list-bubble-search__list-item--highlighted"]]],[["@conversation","@convoIndex","@openBubble","@onMouseMove","@disableBulkActions","@isOverlaySearch"],[[30,7],[30,8],[30,0,["onContentSearchResultSelect"]],[28,[32,10],[[30,0,["onListItemMouseMove"]],[30,8],true],null],true,true]],null],[1,"\\n"]],[7,8]],null],[41,[30,0,["loadMoreInProgress"]],[[[1,"                        "],[8,[32,14],null,[["@size"],["small"]],null],[1,"\\n"]],[]],null],[41,[30,0,["shouldLoadMoreConversations"]],[[[1,"                        "],[8,[32,19],null,[["@inView","@rootSelector"],[[30,0,["infiniteScroll"]],".msg-overlay-list-bubble-search-content"]],null],[1,"\\n"]],[]],null],[1,"                    "],[13],[1,"\\n"]],[]],null]],[]]],[1,"              "],[13],[1,"\\n"]],[]]]],[]],[[[1,"            "],[10,0],[14,0,"msg-overlay-list-bubble-search__history-placeholder-container text-align-center"],[12],[1,"\\n              "],[10,0],[14,0,"msg-overlay-list-bubble__illustration msg-overlay-list-bubble-search__history-placeholder-illustration"],[12],[13],[1,"\\n              "],[10,2],[14,0,"t-14 t-black t-normal ph2"],[12],[1,"\\n                "],[1,[28,[32,3],["i18n_search_your_messages","msg-overlay/components/overlay-search-feature"],null]],[1,"\\n              "],[13],[1,"\\n            "],[13],[1,"\\n"]],[]]],[1,"        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@showSearchInput","dropdown","@currentConvosFilter","@clearActiveSearch","connection","index","conversation","index","&default"],false,["if","-get-dynamic-var","yield","component","unless","each","-track-array"]]',moduleName:"msg-overlay/components/overlay-search-feature.gjs",scope:()=>[y.default,_.default,I.get,w.default,C.default,M.Input,S.on,D.default,k.default,O.default,I.fn,I.hash,P.default,x.default,E.default,R.default,A.default,T.default,N.default,z.default],isStrictMode:!0}),(B=(0,v.inject)("i18n"),U=(0,v.inject)("tracking"),L=(0,v.inject)("global-services@a11y-notification"),j=(0,v.inject)("msg-data@data-manager"),F=(0,v.inject)("formatter"),V=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",q,this);(0,t.default)(this,"tracking",Y,this);(0,t.default)(this,"a11yNotification",K,this);(0,t.default)(this,"msgDataManager",H,this);(0,t.default)(this,"formatter",W,this);(0,t.default)(this,"connectionSearchPerformed",G,this);(0,t.default)(this,"contentSearchPerformed",J,this);(0,t.default)(this,"inputHasFocus",X,this);(0,t.default)(this,"matchedConnections",Q,this);(0,t.default)(this,"_matchedConversations",$,this);(0,t.default)(this,"mailboxName",Z,this);(0,t.default)(this,"isSearchLoading",ee,this);(0,t.default)(this,"collection",te,this);(0,t.default)(this,"highlightedItemIndex",ne,this);(0,t.default)(this,"searchTerm",ie,this);(0,t.default)(this,"isConvoFiltersDropdownOpen",ae,this);(0,t.default)(this,"loadMoreInProgress",oe,this);(0,t.default)(this,"selectedWithKeyboard",re,this);(0,n.default)(this,"collectionName",void 0);(0,n.default)(this,"searchField",void 0);(0,n.default)(this,"scrollSection",void 0)}get matchedMailboxConversations(){var e
return null===(e=this.msgDataManager.getMailboxState(this.mailboxName).conversations)||void 0===e?void 0:e.map((e=>e))}get matchedConversations(){return this.matchedMailboxConversations}get searchPerformed(){return this.connectionSearchPerformed||this.contentSearchPerformed}get shouldShowSelectedFilter(){const{currentConvosFilter:e}=this.args
return e&&me.has(e)}get shouldShowSearchContent(){return this.inputHasFocus}get displayedConnections(){return this.matchedConnections.slice(0,3)}get shouldShowNoResultView(){return 0===this.displayedResultsLength&&this.connectionSearchPerformed&&this.contentSearchPerformed}get displayedResultsLength(){return this.displayedConnections.length+this.matchedConversations.length}get listItemCount(){return this.searchPerformed&&this.displayedResultsLength}get highlightedConversationResultIndex(){return this.highlightedItemIndex-this.displayedConnections.length}get shouldShowSearchLoadingView(){const e=this.msgDataManager.getMailboxState(this.mailboxName)
return!e||(this.isSearchLoading||e.status.loading&&!this.loadMoreInProgress)}onElementInsert(e){this.currentElement=e
this.searchField=e.querySelector(ue)
this.scrollSection=e.querySelector(de);(0,m.default)(this,this.scrollSection)}_performSearch(e){this.isSearchLoading=!0
const t=(new Date).getTime()
this.lastRequestTime=t
const n=[this.msgDataManager.fetchTypeaheadResults(e).then((e=>this._handleConnectionSearchResults(e,t)))],{currentConvosFilter:i}=this.args
this.mailboxName=`${e}-${Date.now()}`
const a={kind:"search",keywords:e,firstDegreeConnections:!1}
if("CONNECTIONS"===i){a.categories=["INBOX","SPAM","ARCHIVE"]
a.firstDegreeConnections=!0}else if("UNREAD"===i){a.categories=["INBOX","SPAM","ARCHIVE"]
a.read=!1}else me.has(i)?a.categories=[ce[i]]:a.categories=["INBOX","SPAM","ARCHIVE"]
const o=this.msgDataManager.getMailbox(this.mailboxName,a).then((()=>{(0,f.isDestroying)(this)||this._handleConversationSearchResults(this.msgDataManager.getTrackedConversations(this.mailboxName),t)}))
n.push(o);(0,h.all)(n).then((()=>{if(!this.isDestroying){this.isSearchLoading=!1
0!==this.displayedResultsLength&&this.a11yNotify("i18n_a11y_navigate_search_results")}}))}_handleSearchTermChange(e){var t,n
const i=e?e.trim():"",a=i.length>0
this.highlightedItemIndex=-1
a?(0,c.debounceTask)(this,"_performSearch",i,500):this._clearSearchResults()
null===(t=(n=this.args).onSearchTermChange)||void 0===t||t.call(n,i)}_handleConversationSearchResults(e,t){if(t!==this.lastRequestTime||0===this.searchTerm.length)return(0,h.reject)()
this.contentSearchPerformed=!0
this._matchedConversations=e
this.a11yNotify("i18n_a11y_conversation_results_found",{resultsLength:e.length})
return(0,h.resolve)()}_handleConnectionSearchResults(e,t){if(t!==this.lastRequestTime||0===this.searchTerm.length)return(0,h.reject)()
this.connectionSearchPerformed=!0
this.matchedConnections=e
this.a11yNotify("i18n_a11y_connection_results_found",{resultsLength:e.length})
return(0,h.resolve)()}_clearSearchResults(){this.connectionSearchPerformed=!1
this.matchedConnections=[]
this.contentSearchPerformed=!1
this._matchedConversations=[]}_clearInputField(){this.searchTerm=""
this._handleSearchTermChange("")}_moveSelectedItem(e){const t=this.listItemCount
if(0===t)return
this.selectedWithKeyboard=!0
const n=this.highlightedItemIndex
let i
i=-1===n?1===e?0:t-1:(n+e+t)%t
this.highlightedItemIndex=i
this._a11yNotifyItemSelectionChange();(0,d.mutateDOM)((()=>{if(!this.isDestroying)if(0===i)this.scrollSection.scrollTop=0
else{const e=this.currentElement.querySelectorAll(pe)[i]
if(e){const t=e.offsetTop,n=t+e.offsetHeight
n>this.scrollSection.offsetHeight+this.scrollSection.scrollTop?this.scrollSection.scrollTop=n-this.scrollSection.offsetHeight:t<this.scrollSection.scrollTop&&(this.scrollSection.scrollTop=t)}}}))}_a11yNotifyItemSelectionChange(){this.searchPerformed&&this.highlightedItemIndex<this.displayedConnections.length&&this.a11yNotify("i18n_a11y_search_result_connection_fullname",{connectionName:(0,u.getName)(this.displayedConnections[this.highlightedItemIndex].miniProfile)})}_openConnectionSearchResult(e){this._clearInputField()
this.args.openNewConversation({recipients:[e]})
this.tracking.fireInteractionEvent(le.SELECT_CONNECTION_SEARCH_RESULT)}_openContentSearchResult(e){this._clearInputField()
this.args.openBubble(e)
this.tracking.fireInteractionEvent(le.SELECT_CONTENT_SEARCH_RESULT)}onKeyUp(e){if(this.inputHasFocus)switch(e.keyCode){case se.UP_ARROW:this._moveSelectedItem(-1)
e.preventDefault()
break
case se.DOWN_ARROW:this._moveSelectedItem(1)
e.preventDefault()
break
case se.ESC:this._clearInputField()}}infiniteScroll(){if(!this.shouldLoadMoreConversations)return(0,h.resolve)(!1)
this.loadMoreInProgress=!0
return this.msgDataManager.getMailbox(this.mailboxName).then((e=>e.loadOlderConversations())).finally((()=>{(0,f.isDestroying)(this)||(this.loadMoreInProgress=!1)}))}get shouldLoadMoreConversations(){if(!this.matchedConversations||0===this.matchedConversations.length)return!1
const e=this.msgDataManager.getMailboxState(this.mailboxName),{fullyLoaded:t}=e.status
return!t&&!this.loadMoreInProgress}get viewData(){const{formatter:e,displayedConnections:t}=this
return new r.default({formatter:e,matchedConnections:t})}a11yNotify(e,t){const n=this.i18n.lookupTranslation("components/msg-overlay@overlay-search-feature",e)
this.a11yNotification.setTextInLiveRegion(n([t]))}toggleConvoFilters(e){this.isConvoFiltersDropdownOpen=e
this.tracking.fireInteractionEvent("overlay.filter_messages_by","SHORT_PRESS")}applyFilter(e){this.isConvoFiltersDropdownOpen=!1
if(this.args.currentConvosFilter!==e){this.args.onFilterApply(e)
this._handleSearchTermChange(this.searchTerm)}}clearFilters(){this.args.onClearFilters()
this._handleSearchTermChange(this.searchTerm)}onInputFocusIn(){this.inputHasFocus=!0
this.highlightedItemIndex=-1;(0,d.mutateDOM)((()=>{this.isDestroying||(this.scrollSection.scrollTop=0)}))
this.tracking.fireInteractionEvent(le.FOCUS_SEARCH_BOX)}onInputFocusOut(){this.inputHasFocus=!1}onInputEnterKeyRelease(){if(-1!==this.highlightedItemIndex&&this.searchPerformed){const e=this.viewData.connectionSearchResultViewDataElements.length
if(this.highlightedItemIndex<e){const e=this.viewData.connectionSearchResultViewDataElements[this.highlightedItemIndex]
this._openConnectionSearchResult(e.profileAPIModel)}else this._openContentSearchResult(this.matchedConversations[this.highlightedConversationResultIndex])}}clearInputField(){this._clearInputField()
this.tracking.fireInteractionEvent(le.CANCEL_SEARCH)}onConnectionSearchResultSelect(e){this._openConnectionSearchResult(e)}onContentSearchResultSelect(e){const t=this.matchedConversations.find((t=>t.entityUrn===e))
this._openContentSearchResult(t)}onInputChange(e){this.searchTerm=e.target.value
this._handleSearchTermChange(this.searchTerm)}onListItemMouseMove(e,t,n){if(this.lastX!==n.screenX||this.lastY!==n.screenY){this.selectedWithKeyboard=!1
this.highlightedItemIndex=t?e+this.displayedConnections.length:e
this.lastX=n.screenX
this.lastY=n.screenY}}noOp(e){e.preventDefault()}},q=(0,i.default)(V.prototype,"i18n",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=(0,i.default)(V.prototype,"tracking",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=(0,i.default)(V.prototype,"a11yNotification",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=(0,i.default)(V.prototype,"msgDataManager",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=(0,i.default)(V.prototype,"formatter",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=(0,i.default)(V.prototype,"connectionSearchPerformed",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=(0,i.default)(V.prototype,"contentSearchPerformed",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=(0,i.default)(V.prototype,"inputHasFocus",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=(0,i.default)(V.prototype,"matchedConnections",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=(0,i.default)(V.prototype,"_matchedConversations",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=(0,i.default)(V.prototype,"mailboxName",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ee=(0,i.default)(V.prototype,"isSearchLoading",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),te=(0,i.default)(V.prototype,"collection",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ne=(0,i.default)(V.prototype,"highlightedItemIndex",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),ie=(0,i.default)(V.prototype,"searchTerm",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=(0,i.default)(V.prototype,"isConvoFiltersDropdownOpen",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),oe=(0,i.default)(V.prototype,"loadMoreInProgress",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),re=(0,i.default)(V.prototype,"selectedWithKeyboard",[s.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(V.prototype,"matchedMailboxConversations",[g.cached],Object.getOwnPropertyDescriptor(V.prototype,"matchedMailboxConversations"),V.prototype),(0,i.default)(V.prototype,"onElementInsert",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onElementInsert"),V.prototype),(0,i.default)(V.prototype,"onKeyUp",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onKeyUp"),V.prototype),(0,i.default)(V.prototype,"infiniteScroll",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"infiniteScroll"),V.prototype),(0,i.default)(V.prototype,"toggleConvoFilters",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"toggleConvoFilters"),V.prototype),(0,i.default)(V.prototype,"applyFilter",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"applyFilter"),V.prototype),(0,i.default)(V.prototype,"clearFilters",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"clearFilters"),V.prototype),(0,i.default)(V.prototype,"onInputFocusIn",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onInputFocusIn"),V.prototype),(0,i.default)(V.prototype,"onInputFocusOut",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onInputFocusOut"),V.prototype),(0,i.default)(V.prototype,"onInputEnterKeyRelease",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onInputEnterKeyRelease"),V.prototype),(0,i.default)(V.prototype,"clearInputField",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"clearInputField"),V.prototype),(0,i.default)(V.prototype,"onConnectionSearchResultSelect",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onConnectionSearchResultSelect"),V.prototype),(0,i.default)(V.prototype,"onContentSearchResultSelect",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onContentSearchResultSelect"),V.prototype),(0,i.default)(V.prototype,"onInputChange",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onInputChange"),V.prototype),(0,i.default)(V.prototype,"onListItemMouseMove",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"onListItemMouseMove"),V.prototype),(0,i.default)(V.prototype,"noOp",[b.action],Object.getOwnPropertyDescriptor(V.prototype,"noOp"),V.prototype),V))
e.default=ge}))
define("msg-overlay/components/presence-onboarding-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","rsvp","global-utils/utils/get-csrf-token","@glimmer/tracking","@glimmer/component","@ember/service","@ember/object","@ember/destroyable","@ember/modifier","ember-cli-pemberly-i18n/helpers/t","artdeco-button/components/artdeco-button","ember-cli-pemberly-tracking/modifiers/track-interaction"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b,h,v,f){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var y,_,w,C,M,S,D,k,O,I,P,x,E,R,A,T,N,z
let B=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"p+SSEtDp",block:'[[[1,"\\n"],[41,[30,0,["showPresenceOnboardingPresenter"]],[[[1,"      "],[11,0],[24,0,"msg-overlay-presence-onboarding-presenter"],[4,[32,0],["click",[30,0,["stopPropagation"]]],null],[12],[1,"\\n        "],[10,2],[14,0,"t-14"],[12],[1,"\\n          "],[1,[28,[32,1],["i18n_active_status","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "],[10,3],[14,6,"/help/linkedin/answer/84123"],[14,"target","_blank"],[14,"rel","noopener noreferrer"],[14,0,"t-black link-without-visited-state"],[12],[1,"\\n            "],[1,[28,[32,1],["i18n_learn_more","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n        "],[10,0],[14,0,"display-flex justify-flex-end mt2"],[12],[1,"\\n          "],[8,[32,2],[[16,"aria-label",[28,[32,1],["a11y_manage_active_status","msg-overlay/components/presence-onboarding-presenter"],null]],[4,[32,0],["click",[30,0,["manageActiveStatus"]]],null],[4,[32,3],["active_status_onboarding_manage"],null]],[["@class","@size","@type","@color"],["mr2","1","tertiary","muted"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,1],["i18n_manage","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "]],[]]]]],[1,"\\n          "],[8,[32,2],[[16,"aria-label",[28,[32,1],["a11y_enable_active_status","msg-overlay/components/presence-onboarding-presenter"],null]],[4,[32,0],["click",[30,0,["enableActiveStatus"]]],null],[4,[32,3],["active_status_onboarding_enable"],null]],[["@size"],["1"]],[["default"],[[[[1,"\\n            "],[1,[28,[32,1],["i18n_got_it","msg-overlay/components/presence-onboarding-presenter"],null]],[1,"\\n          "]],[]]]]],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n"]],[]],null],[1,"  "]],[],false,["if"]]',moduleName:"msg-overlay/components/presence-onboarding-presenter.gjs",scope:()=>[b.on,h.default,v.default,f.default],isStrictMode:!0}),(y=(0,p.inject)("global-services@a11y-notification"),_=(0,p.inject)("i18n"),w=(0,p.inject)("lego@resolver"),C=(0,p.inject)("lego@tracking"),M=(0,p.inject)("global-services@store-shim"),S=(0,p.inject)("tracking"),D=(0,p.inject)("global-services@window"),k=(0,p.inject)("lix"),O=class extends d.default{constructor(){super(...arguments);(0,t.default)(this,"a11yNotification",I,this);(0,t.default)(this,"i18n",P,this);(0,t.default)(this,"legoResolver",x,this);(0,t.default)(this,"legoTracking",E,this);(0,t.default)(this,"storeShim",R,this);(0,t.default)(this,"tracking",A,this);(0,t.default)(this,"windowService",T,this);(0,t.default)(this,"lix",N,this);(0,t.default)(this,"showPresenceOnboardingPresenter",z,this);(0,n.default)(this,"_legoWidgetTrackingToken",void 0)
this._fetchLegoWidget().then((()=>{if(!this.isDestroying)return this._fetchActiveStatusSetting()})).then((e=>{this.isDestroying||("HIDDEN"===e?this._showPresenceOnboardingPresenter():this._dismissLegoWidget())}))}get isPageContentGraphQLEnabled(){return this.lix.getTreatmentIsEnabled("voyager.web.hiring-lego-page-content-graphql-migration")}stopPropagation(e){e.stopPropagation()}_showPresenceOnboardingPresenter(){this.showPresenceOnboardingPresenter=!0
this.tracking.firePageViewEvent("flagship3_messaging_active_status_onboarding")
const e=this.i18n.lookupTranslation("components/msg-overlay@presence-onboarding-presenter","i18n_active_status")()
this.a11yNotification.setTextInLiveRegion(e)}_completePresenceOnboardingPresenter(){this.showPresenceOnboardingPresenter=!1
return this._enableActiveStatusSetting().then((()=>{this.isDestroying||this._dismissLegoWidget()}))}_fetchLegoWidget(){return this.legoResolver.fireLegoCall({pageKey:"messaging_presence",slotId:"onboarding",groupId:"onboarding_group",widgetId:"presence_onboarding"},!0,this.isPageContentGraphQLEnabled).then((e=>{if(!(0,g.isDestroying)(this)){if(!e)return(0,l.reject)()
this._legoWidgetTrackingToken=e.trackingToken
return e}}))}_dismissLegoWidget(){this.legoTracking.sendLegoAction(this._legoWidgetTrackingToken,this.legoTracking.LEGO_ACTION_DISMISS,1)}_fetchActiveStatusSetting(){return this.storeShim.adapterFor("-ember-m3").ajax("/psettings/presence","get",{data:{asJson:!0}}).then((e=>{var t,n
if((0,g.isDestroying)(this))return
const i=null===(t=e.map)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.visibility
if(!i)throw new Error("failed to get active status setting")
return i}))}_enableActiveStatusSetting(){return this.storeShim.adapterFor("-ember-m3").ajax("/psettings/presence/update-presence-settings","post",{data:{visibility:"CONNECTIONS",csrfToken:(0,c.default)()},headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{var t
if((0,g.isDestroying)(this))return
const n=null===(t=e.result)||void 0===t?void 0:t.responseCode
if(200!==n)throw new Error(`failed to set active status setting, responseCode: ${n}`)}))}enableActiveStatus(){this._completePresenceOnboardingPresenter()}manageActiveStatus(){this._completePresenceOnboardingPresenter().then((()=>{this.isDestroying||this.windowService.open("/psettings/presence","_blank")}))}},I=(0,i.default)(O.prototype,"a11yNotification",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,i.default)(O.prototype,"i18n",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=(0,i.default)(O.prototype,"legoResolver",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=(0,i.default)(O.prototype,"legoTracking",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=(0,i.default)(O.prototype,"storeShim",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=(0,i.default)(O.prototype,"tracking",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=(0,i.default)(O.prototype,"windowService",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=(0,i.default)(O.prototype,"lix",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=(0,i.default)(O.prototype,"showPresenceOnboardingPresenter",[u.tracked],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,i.default)(O.prototype,"enableActiveStatus",[m.action],Object.getOwnPropertyDescriptor(O.prototype,"enableActiveStatus"),O.prototype),(0,i.default)(O.prototype,"manageActiveStatus",[m.action],Object.getOwnPropertyDescriptor(O.prototype,"manageActiveStatus"),O.prototype),O))
e.default=B}))
define("msg-overlay/components/recommendation-card-presenter",["exports","@babel/runtime/helpers/esm/initializerDefineProperty","@babel/runtime/helpers/esm/defineProperty","@babel/runtime/helpers/esm/applyDecoratedDescriptor","@babel/runtime/helpers/esm/initializerWarningHelper","@ember/template-factory","@ember/helper","@ember/component","@glimmer/component","@ember/service","ember-cli-pemberly-tracking/modifiers/track-impression","@ember/modifier","ember-cli-pemberly-tracking/modifiers/track-interaction","presence/components/entity-with-presence-presenter","global-helpers/helpers/not","ember-cli-pemberly-i18n/helpers/t"],(function(e,t,n,i,a,o,r,s,l,c,u,d,p,m,g,b){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var h,v,f
let y=(0,s.setComponentTemplate)((0,o.createTemplateFactory)({id:"RYBIhd7U",block:'[[[1,"\\n"],[1,"    "],[11,"li"],[24,0,"msg-overlay-list-bubble__convo-item msg-overlay-list-bubble__profile-item"],[4,[32,0],[[30,1]],[["routeName","currentRoute"],[[28,[32,1],[[53,"outletState"],"render.name"],null],[28,[32,1],[[53,"outletState"],"render"],null]]]],[12],[1,"\\n      "],[11,"button"],[24,0,"msg-conversation-listitem__link msg-overlay-list-bubble__convo-item-link"],[24,"tabindex","0"],[24,4,"button"],[4,[32,2],["click",[30,2]],null],[4,[32,2],["keyup",[30,2]],[["preventDefault"],[true]]],[4,[32,3],["overlay_message_recommendation"],[["onInteract"],[[30,3]]]],[12],[1,"\\n        "],[10,0],[14,0,"msg-conversation-card msg-overlay-list-bubble__convo-card"],[12],[1,"\\n          "],[10,0],[14,0,"msg-conversation-card__presence-entity-container"],[12],[1,"\\n            "],[8,[32,4],[[24,0,"msg-conversation-card__presence-entity"]],[["@viewData","@size"],[[30,4,["EntityWithPresenceViewData"]],3]],null],[1,"\\n          "],[13],[1,"\\n          "],[10,0],[14,0,"msg-overlay-list-bubble__convo-card-content"],[12],[1,"\\n            "],[10,0],[14,0,"msg-overlay-list-bubble__convo-card-content-wrapper"],[12],[1,"\\n              "],[10,0],[14,0,"msg-conversation-card__row"],[12],[1,"\\n                "],[10,1],[14,0,"truncate t-14 t-black"],[12],[1,"\\n                  "],[1,[30,4,["suggestedRecipientName"]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n              "],[10,0],[14,0,"msg-conversation-card__row"],[12],[1,"\\n                "],[10,1],[14,0,"msg-overlay-list-bubble__message-snippet m0 t-12 t-black--light t-normal block truncate"],[12],[1,"\\n                  "],[1,[30,4,["suggestedRecipientOccupation"]]],[1,"\\n                "],[13],[1,"\\n              "],[13],[1,"\\n\\n              "],[10,0],[14,0,"msg-conversation-card__row"],[12],[1,"\\n"],[41,[30,0,["reasonTextFromRenderModel"]],[[[1,"                  "],[10,1],[14,0,"t-12 t-black--light t-normal t-italic block truncate mt1"],[12],[1,"\\n                    "],[1,[30,0,["reasonTextFromRenderModel"]]],[1,"\\n                  "],[13],[1,"\\n"]],[]],[[[41,[28,[32,5],[[30,5]],null],[[[41,[30,4,["suggestionReasons"]],[[[1,"                    "],[10,1],[14,0,"t-12 t-black--light t-normal t-italic block truncate mt1"],[12],[1,"\\n                      "],[1,[52,[30,4,["isCurrentEmployee"]],[28,[32,6],["works_at","msg-overlay/components/recommendation-card-presenter"],[["actor"],[[30,6]]]],[52,[30,4,["isPreviousEmployee"]],[28,[32,6],["has_worked_at","msg-overlay/components/recommendation-card-presenter"],[["actor"],[[30,6]]]],[52,[30,4,["isConnectingMember"]],[28,[32,6],["knows_people_at","msg-overlay/components/recommendation-card-presenter"],[["connectionCount","actor"],[[30,4,["numSecondDegreeMembers"]],[30,6]]]]]]]],[1,"\\n                    "],[13],[1,"\\n"]],[]],null],[1,"                "]],[]],null]],[]]],[1,"              "],[13],[1,"\\n            "],[13],[1,"\\n          "],[13],[1,"\\n        "],[13],[1,"\\n      "],[13],[1,"\\n    "],[13],[1,"\\n  "]],["@impressionTrackingHandler","@messageRecommendation","@interactionTrackingHandler","@viewData","@isFeedContext","@actor"],false,["-get-dynamic-var","if"]]',moduleName:"msg-overlay/components/recommendation-card-presenter.gjs",scope:()=>[u.default,r.get,d.on,p.default,m.default,g.default,b.default],isStrictMode:!0}),(h=(0,c.inject)("i18n"),v=class extends l.default{constructor(){super(...arguments);(0,t.default)(this,"i18n",f,this)}get reasonTextFromRenderModel(){const{reasonText:e}=this.args.viewData
if(e)return this.i18n.parseRawString(e)({name:this.args.actor})}},f=(0,i.default)(v.prototype,"i18n",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v))
e.default=y}))
define("msg-overlay/config/environment",["exports"],(function(e){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
let t
try{const e="msg-overlay/config/environment",n=document.querySelector('meta[name="'+e+'"]').getAttribute("content")
t=JSON.parse(unescape(n))}catch(e){t={sparkPlaceholders:{includeHashes:["assets/media-player.amd.js"]}}}var n=t
e.default=n}))
define("msg-overlay/engine",["exports","@babel/runtime/helpers/esm/defineProperty","strict-resolver","@ember/engine","ember-load-initializers"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const o="msg-overlay",r=class extends i.default{constructor(){super(...arguments);(0,t.default)(this,"Resolver",n.default);(0,t.default)(this,"modulePrefix",o)}};(0,a.default)(r,o)
var s=r
e.default=s}))
define.alias("ember-truth-helpers/helpers/and","msg-overlay/helpers/and")
define.alias("artdeco-datepicker/helpers/artdeco-adjust-date-for-timezone","msg-overlay/helpers/artdeco-adjust-date-for-timezone")
define.alias("artdeco-datepicker/helpers/artdeco-is-between-dates","msg-overlay/helpers/artdeco-is-between-dates")
define.alias("ember-media-player/helpers/autoplay-media","msg-overlay/helpers/autoplay-media")
define.alias("artdeco-datepicker/helpers/cal-dates-equal","msg-overlay/helpers/cal-dates-equal")
define.alias("ember-element-helper/helpers/element","msg-overlay/helpers/element")
define.alias("ember-holy-futuristic-template-namespacing-batman/helpers/-translate-dynamic-2","msg-overlay/helpers/ember-holy-futuristic-template-namespacing-batman-translate-dynamic-2")
define("msg-overlay/helpers/ensure-safe-component",["exports","@embroider/util"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.EnsureSafeComponentHelper}})}))
define.alias("ember-truth-helpers/helpers/eq","msg-overlay/helpers/eq")
define.alias("ember-media-player/helpers/format-autoplay","msg-overlay/helpers/format-autoplay")
define.alias("ember-cli-pemberly-i18n/helpers/format-number","msg-overlay/helpers/format-number")
define.alias("ember-semaphore/helpers/format-title","msg-overlay/helpers/format-title")
define.alias("ember-truth-helpers/helpers/gt","msg-overlay/helpers/gt")
define.alias("ember-truth-helpers/helpers/gte","msg-overlay/helpers/gte")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-name","msg-overlay/helpers/hue-web-artdeco-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-v2","msg-overlay/helpers/hue-web-artdeco-li-icon-migration-runtime-v2")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-to-icon-path","msg-overlay/helpers/hue-web-artdeco-li-icon-migration-runtime")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/helpers/convert-argument","msg-overlay/helpers/hue-web-artdeco-migration-runtime")
define.alias("ember-truth-helpers/helpers/is-array","msg-overlay/helpers/is-array")
define.alias("ember-truth-helpers/helpers/is-empty","msg-overlay/helpers/is-empty")
define.alias("ember-truth-helpers/helpers/is-equal","msg-overlay/helpers/is-equal")
define.alias("artdeco-icons-web/helpers/li-icon","msg-overlay/helpers/li-icon")
define.alias("ember-async-data/helpers/load","msg-overlay/helpers/load")
define.alias("ember-truth-helpers/helpers/lt","msg-overlay/helpers/lt")
define.alias("ember-truth-helpers/helpers/lte","msg-overlay/helpers/lte")
define.alias("ember-truth-helpers/helpers/not-eq","msg-overlay/helpers/not-eq")
define.alias("ember-truth-helpers/helpers/not","msg-overlay/helpers/not")
define.alias("ember-truth-helpers/helpers/or","msg-overlay/helpers/or")
define("msg-overlay/helpers/ref-to",["exports","ember-ref-bucket/helpers/ref-to"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"refTo",{enumerable:!0,get:function(){return t.default}})}))
define.alias("ember-app-scheduler/helpers/route-idle","msg-overlay/helpers/route-idle")
define.alias("ember-media-player/helpers/seek-media","msg-overlay/helpers/seek-media")
define.alias("ember-set-helper/helpers/set","msg-overlay/helpers/set")
define.alias("ember-cli-pemberly-i18n/helpers/t","msg-overlay/helpers/t")
define.alias("ember-truth-helpers/helpers/xor","msg-overlay/helpers/xor")
define.alias("ember-uuid","msg-overlay/index")
define("msg-overlay/initializers/icons",["exports","artdeco-icons-web/src/icons","msg-overlay/config/environment"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
function i(e){throw e}var a={name:"icons",initialize:function(){const{environment:e,APP:a}=n.default
let o,r
a&&({artdecoCustomSpriteUrl:o,artdecoCustomSpriteName:r}=a)
const s="test"!==e
t.default.load(s,o,r).catch(i)}}
e.default=a}))
define.alias("ember-cli-pemberly-lix/initializers/lix","msg-overlay/initializers/lix")
define.alias("ember-m3/initializers/m3-store","msg-overlay/initializers/m3-store")
define.alias("ember-ref-bucket/instance-initializers/global-ref-cleanup","msg-overlay/instance-initializers/global-ref-cleanup")
define.alias("artdeco-datepicker/modifiers/artdeco-calendar-click-watcher","msg-overlay/modifiers/artdeco-calendar-click-watcher")
define.alias("ember-ref-bucket/modifiers/create-ref","msg-overlay/modifiers/create-ref")
define.alias("@ember/render-modifiers/modifiers/did-insert","msg-overlay/modifiers/did-insert")
define.alias("ember-resize-modifier/modifiers/did-resize","msg-overlay/modifiers/did-resize")
define.alias("@ember/render-modifiers/modifiers/did-update","msg-overlay/modifiers/did-update")
define.alias("ember-prop-modifier","msg-overlay/modifiers/prop")
define.alias("@ember/render-modifiers/modifiers/will-destroy","msg-overlay/modifiers/will-destroy")
define.alias("@embroider/util/services/ensure-registered","msg-overlay/services/-ensure-registered")
define.alias("artdeco-hoverables/services/artdeco-hoverable","msg-overlay/services/artdeco-hoverable")
define.alias("artdeco-modal/services/artdeco-modal","msg-overlay/services/artdeco-modal")
define.alias("artdeco-toast/services/artdeco-toast","msg-overlay/services/artdeco-toast")
define.alias("client-sensor-web/services/client-sensor","msg-overlay/services/client-sensor")
define.alias("ember-date-service/services/date","msg-overlay/services/date")
define.alias("@linkedin/ember-restli-graphql/services/graphql","msg-overlay/services/graphql")
define.alias("@linkedin/ember-pem/services/internal-event-utils","msg-overlay/services/internal-event-utils")
define.alias("@linkedin/ember-pem/services/internal-pem-tracking","msg-overlay/services/internal-pem-tracking")
define.alias("ember-cli-pemberly-lix/services/lix","msg-overlay/services/lix")
define.alias("ember-m3/services/m3-schema-manager","msg-overlay/services/m3-schema-manager")
define.alias("ember-media-player/services/media-player","msg-overlay/services/media-player")
define.alias("@linkedin/ember-pem/services/pem-response-metadata","msg-overlay/services/pem-response-metadata")
define.alias("@linkedin/ember-pem/services/pem-tracking","msg-overlay/services/pem-tracking")
define.alias("persistent-toast-manager/services/persistent-toast-manager","msg-overlay/services/persistent-toast-manager")
define.alias("@linkedin/ember-qualtrics/services/qualtrics-surveys","msg-overlay/services/qualtrics-surveys")
define.alias("ember-media-player/services/static-asset-loader","msg-overlay/services/static-asset-loader")
define.alias("ember-cli-pemberly-m3/services/store","msg-overlay/services/store")
define.alias("ember-cli-pemberly-litms/services/tag-manager","msg-overlay/services/tag-manager")
define.alias("@linkedin/ember-pem/services/tracer","msg-overlay/services/tracer")
define.alias("ember-cli-pemberly-litms/services/tracking-adapter-for-tag-manager","msg-overlay/services/tracking-adapter-for-tag-manager")
define("msg-overlay/template-registry",[],(function(){}))
define("msg-overlay/templates/application",["exports","@ember/template-factory"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var n=(0,t.createTemplateFactory)({id:"A72Ni7se",block:'[[[8,[39,0],null,null,null]],[],false,["msg-overlay@messaging-overlay-container"]]',moduleName:"msg-overlay/templates/application.hbs",isStrictMode:!1})
e.default=n}))
define.alias("ember-async-data/tracked-async-data","msg-overlay/tracked-async-data")
define.alias("ember-cli-artdeco-tabs/utils/get-box-model-width","msg-overlay/utils/get-box-model-width")
define.alias("client-sensor-web/utils/helpers","msg-overlay/utils/helpers")
define.alias("@linkedin/hue-web-artdeco-migration-runtime/utils/mapping-data","msg-overlay/utils/mapping-data")
define("msg-overlay/utils/recommendation-helpers",["exports","msg-shared/utils/constants"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.USECASE_PARTIAL_LOOKUP=void 0
e.normalizeUsecase=function(e,t){return`${r[e]}_${t?"FULL":"SHORT"}`}
const{CONTEXT_TYPES:{FEED_CONTEXT:n,JOB_CONTEXT:i,COMPANY_CONTEXT:a,PROFILE_CONTEXT:o}}=t.OVERLAY,r={[n]:"ARTICLE_SHARE_OVERLAY",[i]:"OVERLAY_JOB",[a]:"OVERLAY_COMPANY",[o]:"OVERLAY_PROFILE"}
e.USECASE_PARTIAL_LOOKUP=r}))
define("msg-overlay/utils/scroll-blocker-helper",["exports","ember-lifeline"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=function(e,a){if(a)for(let o=0;o<n.length;o++)(0,t.addEventListener)(e,a,n[o],i)}
const n=["DOMMouseScroll","mousewheel","touchmove","wheel"]
function i(e){e.stopImmediatePropagation()
const{type:t,currentTarget:n,deltaY:i,detail:a,wheelDelta:o}=e,{scrollTop:r,scrollHeight:s,offsetHeight:l}=n
let c=0
c="DOMMouseScroll"===t?-40*a:o||-i
if(c<0&&-c>s-l-r){n.scrollTop=s
e.preventDefault()}else if(c>0&&c>r){n.scrollTop=0
e.preventDefault()}}}))
define("msg-overlay/utils/uuid-generator",["exports","ember-uuid/utils/uuid-generator"],(function(e,t){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t.default}})
Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}})
Object.defineProperty(e,"unparse",{enumerable:!0,get:function(){return t.unparse}})
Object.defineProperty(e,"v1",{enumerable:!0,get:function(){return t.v1}})
Object.defineProperty(e,"v4",{enumerable:!0,get:function(){return t.v4}})}))
define.alias("ember-vector-images/utils/vector-url","msg-overlay/utils/vector-url")
define("msg-overlay/viewdata/graphql-overlay-search-viewdata",["exports","@babel/runtime/helpers/esm/applyDecoratedDescriptor","msg-data/viewdata","msg-typeahead/viewdata/graphql-possible-recipient-viewdata","tracked-toolbox"],(function(e,t,n,i,a){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
var o
let r=(o=class extends n.default{get connectionSearchResultViewDataElements(){const{formatter:e,matchedConnections:t}=this.props
return t.map((t=>new i.default({possibleRecipient:t,formatter:e})))}},(0,t.default)(o.prototype,"connectionSearchResultViewDataElements",[a.cached],Object.getOwnPropertyDescriptor(o.prototype,"connectionSearchResultViewDataElements"),o.prototype),o)
e.default=r}))
define("msg-overlay/viewdata/graphql-recommendation-card-viewdata",["exports","msg-data/viewdata","presence/viewdata/host-entity-with-presence-viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get recipientProfile(){var e,t
const n=null===(e=this.props.suggestion.recipientEntityViewModel)||void 0===e||null===(t=e.entity)||void 0===t?void 0:t.profile
return{entityUrn:n.entityUrn,dashEntityUrn:n.entityUrn,objectUrn:n.objectUrn,firstName:n.firstName,lastName:n.lastName,occupation:n.headline,profilePicture:n.profilePicture}}get suggestedRecipientName(){return this.props.formatter.formatName(this.recipientProfile,"full")}get EntityWithPresenceViewData(){return new n.default({altText:this.suggestedRecipientName,profile:this.recipientProfile})}get suggestedRecipientOccupation(){return this.recipientProfile.occupation}get reasonText(){var e
return null===(e=this.props.suggestion.reasonText)||void 0===e?void 0:e.text}get trackingId(){return this.props.suggestion.trackingId}get profileObjectUrn(){const{recipientProfile:e}=this
return e&&e.objectUrn}}e.default=i}))
define("msg-overlay/viewdata/list-bubble-viewdata",["exports","msg-data/viewdata","presence/viewdata/host-entity-with-presence-viewdata"],(function(e,t,n){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class i extends t.default{get entityWithPresenceViewData(){const{authenticatedUserProfile:e,formatter:t}=this.props,i={firstName:e.firstName,lastName:e.lastName??""}
return new n.default({profile:e,altText:t.formatName(i,"full")})}}e.default=i}))
define("msg-overlay/viewdata/sdk-conversation-bubble-header-controls-viewdata",["exports","msg-data/viewdata","msg-shared-modals/viewdata/sdk-conversation-header-dropdown-menu-viewdata","msg-ui/viewdata/sdk-virtual-meeting-cta-viewdata"],(function(e,t,n,i){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class a extends t.default{get conversationName(){return this.props.conversation.title}get participantNames(){return this.props.participants.map((e=>({firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,maidenName:null==e?void 0:e.maidenName})))}get showDropdownMenu(){var e
return!(null===(e=this.props.conversation)||void 0===e||!e.entityUrn)}get virtualMeetingCtaViewData(){const{conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:a}=this.props
return new i.default({conversation:e,authenticatedUserProfile:t,msgDataManager:n,participants:a})}get conversationHeaderDropdownMenuViewData(){return new n.default({conversation:this.props.conversation,authenticatedUserProfile:this.props.authenticatedUserProfile,participants:this.props.participants,i18n:this.props.i18n,formatter:this.props.formatter,presenceAPI:this.props.presenceAPI,isInteractiveMessagingComponent:!1})}}e.default=a}))
define("msg-overlay/viewdata/sdk-conversation-bubble-header-viewdata",["exports","global-helpers/helpers/urn-to-id","msg-data/viewdata","msg-shared/helpers/is-company-profile","msg-data/utils/sdk-view-data-helpers","urn-utils","msg-ui/viewdata/sdk-conversation-entity-viewdata","msg-overlay/viewdata/sdk-conversation-bubble-header-controls-viewdata"],(function(e,t,n,i,a,o,r,s){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
const l="components/msg-overlay@conversation-bubble-header-feature"
class c extends n.default{get shouldShowHeader(){const{conversation:e}=this.props
return void 0!==e}get participants(){const{conversation:e}=this.props
return null!=e&&e.participants?e.participants.map((e=>this.props.participantStateMap[e])).filter((e=>!!e)):[]}get hasParticipants(){return!!this.participants.length}get isGroupChat(){const{conversation:e}=this.props
return!!e&&e.groupChat}get conversationName(){const{conversation:e}=this.props
return e?e.title:null}get latestEvent(){const{conversation:e,msgDataManager:t}=this.props
return e&&(0,a.getLatestMessage)(e,t)}get messageRecipient(){const{messageRecipients:e}=this.props
return e?e[0]:void 0}get messageRecipientId(){const{messageRecipient:e}=this
return e?e.publicIdentifier:""}get messageRecipientFirstName(){const{messageRecipient:e}=this
return e?e.firstName:null}get messageRecipientLastName(){const{messageRecipient:e}=this
return e?e.lastName:null}get oneToOneParticipantPublicProfileId(){var e,t
const n=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)
return n.length?(null===(e=n[0])||void 0===e||null===(t=e.profile)||void 0===t?void 0:t.url)??"UNKNOWN":"UNKNOWN"}get pageUrl(){var e
return null===(e=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)[0])||void 0===e?void 0:e.pageUrl}get pageName(){var e,t
return null===(e=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)[0])||void 0===e||null===(t=e.name)||void 0===t?void 0:t.text}get isCompanyRecipient(){var e
const{messageRecipient:t}=this,n=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)
return 0!==n.length&&(!!(t&&(0,i.isCompanyProfile)(t)||(null===(e=n[0])||void 0===e?void 0:e.kind)===a.PARTICIPANT_TYPES.ORGANIZATION)||!!(0,a.isConversationWithAdvertiser)(this.props.conversation))}get participantNames(){const{conversation:e}=this.props
if(e)return(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile,(0,a.isConversationWithAdvertiser)(e)).map((e=>{var t
return"MEMBER"===e.kind?{firstName:null==e?void 0:e.firstName,lastName:null==e?void 0:e.lastName,maidenName:null==e?void 0:e.maidenName}:{firstName:(null===(t=e.name)||void 0===t?void 0:t.text)??"",lastName:""}}))}get participantNamesWithSelf(){return(0,a.participantNamesWithSelf)(this.participants,this.props.authenticatedUserProfile,!0,this.props.i18n)}get recipientProfileId(){var e
const t=(0,a.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile)
return t?(0,o.extractEntityInfoFromUrn)(null===(e=t[0])||void 0===e?void 0:e.hostIdentityUrn).id:null}get companyRecipientId(){var e
const{participants:n}=this
return n&&void 0!==(null===(e=n[0])||void 0===e?void 0:e.entityUrn)?(0,t.urnToId)(n[0].entityUrn):null}get hasPresenceInformation(){return(0,a.shouldShowPresenceInformationForConversation)(this.props.conversation,this.props.msgDataManager,this.props.authenticatedUserProfile)}get existingGroupParticipantsTitle(){const{conversation:e,i18n:t}=this.props
if(!e)return null
const{participants:n}=this
let i
i=e.title?1===n.length?t.lookupTranslation(l,"i18n_just_you")():t.lookupTranslation(l,"i18n_participant_familiar")([{names:this.participantNamesWithSelf}]):t.lookupTranslation(l,"i18n_num_participants_in_group_conversation")([{count:this.participants.length}])
return i}get creatorProfileViewEnabled(){const{conversation:e}=this.props
return(0,a.isConversationFeatureSupported)(e,"VIEW_CREATOR_PROFILE")}get conversationEntityViewData(){const{conversation:e,formatter:t,authenticatedUserProfile:n,msgDataManager:i}=this.props
return new r.default({conversation:e,participants:this.participants,latestMessage:this.latestEvent,authenticatedUserMiniProfile:n,msgDataManager:i,formatter:t})}get conversationBubbleHeaderControlsViewData(){return new s.default({conversation:this.props.conversation,participants:this.participants,msgDataManager:this.msgDataManager,i18n:this.props.i18n,formatter:this.props.formatter,authenticatedUserProfile:this.props.authenticatedUserProfile,presenceAPI:this.props.presenceAPI})}}e.default=c}))
define("msg-overlay/viewdata/sdk-conversation-bubble-viewdata",["exports","msg-data/viewdata","msg-data/utils/sdk-view-data-helpers","msg-data/utils/urn-id-helpers","msg-spinmail/viewdata/sdk-sponsored-conversation-thread-viewdata","msg-spinmail-data/utils/sponsored-conversation-properties","msg-spinmail/viewdata/sdk-spinmail-thread-viewdata","msg-shared/utils/custom-tracking","msg-shared/utils/view-data-helpers"],(function(e,t,n,i,a,o,r,s,l){"use strict"
Object.defineProperty(e,"__esModule",{value:!0})
e.default=void 0
class c extends t.default{get participants(){var e
return(null===(e=this.props.conversation)||void 0===e?void 0:e.decoratedParticipants)??[]}get latestMessage(){var e
return null===(e=this.props.conversation.messages)||void 0===e?void 0:e.last()}get isUnread(){return!this.props.conversation.read}get isCompanyProfile(){return(0,n.isConversationWithCompany)(this.props.conversation,this.props.authenticatedUserProfile)}get conversationUrn(){return this.props.conversation.entityUrn}get hostConversationUrn(){return`urn:li:fs_conversation:${(0,i.extractMailboxAndConversationId)(this.conversationUrn).conversationId}`}get conversationId(){const{conversation:e}=this.props
return e&&e.entityUrn?(0,i.extractMailboxAndConversationId)(e.entityUrn).conversationId:null}get isVideoMeetingEnabled(){return this.props.conversation&&(0,n.isConversationFeatureSupported)(this.props.conversation,"REPLY")}get isConversationWithAdvertiser(){return this.props.conversation&&(0,n.isConversationWithAdvertiser)(this.props.conversation)}get isInMailOrInMailReply(){return this.props.conversation&&(0,n.isInMailConversation)(this.props.conversation)}get isSponsoredConversation(){return this.props.conversation&&(0,n.isSponsoredConversation)(this.props.conversation)}get isSponsoredInMail(){return this.props.conversation&&(0,n.isSponsoredInMail)(this.props.conversation)}get enableReportingSponsoredConversation(){const{conversation:e}=this.props
return!!e&&((0,o.enableReportingSponsoredMessage)(e)||(0,o.enableReportingSponsoredInMail)(e))}get nonSelfParticipantUrns(){return(0,n.getNonSelfParticipants)(this.participants,this.props.authenticatedUserProfile).map((e=>e.hostIdentityUrn))}get hasInitialFetch(){return!!this.props.conversation.messages.length}get isGroupChat(){return this.props.conversation.groupChat}get isMuted(){return"MUTE"===this.props.conversation.notificationStatus}get conversationBackendUrn(){return this.props.conversation.backendUrn}get participantTrackingUrns(){const{participants:e}=this
return e?(0,s.getParticipantTrackingUrns)(e,!0):[]}get recipientObjectUrns(){var e
return null===(e=this.props.messageRecipients)||void 0===e?void 0:e.filter((e=>e.objectUrn)).map((e=>e.objectUrn))}get recipientUrns(){var e
return null===(e=this.props.messageRecipients)||void 0===e?void 0:e.map((e=>(0,l.getProfileDashUrn)(e)))}get sponsoredCreativeUrn(){var e,t,n,i
return null===(e=this.props.conversation)||void 0===e||null===(t=e.contentMetadata)||void 0===t||null===(n=t.conversationAdContent)||void 0===n||null===(i=n.creativeAdsReportingInfo)||void 0===i?void 0:i.sponsoredCreativeUrn}get inboxType(){var e,t
const{conversation:n}=this.props
return n?null!==(e=n.categories)&&void 0!==e&&e.includes("PRIMARY_INBOX")?"PRIMARY":null!==(t=n.categories)&&void 0!==t&&t.includes("SECONDARY_INBOX")?"SECONDARY":null:null}get spinmailThreadViewData(){return new r.default({conversation:this.props.conversation,msgDataManager:this.props.msgDataManager,authenticatedUserProfile:this.props.authenticatedUserProfile,presenceAPI:this.props.presenceAPI,isLgfDashMigrationEnabled:this.props.isLgfDashMigrationEnabled,graphql:this.props.graphql})}get sponsoredConversationThreadViewData(){const{conversation:e,msgDataManager:t,presenceAPI:n}=this.props
return new a.default({conversation:e,msgDataManager:t,presenceAPI:n,authenticatedUserProfile:this.props.authenticatedUserProfile})}}e.default=c}))

//# sourceMappingURL=engine.map