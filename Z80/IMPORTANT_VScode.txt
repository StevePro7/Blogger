IMPORTANT VS code
09/12/2020

Here is how to setup VS Code and Emulicious debugger on Linux


Install VS Code
TODO
get link from previous


Install Emulicious on Linux


Launch VS Code
install the following extensions

ASM Code Lens
Z80 Assembly
Z80 Macro Assembler

Emulicious debugger
https://marketplace.visualstudio.com/items?itemName=emulicious.emulicious-debugger


Setup wla-dx
TODO
instructions here
wla-dx.txt


Launch VS code
Open HelloWorld
main.asm


Add COMPILE.SH
clear

wla-z80 main.asm

echo [objects] > linkfile
echo main.o >> linkfile

wlalink linkfile output.sms

java -jar ~/SEGA/Emulicious/Emulicious.jar output.sms


chmod +x compile.sh


In VS Code
New terminal
./compile.sh


should be assemble + run output.sms


DEBUG
click the run button
add launch.json file

Emulicious debugger

launch.json
{
    // Use IntelliSense to learn about possible attributes.
    // Hover to view descriptions of existing attributes.
    // For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387
    "version": "0.2.0",
    "configurations": [
        {
            "type": "emulicious-debugger",
            "request": "launch",
            "name": "Launch in Emulicious",
            "program": "${workspaceFolder}/main.asm",
            "port": 58870,
            "stopOnEntry": true
        }
    ]
}



IMPORTANT
must launch Emulicious first
Tools | Remote Debugging | Enabled

F5 run

Set breakpoint
now should launch main.asm using Emulicious debugger and break at breakpoint